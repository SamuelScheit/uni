var X1=Object.defineProperty;var G1=(t,e,r)=>e in t?X1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var xt=(t,e,r)=>(G1(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ns={},Z1={get exports(){return ns},set exports(t){ns=t}},Js={},Ai={},Q1={get exports(){return Ai},set exports(t){Ai=t}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ra=Symbol.for("react.element"),Y1=Symbol.for("react.portal"),ef=Symbol.for("react.fragment"),tf=Symbol.for("react.strict_mode"),rf=Symbol.for("react.profiler"),nf=Symbol.for("react.provider"),of=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),sf=Symbol.for("react.suspense"),lf=Symbol.for("react.memo"),uf=Symbol.for("react.lazy"),Ic=Symbol.iterator;function cf(t){return t===null||typeof t!="object"?null:(t=Ic&&t[Ic]||t["@@iterator"],typeof t=="function"?t:null)}var Ip={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jp=Object.assign,Vp={};function Fi(t,e,r){this.props=t,this.context=e,this.refs=Vp,this.updater=r||Ip}Fi.prototype.isReactComponent={};Fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hp(){}Hp.prototype=Fi.prototype;function F0(t,e,r){this.props=t,this.context=e,this.refs=Vp,this.updater=r||Ip}var R0=F0.prototype=new Hp;R0.constructor=F0;jp(R0,Fi.prototype);R0.isPureReactComponent=!0;var jc=Array.isArray,Up=Object.prototype.hasOwnProperty,q0={current:null},Wp={key:!0,ref:!0,__self:!0,__source:!0};function Jp(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Up.call(e,n)&&!Wp.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:ra,type:t,key:o,ref:a,props:i,_owner:q0.current}}function df(t,e){return{$$typeof:ra,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function I0(t){return typeof t=="object"&&t!==null&&t.$$typeof===ra}function pf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Vc=/\/+/g;function Ll(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pf(""+t.key):e.toString(36)}function Oa(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ra:case Y1:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Ll(a,0):n,jc(i)?(r="",t!=null&&(r=t.replace(Vc,"$&/")+"/"),Oa(i,e,r,"",function(u){return u})):i!=null&&(I0(i)&&(i=df(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Vc,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",jc(t))for(var s=0;s<t.length;s++){o=t[s];var l=n+Ll(o,s);a+=Oa(o,e,r,l,i)}else if(l=cf(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=n+Ll(o,s++),a+=Oa(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ca(t,e,r){if(t==null)return t;var n=[],i=0;return Oa(t,n,"","",function(o){return e.call(r,o,i++)}),n}function hf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bt={current:null},Ka={transition:null},mf={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:Ka,ReactCurrentOwner:q0};G.Children={map:ca,forEach:function(t,e,r){ca(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ca(t,function(){e++}),e},toArray:function(t){return ca(t,function(e){return e})||[]},only:function(t){if(!I0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Fi;G.Fragment=ef;G.Profiler=rf;G.PureComponent=F0;G.StrictMode=tf;G.Suspense=sf;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mf;G.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=jp({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=q0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Up.call(e,l)&&!Wp.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:ra,type:t.type,key:i,ref:o,props:n,_owner:a}};G.createContext=function(t){return t={$$typeof:of,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nf,_context:t},t.Consumer=t};G.createElement=Jp;G.createFactory=function(t){var e=Jp.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:af,render:t}};G.isValidElement=I0;G.lazy=function(t){return{$$typeof:uf,_payload:{_status:-1,_result:t},_init:hf}};G.memo=function(t,e){return{$$typeof:lf,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Ka.transition;Ka.transition={};try{t()}finally{Ka.transition=e}};G.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};G.useCallback=function(t,e){return bt.current.useCallback(t,e)};G.useContext=function(t){return bt.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return bt.current.useDeferredValue(t)};G.useEffect=function(t,e){return bt.current.useEffect(t,e)};G.useId=function(){return bt.current.useId()};G.useImperativeHandle=function(t,e,r){return bt.current.useImperativeHandle(t,e,r)};G.useInsertionEffect=function(t,e){return bt.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return bt.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return bt.current.useMemo(t,e)};G.useReducer=function(t,e,r){return bt.current.useReducer(t,e,r)};G.useRef=function(t){return bt.current.useRef(t)};G.useState=function(t){return bt.current.useState(t)};G.useSyncExternalStore=function(t,e,r){return bt.current.useSyncExternalStore(t,e,r)};G.useTransition=function(){return bt.current.useTransition()};G.version="18.2.0";(function(t){t.exports=G})(Q1);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=Ai,yf=Symbol.for("react.element"),gf=Symbol.for("react.fragment"),bf=Object.prototype.hasOwnProperty,vf=ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xf={key:!0,ref:!0,__self:!0,__source:!0};function Xp(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)bf.call(e,n)&&!xf.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:yf,type:t,key:o,ref:a,props:i,_owner:vf.current}}Js.Fragment=gf;Js.jsx=Xp;Js.jsxs=Xp;(function(t){t.exports=Js})(Z1);const Fe=ns.jsx,Yr=ns.jsxs;var vu={},xu={},kf={get exports(){return xu},set exports(t){xu=t}},Kt={},ku={},wf={get exports(){return ku},set exports(t){ku=t}},Gp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,O){var L=E.length;E.push(O);e:for(;0<L;){var ee=L-1>>>1,Q=E[ee];if(0<i(Q,O))E[ee]=O,E[L]=Q,L=ee;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var O=E[0],L=E.pop();if(L!==O){E[0]=L;e:for(var ee=0,Q=E.length,ce=Q>>>1;ee<ce;){var _e=2*(ee+1)-1,Rr=E[_e],ur=_e+1,cr=E[ur];if(0>i(Rr,L))ur<Q&&0>i(cr,Rr)?(E[ee]=cr,E[ur]=L,ee=ur):(E[ee]=Rr,E[_e]=L,ee=_e);else if(ur<Q&&0>i(cr,L))E[ee]=cr,E[ur]=L,ee=ur;else break e}}return O}function i(E,O){var L=E.sortIndex-O.sortIndex;return L!==0?L:E.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,p=3,f=!1,g=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(E){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=E)n(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=r(u)}}function h(E){if(v=!1,m(E),!g)if(r(l)!==null)g=!0,Z(w);else{var O=r(u);O!==null&&J(h,O.startTime-E)}}function w(E,O){g=!1,v&&(v=!1,b(M),M=-1),f=!0;var L=p;try{for(m(O),d=r(l);d!==null&&(!(d.expirationTime>O)||E&&!F());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var Q=ee(d.expirationTime<=O);O=t.unstable_now(),typeof Q=="function"?d.callback=Q:d===r(l)&&n(l),m(O)}else n(l);d=r(l)}if(d!==null)var ce=!0;else{var _e=r(u);_e!==null&&J(h,_e.startTime-O),ce=!1}return ce}finally{d=null,p=L,f=!1}}var x=!1,S=null,M=-1,D=5,A=-1;function F(){return!(t.unstable_now()-A<D)}function H(){if(S!==null){var E=t.unstable_now();A=E;var O=!0;try{O=S(!0,E)}finally{O?Ve():(x=!1,S=null)}}else x=!1}var Ve;if(typeof y=="function")Ve=function(){y(H)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,Ne=ct.port2;ct.port1.onmessage=H,Ve=function(){Ne.postMessage(null)}}else Ve=function(){k(H,0)};function Z(E){S=E,x||(x=!0,Ve())}function J(E,O){M=k(function(){E(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,Z(w))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(E){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var L=p;p=O;try{return E()}finally{p=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,O){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var L=p;p=E;try{return O()}finally{p=L}},t.unstable_scheduleCallback=function(E,O,L){var ee=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?ee+L:ee):L=ee,E){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=L+Q,E={id:c++,callback:O,priorityLevel:E,startTime:L,expirationTime:Q,sortIndex:-1},L>ee?(E.sortIndex=L,e(u,E),r(l)===null&&E===r(u)&&(v?(b(M),M=-1):v=!0,J(h,L-ee))):(E.sortIndex=Q,e(l,E),g||f||(g=!0,Z(w))),E},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(E){var O=p;return function(){var L=p;p=O;try{return E.apply(this,arguments)}finally{p=L}}}})(Gp);(function(t){t.exports=Gp})(wf);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp=Ai,Ot=ku;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qp=new Set,Eo={};function Jn(t,e){Ti(t,e),Ti(t+"Capture",e)}function Ti(t,e){for(Eo[t]=e,t=0;t<e.length;t++)Qp.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wu=Object.prototype.hasOwnProperty,_f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hc={},Uc={};function Sf(t){return wu.call(Uc,t)?!0:wu.call(Hc,t)?!1:_f.test(t)?Uc[t]=!0:(Hc[t]=!0,!1)}function Mf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lf(t,e,r,n){if(e===null||typeof e>"u"||Mf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var j0=/[\-:]([a-z])/g;function V0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(j0,V0);it[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(j0,V0);it[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(j0,V0);it[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function H0(t,e,r,n){var i=it.hasOwnProperty(e)?it[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lf(e,r,i,n)&&(r=null),n||i===null?Sf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Kr=Zp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,da=Symbol.for("react.element"),ai=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),U0=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),Yp=Symbol.for("react.provider"),eh=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),Su=Symbol.for("react.suspense"),Mu=Symbol.for("react.suspense_list"),J0=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),th=Symbol.for("react.offscreen"),Wc=Symbol.iterator;function Wi(t){return t===null||typeof t!="object"?null:(t=Wc&&t[Wc]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Cl;function lo(t){if(Cl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Cl=e&&e[1]||""}return`
`+Cl+t}var zl=!1;function Al(t,e){if(!t||zl)return"";zl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{zl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?lo(t):""}function Cf(t){switch(t.tag){case 5:return lo(t.type);case 16:return lo("Lazy");case 13:return lo("Suspense");case 19:return lo("SuspenseList");case 0:case 2:case 15:return t=Al(t.type,!1),t;case 11:return t=Al(t.type.render,!1),t;case 1:return t=Al(t.type,!0),t;default:return""}}function Lu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case si:return"Fragment";case ai:return"Portal";case _u:return"Profiler";case U0:return"StrictMode";case Su:return"Suspense";case Mu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eh:return(t.displayName||"Context")+".Consumer";case Yp:return(t._context.displayName||"Context")+".Provider";case W0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J0:return e=t.displayName||null,e!==null?e:Lu(t.type)||"Memo";case Vr:e=t._payload,t=t._init;try{return Lu(t(e))}catch{}}return null}function zf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lu(e);case 8:return e===U0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Af(t){var e=rh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pa(t){t._valueTracker||(t._valueTracker=Af(t))}function nh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=rh(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function is(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cu(t,e){var r=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Jc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=yn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ih(t,e){e=e.checked,e!=null&&H0(t,"checked",e,!1)}function zu(t,e){ih(t,e);var r=yn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Au(t,e.type,r):e.hasOwnProperty("defaultValue")&&Au(t,e.type,yn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Au(t,e,r){(e!=="number"||is(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var uo=Array.isArray;function xi(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+yn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Tu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(N(92));if(uo(r)){if(1<r.length)throw Error(N(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:yn(r)}}function oh(t,e){var r=yn(e.value),n=yn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Zc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ah(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Du(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ah(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ha,sh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ha.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $o(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tf=["Webkit","ms","Moz","O"];Object.keys(yo).forEach(function(t){Tf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yo[e]=yo[t]})});function lh(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||yo.hasOwnProperty(t)&&yo[t]?(""+e).trim():e+"px"}function uh(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=lh(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Df=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eu(t,e){if(e){if(Df[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function $u(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=null;function X0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nu=null,ki=null,wi=null;function Qc(t){if(t=oa(t)){if(typeof Nu!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Ys(e),Nu(t.stateNode,t.type,e))}}function ch(t){ki?wi?wi.push(t):wi=[t]:ki=t}function dh(){if(ki){var t=ki,e=wi;if(wi=ki=null,Qc(t),e)for(t=0;t<e.length;t++)Qc(e[t])}}function ph(t,e){return t(e)}function hh(){}var Tl=!1;function mh(t,e,r){if(Tl)return t(e,r);Tl=!0;try{return ph(t,e,r)}finally{Tl=!1,(ki!==null||wi!==null)&&(hh(),dh())}}function Bo(t,e){var r=t.stateNode;if(r===null)return null;var n=Ys(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(N(231,e,typeof r));return r}var Pu=!1;if($r)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){Pu=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{Pu=!1}function Ef(t,e,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var go=!1,os=null,as=!1,Ou=null,$f={onError:function(t){go=!0,os=t}};function Bf(t,e,r,n,i,o,a,s,l){go=!1,os=null,Ef.apply($f,arguments)}function Nf(t,e,r,n,i,o,a,s,l){if(Bf.apply(this,arguments),go){if(go){var u=os;go=!1,os=null}else throw Error(N(198));as||(as=!0,Ou=u)}}function Xn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function fh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yc(t){if(Xn(t)!==t)throw Error(N(188))}function Pf(t){var e=t.alternate;if(!e){if(e=Xn(t),e===null)throw Error(N(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Yc(i),t;if(o===n)return Yc(i),e;o=o.sibling}throw Error(N(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?t:e}function yh(t){return t=Pf(t),t!==null?gh(t):null}function gh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gh(t);if(e!==null)return e;t=t.sibling}return null}var bh=Ot.unstable_scheduleCallback,ed=Ot.unstable_cancelCallback,Of=Ot.unstable_shouldYield,Kf=Ot.unstable_requestPaint,Be=Ot.unstable_now,Ff=Ot.unstable_getCurrentPriorityLevel,G0=Ot.unstable_ImmediatePriority,vh=Ot.unstable_UserBlockingPriority,ss=Ot.unstable_NormalPriority,Rf=Ot.unstable_LowPriority,xh=Ot.unstable_IdlePriority,Xs=null,gr=null;function qf(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Xs,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:Vf,If=Math.log,jf=Math.LN2;function Vf(t){return t>>>=0,t===0?32:31-(If(t)/jf|0)|0}var ma=64,fa=4194304;function co(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ls(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=co(s):(o&=a,o!==0&&(n=co(o)))}else a=r&~i,a!==0?n=co(a):o!==0&&(n=co(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-or(e),i=1<<r,n|=t[r],e&=~i;return n}function Hf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-or(o),s=1<<a,l=i[a];l===-1?(!(s&r)||s&n)&&(i[a]=Hf(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Ku(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kh(){var t=ma;return ma<<=1,!(ma&4194240)&&(ma=64),t}function Dl(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function na(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=r}function Wf(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-or(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function Z0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-or(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ie=0;function wh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _h,Q0,Sh,Mh,Lh,Fu=!1,ya=[],sn=null,ln=null,un=null,No=new Map,Po=new Map,Jr=[],Jf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function td(t,e){switch(t){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":No.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(e.pointerId)}}function Xi(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=oa(e),e!==null&&Q0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Xf(t,e,r,n,i){switch(e){case"focusin":return sn=Xi(sn,t,e,r,n,i),!0;case"dragenter":return ln=Xi(ln,t,e,r,n,i),!0;case"mouseover":return un=Xi(un,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return No.set(o,Xi(No.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Po.set(o,Xi(Po.get(o)||null,t,e,r,n,i)),!0}return!1}function Ch(t){var e=Dn(t.target);if(e!==null){var r=Xn(e);if(r!==null){if(e=r.tag,e===13){if(e=fh(r),e!==null){t.blockedOn=e,Lh(t.priority,function(){Sh(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ru(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Bu=n,r.target.dispatchEvent(n),Bu=null}else return e=oa(r),e!==null&&Q0(e),t.blockedOn=r,!1;e.shift()}return!0}function rd(t,e,r){Fa(t)&&r.delete(e)}function Gf(){Fu=!1,sn!==null&&Fa(sn)&&(sn=null),ln!==null&&Fa(ln)&&(ln=null),un!==null&&Fa(un)&&(un=null),No.forEach(rd),Po.forEach(rd)}function Gi(t,e){t.blockedOn===e&&(t.blockedOn=null,Fu||(Fu=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,Gf)))}function Oo(t){function e(i){return Gi(i,t)}if(0<ya.length){Gi(ya[0],t);for(var r=1;r<ya.length;r++){var n=ya[r];n.blockedOn===t&&(n.blockedOn=null)}}for(sn!==null&&Gi(sn,t),ln!==null&&Gi(ln,t),un!==null&&Gi(un,t),No.forEach(e),Po.forEach(e),r=0;r<Jr.length;r++)n=Jr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Jr.length&&(r=Jr[0],r.blockedOn===null);)Ch(r),r.blockedOn===null&&Jr.shift()}var _i=Kr.ReactCurrentBatchConfig,us=!0;function Zf(t,e,r,n){var i=ie,o=_i.transition;_i.transition=null;try{ie=1,Y0(t,e,r,n)}finally{ie=i,_i.transition=o}}function Qf(t,e,r,n){var i=ie,o=_i.transition;_i.transition=null;try{ie=4,Y0(t,e,r,n)}finally{ie=i,_i.transition=o}}function Y0(t,e,r,n){if(us){var i=Ru(t,e,r,n);if(i===null)ql(t,e,n,cs,r),td(t,n);else if(Xf(i,t,e,r,n))n.stopPropagation();else if(td(t,n),e&4&&-1<Jf.indexOf(t)){for(;i!==null;){var o=oa(i);if(o!==null&&_h(o),o=Ru(t,e,r,n),o===null&&ql(t,e,n,cs,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else ql(t,e,n,null,r)}}var cs=null;function Ru(t,e,r,n){if(cs=null,t=X0(n),t=Dn(t),t!==null)if(e=Xn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=fh(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cs=t,null}function zh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ff()){case G0:return 1;case vh:return 4;case ss:case Rf:return 16;case xh:return 536870912;default:return 16}default:return 16}}var en=null,ec=null,Ra=null;function Ah(){if(Ra)return Ra;var t,e=ec,r=e.length,n,i="value"in en?en.value:en.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return Ra=i.slice(t,1<n?1-n:void 0)}function qa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ga(){return!0}function nd(){return!1}function Ft(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ga:nd,this.isPropagationStopped=nd,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ga)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ga)},persist:function(){},isPersistent:ga}),e}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=Ft(Ri),ia=Le({},Ri,{view:0,detail:0}),Yf=Ft(ia),El,$l,Zi,Gs=Le({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zi&&(Zi&&t.type==="mousemove"?(El=t.screenX-Zi.screenX,$l=t.screenY-Zi.screenY):$l=El=0,Zi=t),El)},movementY:function(t){return"movementY"in t?t.movementY:$l}}),id=Ft(Gs),e4=Le({},Gs,{dataTransfer:0}),t4=Ft(e4),r4=Le({},ia,{relatedTarget:0}),Bl=Ft(r4),n4=Le({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),i4=Ft(n4),o4=Le({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),a4=Ft(o4),s4=Le({},Ri,{data:0}),od=Ft(s4),l4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=c4[t])?!!e[t]:!1}function rc(){return d4}var p4=Le({},ia,{key:function(t){if(t.key){var e=l4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?u4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(t){return t.type==="keypress"?qa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),h4=Ft(p4),m4=Le({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ad=Ft(m4),f4=Le({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),y4=Ft(f4),g4=Le({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),b4=Ft(g4),v4=Le({},Gs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x4=Ft(v4),k4=[9,13,27,32],nc=$r&&"CompositionEvent"in window,bo=null;$r&&"documentMode"in document&&(bo=document.documentMode);var w4=$r&&"TextEvent"in window&&!bo,Th=$r&&(!nc||bo&&8<bo&&11>=bo),sd=String.fromCharCode(32),ld=!1;function Dh(t,e){switch(t){case"keyup":return k4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var li=!1;function _4(t,e){switch(t){case"compositionend":return Eh(e);case"keypress":return e.which!==32?null:(ld=!0,sd);case"textInput":return t=e.data,t===sd&&ld?null:t;default:return null}}function S4(t,e){if(li)return t==="compositionend"||!nc&&Dh(t,e)?(t=Ah(),Ra=ec=en=null,li=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Th&&e.locale!=="ko"?null:e.data;default:return null}}var M4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ud(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!M4[t.type]:e==="textarea"}function $h(t,e,r,n){ch(n),e=ds(e,"onChange"),0<e.length&&(r=new tc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var vo=null,Ko=null;function L4(t){Vh(t,0)}function Zs(t){var e=di(t);if(nh(e))return t}function C4(t,e){if(t==="change")return e}var Bh=!1;if($r){var Nl;if($r){var Pl="oninput"in document;if(!Pl){var cd=document.createElement("div");cd.setAttribute("oninput","return;"),Pl=typeof cd.oninput=="function"}Nl=Pl}else Nl=!1;Bh=Nl&&(!document.documentMode||9<document.documentMode)}function dd(){vo&&(vo.detachEvent("onpropertychange",Nh),Ko=vo=null)}function Nh(t){if(t.propertyName==="value"&&Zs(Ko)){var e=[];$h(e,Ko,t,X0(t)),mh(L4,e)}}function z4(t,e,r){t==="focusin"?(dd(),vo=e,Ko=r,vo.attachEvent("onpropertychange",Nh)):t==="focusout"&&dd()}function A4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zs(Ko)}function T4(t,e){if(t==="click")return Zs(e)}function D4(t,e){if(t==="input"||t==="change")return Zs(e)}function E4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:E4;function Fo(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!wu.call(e,i)||!lr(t[i],e[i]))return!1}return!0}function pd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hd(t,e){var r=pd(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pd(r)}}function Ph(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ph(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Oh(){for(var t=window,e=is();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=is(t.document)}return e}function ic(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $4(t){var e=Oh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Ph(r.ownerDocument.documentElement,r)){if(n!==null&&ic(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=hd(r,o);var a=hd(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var B4=$r&&"documentMode"in document&&11>=document.documentMode,ui=null,qu=null,xo=null,Iu=!1;function md(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Iu||ui==null||ui!==is(n)||(n=ui,"selectionStart"in n&&ic(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xo&&Fo(xo,n)||(xo=n,n=ds(qu,"onSelect"),0<n.length&&(e=new tc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ui)))}function ba(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ci={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},Ol={},Kh={};$r&&(Kh=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function Qs(t){if(Ol[t])return Ol[t];if(!ci[t])return t;var e=ci[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Kh)return Ol[t]=e[r];return t}var Fh=Qs("animationend"),Rh=Qs("animationiteration"),qh=Qs("animationstart"),Ih=Qs("transitionend"),jh=new Map,fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(t,e){jh.set(t,e),Jn(e,[t])}for(var Kl=0;Kl<fd.length;Kl++){var Fl=fd[Kl],N4=Fl.toLowerCase(),P4=Fl[0].toUpperCase()+Fl.slice(1);wn(N4,"on"+P4)}wn(Fh,"onAnimationEnd");wn(Rh,"onAnimationIteration");wn(qh,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(Ih,"onTransitionEnd");Ti("onMouseEnter",["mouseout","mouseover"]);Ti("onMouseLeave",["mouseout","mouseover"]);Ti("onPointerEnter",["pointerout","pointerover"]);Ti("onPointerLeave",["pointerout","pointerover"]);Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O4=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function yd(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Nf(n,e,void 0,t),t.currentTarget=null}function Vh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;yd(i,s,u),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;yd(i,s,u),o=l}}}if(as)throw t=Ou,as=!1,Ou=null,t}function me(t,e){var r=e[Wu];r===void 0&&(r=e[Wu]=new Set);var n=t+"__bubble";r.has(n)||(Hh(e,t,2,!1),r.add(n))}function Rl(t,e,r){var n=0;e&&(n|=4),Hh(r,t,n,e)}var va="_reactListening"+Math.random().toString(36).slice(2);function Ro(t){if(!t[va]){t[va]=!0,Qp.forEach(function(r){r!=="selectionchange"&&(O4.has(r)||Rl(r,!1,t),Rl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[va]||(e[va]=!0,Rl("selectionchange",!1,e))}}function Hh(t,e,r,n){switch(zh(e)){case 1:var i=Zf;break;case 4:i=Qf;break;default:i=Y0}r=i.bind(null,e,r,t),i=void 0,!Pu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function ql(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Dn(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}mh(function(){var u=o,c=X0(r),d=[];e:{var p=jh.get(t);if(p!==void 0){var f=tc,g=t;switch(t){case"keypress":if(qa(r)===0)break e;case"keydown":case"keyup":f=h4;break;case"focusin":g="focus",f=Bl;break;case"focusout":g="blur",f=Bl;break;case"beforeblur":case"afterblur":f=Bl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=t4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=y4;break;case Fh:case Rh:case qh:f=i4;break;case Ih:f=b4;break;case"scroll":f=Yf;break;case"wheel":f=x4;break;case"copy":case"cut":case"paste":f=a4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=ad}var v=(e&4)!==0,k=!v&&t==="scroll",b=v?p!==null?p+"Capture":null:p;v=[];for(var y=u,m;y!==null;){m=y;var h=m.stateNode;if(m.tag===5&&h!==null&&(m=h,b!==null&&(h=Bo(y,b),h!=null&&v.push(qo(y,h,m)))),k)break;y=y.return}0<v.length&&(p=new f(p,g,null,r,c),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&r!==Bu&&(g=r.relatedTarget||r.fromElement)&&(Dn(g)||g[Br]))break e;if((f||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=u,g=g?Dn(g):null,g!==null&&(k=Xn(g),g!==k||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(v=id,h="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=ad,h="onPointerLeave",b="onPointerEnter",y="pointer"),k=f==null?p:di(f),m=g==null?p:di(g),p=new v(h,y+"leave",f,r,c),p.target=k,p.relatedTarget=m,h=null,Dn(c)===u&&(v=new v(b,y+"enter",g,r,c),v.target=m,v.relatedTarget=k,h=v),k=h,f&&g)t:{for(v=f,b=g,y=0,m=v;m;m=Qn(m))y++;for(m=0,h=b;h;h=Qn(h))m++;for(;0<y-m;)v=Qn(v),y--;for(;0<m-y;)b=Qn(b),m--;for(;y--;){if(v===b||b!==null&&v===b.alternate)break t;v=Qn(v),b=Qn(b)}v=null}else v=null;f!==null&&gd(d,p,f,v,!1),g!==null&&k!==null&&gd(d,k,g,v,!0)}}e:{if(p=u?di(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var w=C4;else if(ud(p))if(Bh)w=D4;else{w=A4;var x=z4}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=T4);if(w&&(w=w(t,u))){$h(d,w,r,c);break e}x&&x(t,p,u),t==="focusout"&&(x=p._wrapperState)&&x.controlled&&p.type==="number"&&Au(p,"number",p.value)}switch(x=u?di(u):window,t){case"focusin":(ud(x)||x.contentEditable==="true")&&(ui=x,qu=u,xo=null);break;case"focusout":xo=qu=ui=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,md(d,r,c);break;case"selectionchange":if(B4)break;case"keydown":case"keyup":md(d,r,c)}var S;if(nc)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else li?Dh(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(Th&&r.locale!=="ko"&&(li||M!=="onCompositionStart"?M==="onCompositionEnd"&&li&&(S=Ah()):(en=c,ec="value"in en?en.value:en.textContent,li=!0)),x=ds(u,M),0<x.length&&(M=new od(M,t,null,r,c),d.push({event:M,listeners:x}),S?M.data=S:(S=Eh(r),S!==null&&(M.data=S)))),(S=w4?_4(t,r):S4(t,r))&&(u=ds(u,"onBeforeInput"),0<u.length&&(c=new od("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=S))}Vh(d,e)})}function qo(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ds(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bo(t,r),o!=null&&n.unshift(qo(t,o,i)),o=Bo(t,e),o!=null&&n.push(qo(t,o,i))),t=t.return}return n}function Qn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gd(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Bo(r,o),l!=null&&a.unshift(qo(r,l,s))):i||(l=Bo(r,o),l!=null&&a.push(qo(r,l,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var K4=/\r\n?/g,F4=/\u0000|\uFFFD/g;function bd(t){return(typeof t=="string"?t:""+t).replace(K4,`
`).replace(F4,"")}function xa(t,e,r){if(e=bd(e),bd(t)!==e&&r)throw Error(N(425))}function ps(){}var ju=null,Vu=null;function Hu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uu=typeof setTimeout=="function"?setTimeout:void 0,R4=typeof clearTimeout=="function"?clearTimeout:void 0,vd=typeof Promise=="function"?Promise:void 0,q4=typeof queueMicrotask=="function"?queueMicrotask:typeof vd<"u"?function(t){return vd.resolve(null).then(t).catch(I4)}:Uu;function I4(t){setTimeout(function(){throw t})}function Il(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Oo(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Oo(e)}function cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var qi=Math.random().toString(36).slice(2),yr="__reactFiber$"+qi,Io="__reactProps$"+qi,Br="__reactContainer$"+qi,Wu="__reactEvents$"+qi,j4="__reactListeners$"+qi,V4="__reactHandles$"+qi;function Dn(t){var e=t[yr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Br]||r[yr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=xd(t);t!==null;){if(r=t[yr])return r;t=xd(t)}return e}t=r,r=t.parentNode}return null}function oa(t){return t=t[yr]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function di(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Ys(t){return t[Io]||null}var Ju=[],pi=-1;function _n(t){return{current:t}}function ge(t){0>pi||(t.current=Ju[pi],Ju[pi]=null,pi--)}function he(t,e){pi++,Ju[pi]=t.current,t.current=e}var gn={},ut=_n(gn),Lt=_n(!1),qn=gn;function Di(t,e){var r=t.type.contextTypes;if(!r)return gn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ct(t){return t=t.childContextTypes,t!=null}function hs(){ge(Lt),ge(ut)}function kd(t,e,r){if(ut.current!==gn)throw Error(N(168));he(ut,e),he(Lt,r)}function Uh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(N(108,zf(t)||"Unknown",i));return Le({},r,n)}function ms(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gn,qn=ut.current,he(ut,t),he(Lt,Lt.current),!0}function wd(t,e,r){var n=t.stateNode;if(!n)throw Error(N(169));r?(t=Uh(t,e,qn),n.__reactInternalMemoizedMergedChildContext=t,ge(Lt),ge(ut),he(ut,t)):ge(Lt),he(Lt,r)}var _r=null,el=!1,jl=!1;function Wh(t){_r===null?_r=[t]:_r.push(t)}function H4(t){el=!0,Wh(t)}function Sn(){if(!jl&&_r!==null){jl=!0;var t=0,e=ie;try{var r=_r;for(ie=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}_r=null,el=!1}catch(i){throw _r!==null&&(_r=_r.slice(t+1)),bh(G0,Sn),i}finally{ie=e,jl=!1}}return null}var hi=[],mi=0,fs=null,ys=0,Vt=[],Ht=0,In=null,Lr=1,Cr="";function zn(t,e){hi[mi++]=ys,hi[mi++]=fs,fs=t,ys=e}function Jh(t,e,r){Vt[Ht++]=Lr,Vt[Ht++]=Cr,Vt[Ht++]=In,In=t;var n=Lr;t=Cr;var i=32-or(n)-1;n&=~(1<<i),r+=1;var o=32-or(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Lr=1<<32-or(e)+i|r<<i|n,Cr=o+t}else Lr=1<<o|r<<i|n,Cr=t}function oc(t){t.return!==null&&(zn(t,1),Jh(t,1,0))}function ac(t){for(;t===fs;)fs=hi[--mi],hi[mi]=null,ys=hi[--mi],hi[mi]=null;for(;t===In;)In=Vt[--Ht],Vt[Ht]=null,Cr=Vt[--Ht],Vt[Ht]=null,Lr=Vt[--Ht],Vt[Ht]=null}var Pt=null,Bt=null,ke=!1,nr=null;function Xh(t,e){var r=Wt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function _d(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pt=t,Bt=cn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pt=t,Bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=In!==null?{id:Lr,overflow:Cr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Wt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Pt=t,Bt=null,!0):!1;default:return!1}}function Xu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gu(t){if(ke){var e=Bt;if(e){var r=e;if(!_d(t,e)){if(Xu(t))throw Error(N(418));e=cn(r.nextSibling);var n=Pt;e&&_d(t,e)?Xh(n,r):(t.flags=t.flags&-4097|2,ke=!1,Pt=t)}}else{if(Xu(t))throw Error(N(418));t.flags=t.flags&-4097|2,ke=!1,Pt=t}}}function Sd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function ka(t){if(t!==Pt)return!1;if(!ke)return Sd(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hu(t.type,t.memoizedProps)),e&&(e=Bt)){if(Xu(t))throw Gh(),Error(N(418));for(;e;)Xh(t,e),e=cn(e.nextSibling)}if(Sd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Bt=cn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Bt=null}}else Bt=Pt?cn(t.stateNode.nextSibling):null;return!0}function Gh(){for(var t=Bt;t;)t=cn(t.nextSibling)}function Ei(){Bt=Pt=null,ke=!1}function sc(t){nr===null?nr=[t]:nr.push(t)}var U4=Kr.ReactCurrentBatchConfig;function tr(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var gs=_n(null),bs=null,fi=null,lc=null;function uc(){lc=fi=bs=null}function cc(t){var e=gs.current;ge(gs),t._currentValue=e}function Zu(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Si(t,e){bs=t,lc=fi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(lc!==t)if(t={context:t,memoizedValue:e,next:null},fi===null){if(bs===null)throw Error(N(308));fi=t,bs.dependencies={lanes:0,firstContext:t}}else fi=fi.next=t;return e}var En=null;function dc(t){En===null?En=[t]:En.push(t)}function Zh(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,dc(e)):(r.next=i.next,i.next=r),e.interleaved=r,Nr(t,n)}function Nr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Hr=!1;function pc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Nr(t,r)}return i=n.interleaved,i===null?(e.next=e,dc(n)):(e.next=i.next,i.next=e),n.interleaved=e,Nr(t,r)}function Ia(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Z0(t,r)}}function Md(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function vs(t,e,r,n){var i=t.updateQueue;Hr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var p=s.lane,f=s.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,v=s;switch(p=e,f=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(f,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(f,d,p):g,p==null)break e;d=Le({},d,p);break e;case 2:Hr=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Vn|=a,t.lanes=a,t.memoizedState=d}}function Ld(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(N(191,i));i.call(n)}}}var Yh=new Zp.Component().refs;function Qu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Le({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var tl={isMounted:function(t){return(t=t._reactInternals)?Xn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=gt(),i=hn(t),o=Ar(n,i);o.payload=e,r!=null&&(o.callback=r),e=dn(t,o,i),e!==null&&(ar(e,t,i,n),Ia(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=gt(),i=hn(t),o=Ar(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=dn(t,o,i),e!==null&&(ar(e,t,i,n),Ia(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=gt(),n=hn(t),i=Ar(r,n);i.tag=2,e!=null&&(i.callback=e),e=dn(t,i,n),e!==null&&(ar(e,t,n,r),Ia(e,t,n))}};function Cd(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!Fo(r,n)||!Fo(i,o):!0}function em(t,e,r){var n=!1,i=gn,o=e.contextType;return typeof o=="object"&&o!==null?o=Gt(o):(i=Ct(e)?qn:ut.current,n=e.contextTypes,o=(n=n!=null)?Di(t,i):gn),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function zd(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&tl.enqueueReplaceState(e,e.state,null)}function Yu(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=Yh,pc(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Gt(o):(o=Ct(e)?qn:ut.current,i.context=Di(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Qu(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tl.enqueueReplaceState(i,i.state,null),vs(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qi(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;s===Yh&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,t))}return t}function wa(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ad(t){var e=t._init;return e(t._payload)}function tm(t){function e(b,y){if(t){var m=b.deletions;m===null?(b.deletions=[y],b.flags|=16):m.push(y)}}function r(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=mn(b,y),b.index=0,b.sibling=null,b}function o(b,y,m){return b.index=m,t?(m=b.alternate,m!==null?(m=m.index,m<y?(b.flags|=2,y):m):(b.flags|=2,y)):(b.flags|=1048576,y)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,y,m,h){return y===null||y.tag!==6?(y=Gl(m,b.mode,h),y.return=b,y):(y=i(y,m),y.return=b,y)}function l(b,y,m,h){var w=m.type;return w===si?c(b,y,m.props.children,h,m.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Vr&&Ad(w)===y.type)?(h=i(y,m.props),h.ref=Qi(b,y,m),h.return=b,h):(h=Ja(m.type,m.key,m.props,null,b.mode,h),h.ref=Qi(b,y,m),h.return=b,h)}function u(b,y,m,h){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=Zl(m,b.mode,h),y.return=b,y):(y=i(y,m.children||[]),y.return=b,y)}function c(b,y,m,h,w){return y===null||y.tag!==7?(y=Kn(m,b.mode,h,w),y.return=b,y):(y=i(y,m),y.return=b,y)}function d(b,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Gl(""+y,b.mode,m),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case da:return m=Ja(y.type,y.key,y.props,null,b.mode,m),m.ref=Qi(b,null,y),m.return=b,m;case ai:return y=Zl(y,b.mode,m),y.return=b,y;case Vr:var h=y._init;return d(b,h(y._payload),m)}if(uo(y)||Wi(y))return y=Kn(y,b.mode,m,null),y.return=b,y;wa(b,y)}return null}function p(b,y,m,h){var w=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return w!==null?null:s(b,y,""+m,h);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case da:return m.key===w?l(b,y,m,h):null;case ai:return m.key===w?u(b,y,m,h):null;case Vr:return w=m._init,p(b,y,w(m._payload),h)}if(uo(m)||Wi(m))return w!==null?null:c(b,y,m,h,null);wa(b,m)}return null}function f(b,y,m,h,w){if(typeof h=="string"&&h!==""||typeof h=="number")return b=b.get(m)||null,s(y,b,""+h,w);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case da:return b=b.get(h.key===null?m:h.key)||null,l(y,b,h,w);case ai:return b=b.get(h.key===null?m:h.key)||null,u(y,b,h,w);case Vr:var x=h._init;return f(b,y,m,x(h._payload),w)}if(uo(h)||Wi(h))return b=b.get(m)||null,c(y,b,h,w,null);wa(y,h)}return null}function g(b,y,m,h){for(var w=null,x=null,S=y,M=y=0,D=null;S!==null&&M<m.length;M++){S.index>M?(D=S,S=null):D=S.sibling;var A=p(b,S,m[M],h);if(A===null){S===null&&(S=D);break}t&&S&&A.alternate===null&&e(b,S),y=o(A,y,M),x===null?w=A:x.sibling=A,x=A,S=D}if(M===m.length)return r(b,S),ke&&zn(b,M),w;if(S===null){for(;M<m.length;M++)S=d(b,m[M],h),S!==null&&(y=o(S,y,M),x===null?w=S:x.sibling=S,x=S);return ke&&zn(b,M),w}for(S=n(b,S);M<m.length;M++)D=f(S,b,M,m[M],h),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?M:D.key),y=o(D,y,M),x===null?w=D:x.sibling=D,x=D);return t&&S.forEach(function(F){return e(b,F)}),ke&&zn(b,M),w}function v(b,y,m,h){var w=Wi(m);if(typeof w!="function")throw Error(N(150));if(m=w.call(m),m==null)throw Error(N(151));for(var x=w=null,S=y,M=y=0,D=null,A=m.next();S!==null&&!A.done;M++,A=m.next()){S.index>M?(D=S,S=null):D=S.sibling;var F=p(b,S,A.value,h);if(F===null){S===null&&(S=D);break}t&&S&&F.alternate===null&&e(b,S),y=o(F,y,M),x===null?w=F:x.sibling=F,x=F,S=D}if(A.done)return r(b,S),ke&&zn(b,M),w;if(S===null){for(;!A.done;M++,A=m.next())A=d(b,A.value,h),A!==null&&(y=o(A,y,M),x===null?w=A:x.sibling=A,x=A);return ke&&zn(b,M),w}for(S=n(b,S);!A.done;M++,A=m.next())A=f(S,b,M,A.value,h),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?M:A.key),y=o(A,y,M),x===null?w=A:x.sibling=A,x=A);return t&&S.forEach(function(H){return e(b,H)}),ke&&zn(b,M),w}function k(b,y,m,h){if(typeof m=="object"&&m!==null&&m.type===si&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case da:e:{for(var w=m.key,x=y;x!==null;){if(x.key===w){if(w=m.type,w===si){if(x.tag===7){r(b,x.sibling),y=i(x,m.props.children),y.return=b,b=y;break e}}else if(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Vr&&Ad(w)===x.type){r(b,x.sibling),y=i(x,m.props),y.ref=Qi(b,x,m),y.return=b,b=y;break e}r(b,x);break}else e(b,x);x=x.sibling}m.type===si?(y=Kn(m.props.children,b.mode,h,m.key),y.return=b,b=y):(h=Ja(m.type,m.key,m.props,null,b.mode,h),h.ref=Qi(b,y,m),h.return=b,b=h)}return a(b);case ai:e:{for(x=m.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){r(b,y.sibling),y=i(y,m.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else e(b,y);y=y.sibling}y=Zl(m,b.mode,h),y.return=b,b=y}return a(b);case Vr:return x=m._init,k(b,y,x(m._payload),h)}if(uo(m))return g(b,y,m,h);if(Wi(m))return v(b,y,m,h);wa(b,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(r(b,y.sibling),y=i(y,m),y.return=b,b=y):(r(b,y),y=Gl(m,b.mode,h),y.return=b,b=y),a(b)):r(b,y)}return k}var $i=tm(!0),rm=tm(!1),aa={},br=_n(aa),jo=_n(aa),Vo=_n(aa);function $n(t){if(t===aa)throw Error(N(174));return t}function hc(t,e){switch(he(Vo,e),he(jo,t),he(br,aa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Du(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Du(e,t)}ge(br),he(br,e)}function Bi(){ge(br),ge(jo),ge(Vo)}function nm(t){$n(Vo.current);var e=$n(br.current),r=Du(e,t.type);e!==r&&(he(jo,t),he(br,r))}function mc(t){jo.current===t&&(ge(br),ge(jo))}var Se=_n(0);function xs(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vl=[];function fc(){for(var t=0;t<Vl.length;t++)Vl[t]._workInProgressVersionPrimary=null;Vl.length=0}var ja=Kr.ReactCurrentDispatcher,Hl=Kr.ReactCurrentBatchConfig,jn=0,Me=null,qe=null,We=null,ks=!1,ko=!1,Ho=0,W4=0;function ot(){throw Error(N(321))}function yc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!lr(t[r],e[r]))return!1;return!0}function gc(t,e,r,n,i,o){if(jn=o,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ja.current=t===null||t.memoizedState===null?Z4:Q4,t=r(n,i),ko){o=0;do{if(ko=!1,Ho=0,25<=o)throw Error(N(301));o+=1,We=qe=null,e.updateQueue=null,ja.current=Y4,t=r(n,i)}while(ko)}if(ja.current=ws,e=qe!==null&&qe.next!==null,jn=0,We=qe=Me=null,ks=!1,e)throw Error(N(300));return t}function bc(){var t=Ho!==0;return Ho=0,t}function fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Me.memoizedState=We=t:We=We.next=t,We}function Zt(){if(qe===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=We===null?Me.memoizedState:We.next;if(e!==null)We=e,qe=t;else{if(t===null)throw Error(N(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},We===null?Me.memoizedState=We=t:We=We.next=t}return We}function Uo(t,e){return typeof e=="function"?e(t):e}function Ul(t){var e=Zt(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=qe,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((jn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=n):l=l.next=d,Me.lanes|=c,Vn|=c}u=u.next}while(u!==null&&u!==o);l===null?a=n:l.next=s,lr(n,e.memoizedState)||(Mt=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,Me.lanes|=o,Vn|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Wl(t){var e=Zt(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);lr(o,e.memoizedState)||(Mt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function im(){}function om(t,e){var r=Me,n=Zt(),i=e(),o=!lr(n.memoizedState,i);if(o&&(n.memoizedState=i,Mt=!0),n=n.queue,vc(lm.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||We!==null&&We.memoizedState.tag&1){if(r.flags|=2048,Wo(9,sm.bind(null,r,n,i,e),void 0,null),Ze===null)throw Error(N(349));jn&30||am(r,e,i)}return i}function am(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function sm(t,e,r,n){e.value=r,e.getSnapshot=n,um(e)&&cm(t)}function lm(t,e,r){return r(function(){um(e)&&cm(t)})}function um(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!lr(t,r)}catch{return!0}}function cm(t){var e=Nr(t,1);e!==null&&ar(e,t,1,-1)}function Td(t){var e=fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:t},e.queue=t,t=t.dispatch=G4.bind(null,Me,t),[e.memoizedState,t]}function Wo(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function dm(){return Zt().memoizedState}function Va(t,e,r,n){var i=fr();Me.flags|=t,i.memoizedState=Wo(1|e,r,void 0,n===void 0?null:n)}function rl(t,e,r,n){var i=Zt();n=n===void 0?null:n;var o=void 0;if(qe!==null){var a=qe.memoizedState;if(o=a.destroy,n!==null&&yc(n,a.deps)){i.memoizedState=Wo(e,r,o,n);return}}Me.flags|=t,i.memoizedState=Wo(1|e,r,o,n)}function Dd(t,e){return Va(8390656,8,t,e)}function vc(t,e){return rl(2048,8,t,e)}function pm(t,e){return rl(4,2,t,e)}function hm(t,e){return rl(4,4,t,e)}function mm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fm(t,e,r){return r=r!=null?r.concat([t]):null,rl(4,4,mm.bind(null,e,t),r)}function xc(){}function ym(t,e){var r=Zt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&yc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function gm(t,e){var r=Zt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&yc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function bm(t,e,r){return jn&21?(lr(r,e)||(r=kh(),Me.lanes|=r,Vn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=r)}function J4(t,e){var r=ie;ie=r!==0&&4>r?r:4,t(!0);var n=Hl.transition;Hl.transition={};try{t(!1),e()}finally{ie=r,Hl.transition=n}}function vm(){return Zt().memoizedState}function X4(t,e,r){var n=hn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xm(t))km(e,r);else if(r=Zh(t,e,r,n),r!==null){var i=gt();ar(r,t,n,i),wm(r,e,n)}}function G4(t,e,r){var n=hn(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xm(t))km(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,lr(s,a)){var l=e.interleaved;l===null?(i.next=i,dc(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Zh(t,e,i,n),r!==null&&(i=gt(),ar(r,t,n,i),wm(r,e,n))}}function xm(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function km(t,e){ko=ks=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function wm(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Z0(t,r)}}var ws={readContext:Gt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},Z4={readContext:Gt,useCallback:function(t,e){return fr().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:Dd,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Va(4194308,4,mm.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Va(4194308,4,t,e)},useInsertionEffect:function(t,e){return Va(4,2,t,e)},useMemo:function(t,e){var r=fr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=fr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=X4.bind(null,Me,t),[n.memoizedState,t]},useRef:function(t){var e=fr();return t={current:t},e.memoizedState=t},useState:Td,useDebugValue:xc,useDeferredValue:function(t){return fr().memoizedState=t},useTransition:function(){var t=Td(!1),e=t[0];return t=J4.bind(null,t[1]),fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Me,i=fr();if(ke){if(r===void 0)throw Error(N(407));r=r()}else{if(r=e(),Ze===null)throw Error(N(349));jn&30||am(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,Dd(lm.bind(null,n,o,t),[t]),n.flags|=2048,Wo(9,sm.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=fr(),e=Ze.identifierPrefix;if(ke){var r=Cr,n=Lr;r=(n&~(1<<32-or(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ho++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=W4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Q4={readContext:Gt,useCallback:ym,useContext:Gt,useEffect:vc,useImperativeHandle:fm,useInsertionEffect:pm,useLayoutEffect:hm,useMemo:gm,useReducer:Ul,useRef:dm,useState:function(){return Ul(Uo)},useDebugValue:xc,useDeferredValue:function(t){var e=Zt();return bm(e,qe.memoizedState,t)},useTransition:function(){var t=Ul(Uo)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:im,useSyncExternalStore:om,useId:vm,unstable_isNewReconciler:!1},Y4={readContext:Gt,useCallback:ym,useContext:Gt,useEffect:vc,useImperativeHandle:fm,useInsertionEffect:pm,useLayoutEffect:hm,useMemo:gm,useReducer:Wl,useRef:dm,useState:function(){return Wl(Uo)},useDebugValue:xc,useDeferredValue:function(t){var e=Zt();return qe===null?e.memoizedState=t:bm(e,qe.memoizedState,t)},useTransition:function(){var t=Wl(Uo)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:im,useSyncExternalStore:om,useId:vm,unstable_isNewReconciler:!1};function Ni(t,e){try{var r="",n=e;do r+=Cf(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Jl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function e0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ey=typeof WeakMap=="function"?WeakMap:Map;function _m(t,e,r){r=Ar(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ss||(Ss=!0,c0=n),e0(t,e)},r}function Sm(t,e,r){r=Ar(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){e0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){e0(t,e),typeof n!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Ed(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ey;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=my.bind(null,t,e,r),e.then(t,t))}function $d(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bd(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ar(-1,1),e.tag=2,dn(r,e,1))),r.lanes|=1),t)}var ty=Kr.ReactCurrentOwner,Mt=!1;function ft(t,e,r,n){e.child=t===null?rm(e,null,r,n):$i(e,t.child,r,n)}function Nd(t,e,r,n,i){r=r.render;var o=e.ref;return Si(e,i),n=gc(t,e,r,n,o,i),r=bc(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(ke&&r&&oc(e),e.flags|=1,ft(t,e,n,i),e.child)}function Pd(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!zc(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Mm(t,e,o,n,i)):(t=Ja(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Fo,r(a,n)&&t.ref===e.ref)return Pr(t,e,i)}return e.flags|=1,t=mn(o,n),t.ref=e.ref,t.return=e,e.child=t}function Mm(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(Fo(o,n)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,Pr(t,e,i)}return t0(t,e,r,n,i)}function Lm(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(gi,Dt),Dt|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(gi,Dt),Dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,he(gi,Dt),Dt|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,he(gi,Dt),Dt|=n;return ft(t,e,i,r),e.child}function Cm(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function t0(t,e,r,n,i){var o=Ct(r)?qn:ut.current;return o=Di(e,o),Si(e,i),r=gc(t,e,r,n,o,i),n=bc(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(ke&&n&&oc(e),e.flags|=1,ft(t,e,r,i),e.child)}function Od(t,e,r,n,i){if(Ct(r)){var o=!0;ms(e)}else o=!1;if(Si(e,i),e.stateNode===null)Ha(t,e),em(e,r,n),Yu(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Gt(u):(u=Ct(r)?qn:ut.current,u=Di(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==u)&&zd(e,a,n,u),Hr=!1;var p=e.memoizedState;a.state=p,vs(e,n,a,i),l=e.memoizedState,s!==n||p!==l||Lt.current||Hr?(typeof c=="function"&&(Qu(e,r,c,n),l=e.memoizedState),(s=Hr||Cd(e,r,s,n,p,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Qh(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:tr(e.type,s),a.props=u,d=e.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=Ct(r)?qn:ut.current,l=Di(e,l));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||p!==l)&&zd(e,a,n,l),Hr=!1,p=e.memoizedState,a.state=p,vs(e,n,a,i);var g=e.memoizedState;s!==d||p!==g||Lt.current||Hr?(typeof f=="function"&&(Qu(e,r,f,n),g=e.memoizedState),(u=Hr||Cd(e,r,u,n,p,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return r0(t,e,r,n,o,i)}function r0(t,e,r,n,i,o){Cm(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&wd(e,r,!1),Pr(t,e,o);n=e.stateNode,ty.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=$i(e,t.child,null,o),e.child=$i(e,null,s,o)):ft(t,e,s,o),e.memoizedState=n.state,i&&wd(e,r,!0),e.child}function zm(t){var e=t.stateNode;e.pendingContext?kd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kd(t,e.context,!1),hc(t,e.containerInfo)}function Kd(t,e,r,n,i){return Ei(),sc(i),e.flags|=256,ft(t,e,r,n),e.child}var n0={dehydrated:null,treeContext:null,retryLane:0};function i0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Am(t,e,r){var n=e.pendingProps,i=Se.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),he(Se,i&1),t===null)return Gu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=ol(a,n,0,null),t=Kn(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=i0(r),e.memoizedState=n0,t):kc(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return ry(t,e,a,n,s,i,r);if(o){o=n.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=mn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=mn(s,o):(o=Kn(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?i0(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=n0,n}return o=t.child,t=o.sibling,n=mn(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function kc(t,e){return e=ol({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _a(t,e,r,n){return n!==null&&sc(n),$i(e,t.child,null,r),t=kc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ry(t,e,r,n,i,o,a){if(r)return e.flags&256?(e.flags&=-257,n=Jl(Error(N(422))),_a(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=ol({mode:"visible",children:n.children},i,0,null),o=Kn(o,i,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&$i(e,t.child,null,a),e.child.memoizedState=i0(a),e.memoizedState=n0,o);if(!(e.mode&1))return _a(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(N(419)),n=Jl(o,n,void 0),_a(t,e,a,n)}if(s=(a&t.childLanes)!==0,Mt||s){if(n=Ze,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Nr(t,i),ar(n,t,i,-1))}return Cc(),n=Jl(Error(N(421))),_a(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fy.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Bt=cn(i.nextSibling),Pt=e,ke=!0,nr=null,t!==null&&(Vt[Ht++]=Lr,Vt[Ht++]=Cr,Vt[Ht++]=In,Lr=t.id,Cr=t.overflow,In=e),e=kc(e,n.children),e.flags|=4096,e)}function Fd(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Zu(t.return,e,r)}function Xl(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Tm(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(ft(t,e,n.children,r),n=Se.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fd(t,r,e);else if(t.tag===19)Fd(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(he(Se,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&xs(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Xl(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xs(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Xl(e,!0,r,null,o);break;case"together":Xl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ha(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Vn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,r=mn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=mn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ny(t,e,r){switch(e.tag){case 3:zm(e),Ei();break;case 5:nm(e);break;case 1:Ct(e.type)&&ms(e);break;case 4:hc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;he(gs,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(he(Se,Se.current&1),e.flags|=128,null):r&e.child.childLanes?Am(t,e,r):(he(Se,Se.current&1),t=Pr(t,e,r),t!==null?t.sibling:null);he(Se,Se.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Tm(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(Se,Se.current),n)break;return null;case 22:case 23:return e.lanes=0,Lm(t,e,r)}return Pr(t,e,r)}var Dm,o0,Em,$m;Dm=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};o0=function(){};Em=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,$n(br.current);var o=null;switch(r){case"input":i=Cu(t,i),n=Cu(t,n),o=[];break;case"select":i=Le({},i,{value:void 0}),n=Le({},n,{value:void 0}),o=[];break;case"textarea":i=Tu(t,i),n=Tu(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ps)}Eu(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&me("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};$m=function(t,e,r,n){r!==n&&(e.flags|=4)};function Yi(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function iy(t,e,r){var n=e.pendingProps;switch(ac(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return Ct(e.type)&&hs(),at(e),null;case 3:return n=e.stateNode,Bi(),ge(Lt),ge(ut),fc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ka(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nr!==null&&(h0(nr),nr=null))),o0(t,e),at(e),null;case 5:mc(e);var i=$n(Vo.current);if(r=e.type,t!==null&&e.stateNode!=null)Em(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(N(166));return at(e),null}if(t=$n(br.current),ka(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[yr]=e,n[Io]=o,t=(e.mode&1)!==0,r){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(i=0;i<po.length;i++)me(po[i],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":Jc(n,o),me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},me("invalid",n);break;case"textarea":Gc(n,o),me("invalid",n)}Eu(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&xa(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&xa(n.textContent,s,t),i=["children",""+s]):Eo.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&me("scroll",n)}switch(r){case"input":pa(n),Xc(n,o,!0);break;case"textarea":pa(n),Zc(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ps)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ah(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[yr]=e,t[Io]=n,Dm(t,e,!1,!1),e.stateNode=t;e:{switch(a=$u(r,n),r){case"dialog":me("cancel",t),me("close",t),i=n;break;case"iframe":case"object":case"embed":me("load",t),i=n;break;case"video":case"audio":for(i=0;i<po.length;i++)me(po[i],t);i=n;break;case"source":me("error",t),i=n;break;case"img":case"image":case"link":me("error",t),me("load",t),i=n;break;case"details":me("toggle",t),i=n;break;case"input":Jc(t,n),i=Cu(t,n),me("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Le({},n,{value:void 0}),me("invalid",t);break;case"textarea":Gc(t,n),i=Tu(t,n),me("invalid",t);break;default:i=n}Eu(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?uh(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sh(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&$o(t,l):typeof l=="number"&&$o(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Eo.hasOwnProperty(o)?l!=null&&o==="onScroll"&&me("scroll",t):l!=null&&H0(t,o,l,a))}switch(r){case"input":pa(t),Xc(t,n,!1);break;case"textarea":pa(t),Zc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+yn(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?xi(t,!!n.multiple,o,!1):n.defaultValue!=null&&xi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ps)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)$m(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(N(166));if(r=$n(Vo.current),$n(br.current),ka(e)){if(n=e.stateNode,r=e.memoizedProps,n[yr]=e,(o=n.nodeValue!==r)&&(t=Pt,t!==null))switch(t.tag){case 3:xa(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xa(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[yr]=e,e.stateNode=n}return at(e),null;case 13:if(ge(Se),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&Bt!==null&&e.mode&1&&!(e.flags&128))Gh(),Ei(),e.flags|=98560,o=!1;else if(o=ka(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(N(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(N(317));o[yr]=e}else Ei(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),o=!1}else nr!==null&&(h0(nr),nr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Se.current&1?Ie===0&&(Ie=3):Cc())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return Bi(),o0(t,e),t===null&&Ro(e.stateNode.containerInfo),at(e),null;case 10:return cc(e.type._context),at(e),null;case 17:return Ct(e.type)&&hs(),at(e),null;case 19:if(ge(Se),o=e.memoizedState,o===null)return at(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)Yi(o,!1);else{if(Ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=xs(t),a!==null){for(e.flags|=128,Yi(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return he(Se,Se.current&1|2),e.child}t=t.sibling}o.tail!==null&&Be()>Pi&&(e.flags|=128,n=!0,Yi(o,!1),e.lanes=4194304)}else{if(!n)if(t=xs(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Yi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ke)return at(e),null}else 2*Be()-o.renderingStartTime>Pi&&r!==1073741824&&(e.flags|=128,n=!0,Yi(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Be(),e.sibling=null,r=Se.current,he(Se,n?r&1|2:r&1),e):(at(e),null);case 22:case 23:return Lc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Dt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function oy(t,e){switch(ac(e),e.tag){case 1:return Ct(e.type)&&hs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bi(),ge(Lt),ge(ut),fc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mc(e),null;case 13:if(ge(Se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Ei()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(Se),null;case 4:return Bi(),null;case 10:return cc(e.type._context),null;case 22:case 23:return Lc(),null;case 24:return null;default:return null}}var Sa=!1,lt=!1,ay=typeof WeakSet=="function"?WeakSet:Set,K=null;function yi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ce(t,e,n)}else r.current=null}function a0(t,e,r){try{r()}catch(n){Ce(t,e,n)}}var Rd=!1;function sy(t,e){if(ju=us,t=Oh(),ic(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(s=a+i),d!==o||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)p=d,d=f;for(;;){if(d===t)break t;if(p===r&&++u===i&&(s=a),p===o&&++c===n&&(l=a),(f=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=f}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vu={focusedElem:t,selectionRange:r},us=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,k=g.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:tr(e.type,v),k);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(h){Ce(e,e.return,h)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return g=Rd,Rd=!1,g}function wo(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&a0(e,r,o)}i=i.next}while(i!==n)}}function nl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function s0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Bm(t){var e=t.alternate;e!==null&&(t.alternate=null,Bm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yr],delete e[Io],delete e[Wu],delete e[j4],delete e[V4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nm(t){return t.tag===5||t.tag===3||t.tag===4}function qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function l0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ps));else if(n!==4&&(t=t.child,t!==null))for(l0(t,e,r),t=t.sibling;t!==null;)l0(t,e,r),t=t.sibling}function u0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(u0(t,e,r),t=t.sibling;t!==null;)u0(t,e,r),t=t.sibling}var Ye=null,rr=!1;function qr(t,e,r){for(r=r.child;r!==null;)Pm(t,e,r),r=r.sibling}function Pm(t,e,r){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Xs,r)}catch{}switch(r.tag){case 5:lt||yi(r,e);case 6:var n=Ye,i=rr;Ye=null,qr(t,e,r),Ye=n,rr=i,Ye!==null&&(rr?(t=Ye,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ye.removeChild(r.stateNode));break;case 18:Ye!==null&&(rr?(t=Ye,r=r.stateNode,t.nodeType===8?Il(t.parentNode,r):t.nodeType===1&&Il(t,r),Oo(t)):Il(Ye,r.stateNode));break;case 4:n=Ye,i=rr,Ye=r.stateNode.containerInfo,rr=!0,qr(t,e,r),Ye=n,rr=i;break;case 0:case 11:case 14:case 15:if(!lt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&a0(r,e,a),i=i.next}while(i!==n)}qr(t,e,r);break;case 1:if(!lt&&(yi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Ce(r,e,s)}qr(t,e,r);break;case 21:qr(t,e,r);break;case 22:r.mode&1?(lt=(n=lt)||r.memoizedState!==null,qr(t,e,r),lt=n):qr(t,e,r);break;default:qr(t,e,r)}}function Id(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ay),e.forEach(function(n){var i=yy.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Yt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ye=s.stateNode,rr=!1;break e;case 3:Ye=s.stateNode.containerInfo,rr=!0;break e;case 4:Ye=s.stateNode.containerInfo,rr=!0;break e}s=s.return}if(Ye===null)throw Error(N(160));Pm(o,a,i),Ye=null,rr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ce(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Om(e,t),e=e.sibling}function Om(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(e,t),dr(t),n&4){try{wo(3,t,t.return),nl(3,t)}catch(v){Ce(t,t.return,v)}try{wo(5,t,t.return)}catch(v){Ce(t,t.return,v)}}break;case 1:Yt(e,t),dr(t),n&512&&r!==null&&yi(r,r.return);break;case 5:if(Yt(e,t),dr(t),n&512&&r!==null&&yi(r,r.return),t.flags&32){var i=t.stateNode;try{$o(i,"")}catch(v){Ce(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&ih(i,o),$u(s,a);var u=$u(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?uh(i,d):c==="dangerouslySetInnerHTML"?sh(i,d):c==="children"?$o(i,d):H0(i,c,d,u)}switch(s){case"input":zu(i,o);break;case"textarea":oh(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?xi(i,!!o.multiple,f,!1):p!==!!o.multiple&&(o.defaultValue!=null?xi(i,!!o.multiple,o.defaultValue,!0):xi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Io]=o}catch(v){Ce(t,t.return,v)}}break;case 6:if(Yt(e,t),dr(t),n&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Ce(t,t.return,v)}}break;case 3:if(Yt(e,t),dr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Oo(e.containerInfo)}catch(v){Ce(t,t.return,v)}break;case 4:Yt(e,t),dr(t);break;case 13:Yt(e,t),dr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Sc=Be())),n&4&&Id(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(lt=(u=lt)||c,Yt(e,t),lt=u):Yt(e,t),dr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(K=t,c=t.child;c!==null;){for(d=K=c;K!==null;){switch(p=K,f=p.child,p.tag){case 0:case 11:case 14:case 15:wo(4,p,p.return);break;case 1:yi(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Ce(n,r,v)}}break;case 5:yi(p,p.return);break;case 22:if(p.memoizedState!==null){Vd(d);continue}}f!==null?(f.return=p,K=f):Vd(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=lh("display",a))}catch(v){Ce(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Ce(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Yt(e,t),dr(t),n&4&&Id(t);break;case 21:break;default:Yt(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Nm(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&($o(i,""),n.flags&=-33);var o=qd(t);u0(t,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=qd(t);l0(t,s,a);break;default:throw Error(N(161))}}catch(l){Ce(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ly(t,e,r){K=t,Km(t)}function Km(t,e,r){for(var n=(t.mode&1)!==0;K!==null;){var i=K,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Sa;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||lt;s=Sa;var u=lt;if(Sa=a,(lt=l)&&!u)for(K=i;K!==null;)a=K,l=a.child,a.tag===22&&a.memoizedState!==null?Hd(i):l!==null?(l.return=a,K=l):Hd(i);for(;o!==null;)K=o,Km(o),o=o.sibling;K=i,Sa=s,lt=u}jd(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,K=o):jd(t)}}function jd(t){for(;K!==null;){var e=K;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lt||nl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!lt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:tr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ld(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ld(e,a,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Oo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}lt||e.flags&512&&s0(e)}catch(p){Ce(e,e.return,p)}}if(e===t){K=null;break}if(r=e.sibling,r!==null){r.return=e.return,K=r;break}K=e.return}}function Vd(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var r=e.sibling;if(r!==null){r.return=e.return,K=r;break}K=e.return}}function Hd(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{nl(4,e)}catch(l){Ce(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ce(e,i,l)}}var o=e.return;try{s0(e)}catch(l){Ce(e,o,l)}break;case 5:var a=e.return;try{s0(e)}catch(l){Ce(e,a,l)}}}catch(l){Ce(e,e.return,l)}if(e===t){K=null;break}var s=e.sibling;if(s!==null){s.return=e.return,K=s;break}K=e.return}}var uy=Math.ceil,_s=Kr.ReactCurrentDispatcher,wc=Kr.ReactCurrentOwner,Jt=Kr.ReactCurrentBatchConfig,re=0,Ze=null,Re=null,nt=0,Dt=0,gi=_n(0),Ie=0,Jo=null,Vn=0,il=0,_c=0,_o=null,St=null,Sc=0,Pi=1/0,wr=null,Ss=!1,c0=null,pn=null,Ma=!1,tn=null,Ms=0,So=0,d0=null,Ua=-1,Wa=0;function gt(){return re&6?Be():Ua!==-1?Ua:Ua=Be()}function hn(t){return t.mode&1?re&2&&nt!==0?nt&-nt:U4.transition!==null?(Wa===0&&(Wa=kh()),Wa):(t=ie,t!==0||(t=window.event,t=t===void 0?16:zh(t.type)),t):1}function ar(t,e,r,n){if(50<So)throw So=0,d0=null,Error(N(185));na(t,r,n),(!(re&2)||t!==Ze)&&(t===Ze&&(!(re&2)&&(il|=r),Ie===4&&Xr(t,nt)),zt(t,n),r===1&&re===0&&!(e.mode&1)&&(Pi=Be()+500,el&&Sn()))}function zt(t,e){var r=t.callbackNode;Uf(t,e);var n=ls(t,t===Ze?nt:0);if(n===0)r!==null&&ed(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ed(r),e===1)t.tag===0?H4(Ud.bind(null,t)):Wh(Ud.bind(null,t)),q4(function(){!(re&6)&&Sn()}),r=null;else{switch(wh(n)){case 1:r=G0;break;case 4:r=vh;break;case 16:r=ss;break;case 536870912:r=xh;break;default:r=ss}r=Um(r,Fm.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Fm(t,e){if(Ua=-1,Wa=0,re&6)throw Error(N(327));var r=t.callbackNode;if(Mi()&&t.callbackNode!==r)return null;var n=ls(t,t===Ze?nt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ls(t,n);else{e=n;var i=re;re|=2;var o=qm();(Ze!==t||nt!==e)&&(wr=null,Pi=Be()+500,On(t,e));do try{py();break}catch(s){Rm(t,s)}while(1);uc(),_s.current=o,re=i,Re!==null?e=0:(Ze=null,nt=0,e=Ie)}if(e!==0){if(e===2&&(i=Ku(t),i!==0&&(n=i,e=p0(t,i))),e===1)throw r=Jo,On(t,0),Xr(t,n),zt(t,Be()),r;if(e===6)Xr(t,n);else{if(i=t.current.alternate,!(n&30)&&!cy(i)&&(e=Ls(t,n),e===2&&(o=Ku(t),o!==0&&(n=o,e=p0(t,o))),e===1))throw r=Jo,On(t,0),Xr(t,n),zt(t,Be()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(N(345));case 2:An(t,St,wr);break;case 3:if(Xr(t,n),(n&130023424)===n&&(e=Sc+500-Be(),10<e)){if(ls(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Uu(An.bind(null,t,St,wr),e);break}An(t,St,wr);break;case 4:if(Xr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-or(n);o=1<<a,a=e[a],a>i&&(i=a),n&=~o}if(n=i,n=Be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*uy(n/1960))-n,10<n){t.timeoutHandle=Uu(An.bind(null,t,St,wr),n);break}An(t,St,wr);break;case 5:An(t,St,wr);break;default:throw Error(N(329))}}}return zt(t,Be()),t.callbackNode===r?Fm.bind(null,t):null}function p0(t,e){var r=_o;return t.current.memoizedState.isDehydrated&&(On(t,e).flags|=256),t=Ls(t,e),t!==2&&(e=St,St=r,e!==null&&h0(e)),t}function h0(t){St===null?St=t:St.push.apply(St,t)}function cy(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!lr(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xr(t,e){for(e&=~_c,e&=~il,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-or(e),n=1<<r;t[r]=-1,e&=~n}}function Ud(t){if(re&6)throw Error(N(327));Mi();var e=ls(t,0);if(!(e&1))return zt(t,Be()),null;var r=Ls(t,e);if(t.tag!==0&&r===2){var n=Ku(t);n!==0&&(e=n,r=p0(t,n))}if(r===1)throw r=Jo,On(t,0),Xr(t,e),zt(t,Be()),r;if(r===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,An(t,St,wr),zt(t,Be()),null}function Mc(t,e){var r=re;re|=1;try{return t(e)}finally{re=r,re===0&&(Pi=Be()+500,el&&Sn())}}function Hn(t){tn!==null&&tn.tag===0&&!(re&6)&&Mi();var e=re;re|=1;var r=Jt.transition,n=ie;try{if(Jt.transition=null,ie=1,t)return t()}finally{ie=n,Jt.transition=r,re=e,!(re&6)&&Sn()}}function Lc(){Dt=gi.current,ge(gi)}function On(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,R4(r)),Re!==null)for(r=Re.return;r!==null;){var n=r;switch(ac(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hs();break;case 3:Bi(),ge(Lt),ge(ut),fc();break;case 5:mc(n);break;case 4:Bi();break;case 13:ge(Se);break;case 19:ge(Se);break;case 10:cc(n.type._context);break;case 22:case 23:Lc()}r=r.return}if(Ze=t,Re=t=mn(t.current,null),nt=Dt=e,Ie=0,Jo=null,_c=il=Vn=0,St=_o=null,En!==null){for(e=0;e<En.length;e++)if(r=En[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}En=null}return t}function Rm(t,e){do{var r=Re;try{if(uc(),ja.current=ws,ks){for(var n=Me.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ks=!1}if(jn=0,We=qe=Me=null,ko=!1,Ho=0,wc.current=null,r===null||r.return===null){Ie=1,Jo=e,Re=null;break}e:{var o=t,a=r.return,s=r,l=e;if(e=nt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=$d(a);if(f!==null){f.flags&=-257,Bd(f,a,s,o,e),f.mode&1&&Ed(o,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){Ed(o,u,e),Cc();break e}l=Error(N(426))}}else if(ke&&s.mode&1){var k=$d(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Bd(k,a,s,o,e),sc(Ni(l,s));break e}}o=l=Ni(l,s),Ie!==4&&(Ie=2),_o===null?_o=[o]:_o.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=_m(o,l,e);Md(o,b);break e;case 1:s=l;var y=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(pn===null||!pn.has(m)))){o.flags|=65536,e&=-e,o.lanes|=e;var h=Sm(o,s,e);Md(o,h);break e}}o=o.return}while(o!==null)}jm(r)}catch(w){e=w,Re===r&&r!==null&&(Re=r=r.return);continue}break}while(1)}function qm(){var t=_s.current;return _s.current=ws,t===null?ws:t}function Cc(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Ze===null||!(Vn&268435455)&&!(il&268435455)||Xr(Ze,nt)}function Ls(t,e){var r=re;re|=2;var n=qm();(Ze!==t||nt!==e)&&(wr=null,On(t,e));do try{dy();break}catch(i){Rm(t,i)}while(1);if(uc(),re=r,_s.current=n,Re!==null)throw Error(N(261));return Ze=null,nt=0,Ie}function dy(){for(;Re!==null;)Im(Re)}function py(){for(;Re!==null&&!Of();)Im(Re)}function Im(t){var e=Hm(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,e===null?jm(t):Re=e,wc.current=null}function jm(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=oy(r,e),r!==null){r.flags&=32767,Re=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ie=6,Re=null;return}}else if(r=iy(r,e,Dt),r!==null){Re=r;return}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);Ie===0&&(Ie=5)}function An(t,e,r){var n=ie,i=Jt.transition;try{Jt.transition=null,ie=1,hy(t,e,r,n)}finally{Jt.transition=i,ie=n}return null}function hy(t,e,r,n){do Mi();while(tn!==null);if(re&6)throw Error(N(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(Wf(t,o),t===Ze&&(Re=Ze=null,nt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ma||(Ma=!0,Um(ss,function(){return Mi(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Jt.transition,Jt.transition=null;var a=ie;ie=1;var s=re;re|=4,wc.current=null,sy(t,r),Om(r,t),$4(Vu),us=!!ju,Vu=ju=null,t.current=r,ly(r),Kf(),re=s,ie=a,Jt.transition=o}else t.current=r;if(Ma&&(Ma=!1,tn=t,Ms=i),o=t.pendingLanes,o===0&&(pn=null),qf(r.stateNode),zt(t,Be()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ss)throw Ss=!1,t=c0,c0=null,t;return Ms&1&&t.tag!==0&&Mi(),o=t.pendingLanes,o&1?t===d0?So++:(So=0,d0=t):So=0,Sn(),null}function Mi(){if(tn!==null){var t=wh(Ms),e=Jt.transition,r=ie;try{if(Jt.transition=null,ie=16>t?16:t,tn===null)var n=!1;else{if(t=tn,tn=null,Ms=0,re&6)throw Error(N(331));var i=re;for(re|=4,K=t.current;K!==null;){var o=K,a=o.child;if(K.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(K=u;K!==null;){var c=K;switch(c.tag){case 0:case 11:case 15:wo(8,c,o)}var d=c.child;if(d!==null)d.return=c,K=d;else for(;K!==null;){c=K;var p=c.sibling,f=c.return;if(Bm(c),c===u){K=null;break}if(p!==null){p.return=f,K=p;break}K=f}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}K=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,K=a;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wo(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,K=b;break e}K=o.return}}var y=t.current;for(K=y;K!==null;){a=K;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,K=m;else e:for(a=y;K!==null;){if(s=K,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:nl(9,s)}}catch(w){Ce(s,s.return,w)}if(s===a){K=null;break e}var h=s.sibling;if(h!==null){h.return=s.return,K=h;break e}K=s.return}}if(re=i,Sn(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Xs,t)}catch{}n=!0}return n}finally{ie=r,Jt.transition=e}}return!1}function Wd(t,e,r){e=Ni(r,e),e=_m(t,e,1),t=dn(t,e,1),e=gt(),t!==null&&(na(t,1,e),zt(t,e))}function Ce(t,e,r){if(t.tag===3)Wd(t,t,r);else for(;e!==null;){if(e.tag===3){Wd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pn===null||!pn.has(n))){t=Ni(r,t),t=Sm(e,t,1),e=dn(e,t,1),t=gt(),e!==null&&(na(e,1,t),zt(e,t));break}}e=e.return}}function my(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&r,Ze===t&&(nt&r)===r&&(Ie===4||Ie===3&&(nt&130023424)===nt&&500>Be()-Sc?On(t,0):_c|=r),zt(t,e)}function Vm(t,e){e===0&&(t.mode&1?(e=fa,fa<<=1,!(fa&130023424)&&(fa=4194304)):e=1);var r=gt();t=Nr(t,e),t!==null&&(na(t,e,r),zt(t,r))}function fy(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Vm(t,r)}function yy(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(e),Vm(t,r)}var Hm;Hm=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lt.current)Mt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Mt=!1,ny(t,e,r);Mt=!!(t.flags&131072)}else Mt=!1,ke&&e.flags&1048576&&Jh(e,ys,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ha(t,e),t=e.pendingProps;var i=Di(e,ut.current);Si(e,r),i=gc(null,e,n,t,i,r);var o=bc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(n)?(o=!0,ms(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pc(e),i.updater=tl,e.stateNode=i,i._reactInternals=e,Yu(e,n,t,r),e=r0(null,e,n,!0,o,r)):(e.tag=0,ke&&o&&oc(e),ft(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ha(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=by(n),t=tr(n,t),i){case 0:e=t0(null,e,n,t,r);break e;case 1:e=Od(null,e,n,t,r);break e;case 11:e=Nd(null,e,n,t,r);break e;case 14:e=Pd(null,e,n,tr(n.type,t),r);break e}throw Error(N(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tr(n,i),t0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tr(n,i),Od(t,e,n,i,r);case 3:e:{if(zm(e),t===null)throw Error(N(387));n=e.pendingProps,o=e.memoizedState,i=o.element,Qh(t,e),vs(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ni(Error(N(423)),e),e=Kd(t,e,n,r,i);break e}else if(n!==i){i=Ni(Error(N(424)),e),e=Kd(t,e,n,r,i);break e}else for(Bt=cn(e.stateNode.containerInfo.firstChild),Pt=e,ke=!0,nr=null,r=rm(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ei(),n===i){e=Pr(t,e,r);break e}ft(t,e,n,r)}e=e.child}return e;case 5:return nm(e),t===null&&Gu(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Hu(n,i)?a=null:o!==null&&Hu(n,o)&&(e.flags|=32),Cm(t,e),ft(t,e,a,r),e.child;case 6:return t===null&&Gu(e),null;case 13:return Am(t,e,r);case 4:return hc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=$i(e,null,n,r):ft(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tr(n,i),Nd(t,e,n,i,r);case 7:return ft(t,e,e.pendingProps,r),e.child;case 8:return ft(t,e,e.pendingProps.children,r),e.child;case 12:return ft(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,he(gs,n._currentValue),n._currentValue=a,o!==null)if(lr(o.value,a)){if(o.children===i.children&&!Lt.current){e=Pr(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Ar(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Zu(o.return,r,e),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(N(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),Zu(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ft(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Si(e,r),i=Gt(i),n=n(i),e.flags|=1,ft(t,e,n,r),e.child;case 14:return n=e.type,i=tr(n,e.pendingProps),i=tr(n.type,i),Pd(t,e,n,i,r);case 15:return Mm(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tr(n,i),Ha(t,e),e.tag=1,Ct(n)?(t=!0,ms(e)):t=!1,Si(e,r),em(e,n,i),Yu(e,n,i,r),r0(null,e,n,!0,t,r);case 19:return Tm(t,e,r);case 22:return Lm(t,e,r)}throw Error(N(156,e.tag))};function Um(t,e){return bh(t,e)}function gy(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,e,r,n){return new gy(t,e,r,n)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function by(t){if(typeof t=="function")return zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===W0)return 11;if(t===J0)return 14}return 2}function mn(t,e){var r=t.alternate;return r===null?(r=Wt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ja(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")zc(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case si:return Kn(r.children,i,o,e);case U0:a=8,i|=8;break;case _u:return t=Wt(12,r,e,i|2),t.elementType=_u,t.lanes=o,t;case Su:return t=Wt(13,r,e,i),t.elementType=Su,t.lanes=o,t;case Mu:return t=Wt(19,r,e,i),t.elementType=Mu,t.lanes=o,t;case th:return ol(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yp:a=10;break e;case eh:a=9;break e;case W0:a=11;break e;case J0:a=14;break e;case Vr:a=16,n=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Wt(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Kn(t,e,r,n){return t=Wt(7,t,n,e),t.lanes=r,t}function ol(t,e,r,n){return t=Wt(22,t,n,e),t.elementType=th,t.lanes=r,t.stateNode={isHidden:!1},t}function Gl(t,e,r){return t=Wt(6,t,null,e),t.lanes=r,t}function Zl(t,e,r){return e=Wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vy(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dl(0),this.expirationTimes=Dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ac(t,e,r,n,i,o,a,s,l){return t=new vy(t,e,r,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Wt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pc(o),t}function xy(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ai,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Wm(t){if(!t)return gn;t=t._reactInternals;e:{if(Xn(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var r=t.type;if(Ct(r))return Uh(t,r,e)}return e}function Jm(t,e,r,n,i,o,a,s,l){return t=Ac(r,n,!0,t,i,o,a,s,l),t.context=Wm(null),r=t.current,n=gt(),i=hn(r),o=Ar(n,i),o.callback=e??null,dn(r,o,i),t.current.lanes=i,na(t,i,n),zt(t,n),t}function al(t,e,r,n){var i=e.current,o=gt(),a=hn(i);return r=Wm(r),e.context===null?e.context=r:e.pendingContext=r,e=Ar(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=dn(i,e,a),t!==null&&(ar(t,i,a,o),Ia(t,i,a)),a}function Cs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Tc(t,e){Jd(t,e),(t=t.alternate)&&Jd(t,e)}function ky(){return null}var Xm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dc(t){this._internalRoot=t}sl.prototype.render=Dc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));al(t,e,null,null)};sl.prototype.unmount=Dc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hn(function(){al(null,t,null,null)}),e[Br]=null}};function sl(t){this._internalRoot=t}sl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mh();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Jr.length&&e!==0&&e<Jr[r].priority;r++);Jr.splice(r,0,t),r===0&&Ch(t)}};function Ec(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ll(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xd(){}function wy(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=Cs(a);o.call(u)}}var a=Jm(e,n,t,0,null,!1,!1,"",Xd);return t._reactRootContainer=a,t[Br]=a.current,Ro(t.nodeType===8?t.parentNode:t),Hn(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Cs(l);s.call(u)}}var l=Ac(t,0,!1,null,null,!1,!1,"",Xd);return t._reactRootContainer=l,t[Br]=l.current,Ro(t.nodeType===8?t.parentNode:t),Hn(function(){al(e,l,r,n)}),l}function ul(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Cs(a);s.call(l)}}al(e,a,t,i)}else a=wy(r,e,t,i,n);return Cs(a)}_h=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=co(e.pendingLanes);r!==0&&(Z0(e,r|1),zt(e,Be()),!(re&6)&&(Pi=Be()+500,Sn()))}break;case 13:Hn(function(){var n=Nr(t,1);if(n!==null){var i=gt();ar(n,t,1,i)}}),Tc(t,1)}};Q0=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var r=gt();ar(e,t,134217728,r)}Tc(t,134217728)}};Sh=function(t){if(t.tag===13){var e=hn(t),r=Nr(t,e);if(r!==null){var n=gt();ar(r,t,e,n)}Tc(t,e)}};Mh=function(){return ie};Lh=function(t,e){var r=ie;try{return ie=t,e()}finally{ie=r}};Nu=function(t,e,r){switch(e){case"input":if(zu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ys(n);if(!i)throw Error(N(90));nh(n),zu(n,i)}}}break;case"textarea":oh(t,r);break;case"select":e=r.value,e!=null&&xi(t,!!r.multiple,e,!1)}};ph=Mc;hh=Hn;var _y={usingClientEntryPoint:!1,Events:[oa,di,Ys,ch,dh,Mc]},eo={findFiberByHostInstance:Dn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Sy={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yh(t),t===null?null:t.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||ky,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{Xs=La.inject(Sy),gr=La}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_y;Kt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ec(e))throw Error(N(200));return xy(t,e,null,r)};Kt.createRoot=function(t,e){if(!Ec(t))throw Error(N(299));var r=!1,n="",i=Xm;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ac(t,1,!1,null,null,r,!1,n,i),t[Br]=e.current,Ro(t.nodeType===8?t.parentNode:t),new Dc(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=yh(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return Hn(t)};Kt.hydrate=function(t,e,r){if(!ll(e))throw Error(N(200));return ul(null,t,e,!0,r)};Kt.hydrateRoot=function(t,e,r){if(!Ec(t))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=Xm;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Jm(e,null,t,1,r??null,i,!1,o,a),t[Br]=e.current,Ro(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new sl(e)};Kt.render=function(t,e,r){if(!ll(e))throw Error(N(200));return ul(null,t,e,!1,r)};Kt.unmountComponentAtNode=function(t){if(!ll(t))throw Error(N(40));return t._reactRootContainer?(Hn(function(){ul(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1};Kt.unstable_batchedUpdates=Mc;Kt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ll(r))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return ul(t,e,r,!1,n)};Kt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=Kt})(kf);var Gd=xu;vu.createRoot=Gd.createRoot,vu.hydrateRoot=Gd.hydrateRoot;function je(t){return Array.isArray(t)}function ue(){return"window"in globalThis&&"document"in globalThis}function Fr(){if(!ue())throw new Error(`<math-field> is an interactive component that needs to run in a browser environment
If you are using nextjs, see https://nextjs.org/docs/advanced-features/dynamic-import#with-no-ssr`)}function m0(){return!!ue()&&("matchMedia"in globalThis?globalThis.matchMedia("(any-pointer: coarse)").matches:"ontouchstart"in globalThis||navigator.maxTouchPoints>0)}function $c(){return ue()&&typeof navigator.vibrate=="function"}function Xo(){var t,e;if(!ue())return"other";const r=(e=(t=navigator.userAgentData)===null||t===void 0?void 0:t.platform)!==null&&e!==void 0?e:navigator.platform;return/^mac/i.test(r)?navigator.maxTouchPoints===5?"ios":"macos":/^win/i.test(r)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function Gm(){if(!ue())return!0;if(/firefox/i.test(navigator.userAgent)){const t=navigator.userAgent.match(/firefox\/(\d+)/i);return!!t&&parseInt(t[1])>=78}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){const t=navigator.userAgent.match(/edg\/(\d+)/i);return!!t&&parseInt(t[1])>=79}return!0}const le={strings:{en:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.command":"LaTeX Command Mode","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.undo":"Undo","menu.insert matrix":"Insert Matrix","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Delimiters","menu.array.add row above":"Add Row After","menu.array.add row below":"Add Row Before","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","submenu.array.insert separator":"Insert Separator","menu.insert table":"Insert Table","submenu.table style":"Table Style"},ar:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"  ","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"   ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"  ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"   ","menu.array.add row below":"  ","menu.array.add column after":"   ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},bg:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"   ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":"  ","menu.insert vector":"  ","submenu.array.matrix delimiters":" ","menu.array.add row above":"   ","menu.array.add row below":"   ","menu.array.add column after":"   ","menu.array.add column before":"   ","menu.array.delete row":"  ","menu.array.delete rows":"   ","menu.array.delete column":"  ","menu.array.delete columns":"   ","submenu.array.insert separator":" ","menu.insert table":"  ","submenu.table style":" "},bs:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grka slova","keyboard.tooltip.command":"LaTeX naredbeni nain","keyboard.tooltip.numeric":"Numeriki","keyboard.tooltip.roman":"Rimska slova","tooltip.copy to clipboard":"Kopirati u clipboard","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Ukljui / iskljui virtualnu tipkovnicu","tooltip.undo":"Poniti","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matrini razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj red prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije","menu.array.delete row":"Izbrii red","menu.array.delete rows":"Izbrii odabrane redove","menu.array.delete column":"Izbrii stupac","menu.array.delete columns":"Izbrii odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Ubaci tabelu","submenu.table style":"Stil tabele"},cs:{"keyboard.tooltip.functions":"Funkce","keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"eck dopisy","keyboard.tooltip.command":"Pkazov reim LaTeX","keyboard.tooltip.numeric":"seln","keyboard.tooltip.roman":"msk dopisy","tooltip.copy to clipboard":"Zkoprovat do schrnky","tooltip.redo":"Pedlat","tooltip.toggle virtual keyboard":"Pepnout virtuln klvesnici","tooltip.undo":"Vrtit","menu.insert matrix":"Vlote matici","menu.insert vector":"Vloit vektor","submenu.array.matrix delimiters":"Oddlovae matic","menu.array.add row above":"Pidat dek za","menu.array.add row below":"Pidat dek ped","menu.array.add column after":"Pidat sloupec za","menu.array.add column before":"Pidat sloupec dve","menu.array.delete row":"Odstranit dek","menu.array.delete rows":"Odstranit vybran dky","menu.array.delete column":"Odstranit sloupec","menu.array.delete columns":"Odstranit vybran sloupce","submenu.array.insert separator":"Vlote oddlova","menu.insert table":"Vloit tabulku","submenu.table style":"Styl tabulky"},da:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Grske bogstaver","keyboard.tooltip.command":"LaTeX kommandotilstand","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerske breve","tooltip.copy to clipboard":"Kopier til udklipsholder","tooltip.redo":"Gentag igen","tooltip.toggle virtual keyboard":"Skift virtuelt tastatur","tooltip.undo":"Fortryd","menu.insert matrix":"Indst matrix","menu.insert vector":"Indst vektor","submenu.array.matrix delimiters":"Matrixafgrnsere","menu.array.add row above":"Tilfj rkke efter","menu.array.add row below":"Tilfj rkke fr","menu.array.add column after":"Tilfj kolonne efter","menu.array.add column before":"Tilfj kolonne fr","menu.array.delete row":"Slet rkke","menu.array.delete rows":"Slet valgte rkker","menu.array.delete column":"Slet kolonne","menu.array.delete columns":"Slet valgte kolonner","submenu.array.insert separator":"Indst separator","menu.insert table":"Indst tabel","submenu.table style":"Tabelstil"},de:{"keyboard.tooltip.functions":"Funktionen","keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.command":"LaTeX-Befehlsmodus","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.roman":"Rmische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfgen","menu.insert vector":"Vektor einfgen","submenu.array.matrix delimiters":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufgen nach","menu.array.add row below":"Zeile hinzufgen vor","menu.array.add column after":"Spalte hinzufgen nach","menu.array.add column before":"Spalte hinzufgen vor","menu.array.delete row":"Zeile lschen","menu.array.delete rows":"Ausgewhlte Zeilen lschen","menu.array.delete column":"Spalte lschen","menu.array.delete columns":"Ausgewhlte Spalten lschen","submenu.array.insert separator":"Trennzeichen einfgen","menu.insert table":"Tabelle einfgen","submenu.table style":"Tabellenstil"},el:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  LaTeX","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" Matrix","menu.insert vector":" ","submenu.array.matrix delimiters":" Matrix","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},es:{"keyboard.tooltip.functions":"Funciones","keyboard.tooltip.symbols":"Smbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.command":"Modo Comando LaTeX","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.roman":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Aadir Matriz","menu.insert vector":"Aadir vector","submenu.array.matrix delimiters":"Delimitadores de Matriz","menu.array.add row above":"Aadir Lnea Antes","menu.array.add row below":"Aadir Lnea Despues","menu.array.add column after":"Aadir Columna Despues","menu.array.add column before":"Aadir Columna Antes","menu.array.delete row":"Borrar Lnea","menu.array.delete rows":"Borrar Lneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","submenu.array.insert separator":"Insertar un Separador","menu.insert table":"Insertar Tabla","submenu.table style":"Estilo de Tabla"},et:{"keyboard.tooltip.functions":"Funktsioonid","keyboard.tooltip.symbols":"Smbolid","keyboard.tooltip.greek":"Kreeka kirjad","keyboard.tooltip.command":"LaTeXi ksureiim","keyboard.tooltip.numeric":"Numbriline","keyboard.tooltip.roman":"Rooma kirjad","tooltip.copy to clipboard":"Kopeerida likelauale","tooltip.redo":"Tee uuesti","tooltip.toggle virtual keyboard":"Llitage sisse virtuaalne klaviatuur","tooltip.undo":"Vta tagasi","menu.insert matrix":"Sisesta maatriks","menu.insert vector":"Sisesta vektor","submenu.array.matrix delimiters":"Maatriksi eraldajad","menu.array.add row above":"Lisa rida prast","menu.array.add row below":"Lisa rida enne","menu.array.add column after":"Lisa veerg prast","menu.array.add column before":"Lisa veerg enne","menu.array.delete row":"Kustuta rida","menu.array.delete rows":"Kustuta valitud read","menu.array.delete column":"Kustuta veerg","menu.array.delete columns":"Kustuta valitud veerud","submenu.array.insert separator":"Sisestage eraldaja","menu.insert table":"Sisesta tabeli","submenu.table style":"Tabeli stiilis"},fa:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"  ","tooltip.toggle virtual keyboard":"/  ","tooltip.undo":"  ","menu.insert matrix":"   ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"     ","menu.array.add row below":"    ","menu.array.add column after":"   ","menu.array.add column before":"    ","menu.array.delete row":"   ","menu.array.delete rows":"      ","menu.array.delete column":" ","menu.array.delete columns":"      ","submenu.array.insert separator":"  ","menu.insert table":"  ","submenu.table style":" "},fi:{"keyboard.tooltip.functions":"Toiminnot","keyboard.tooltip.symbols":"Symbolit","keyboard.tooltip.greek":"Kreikkalaiset kirjeet","keyboard.tooltip.command":"LaTeX-komentotila","keyboard.tooltip.numeric":"Numeerinen","keyboard.tooltip.roman":"Roomalaiset kirjeet","tooltip.copy to clipboard":"Kopioi leikepydlle","tooltip.redo":"Tee uudelleen","tooltip.toggle virtual keyboard":"Vaihda virtuaalinppimist","tooltip.undo":"Kumoa","menu.insert matrix":"Lis matriisi","menu.insert vector":"Lis vektori","submenu.array.matrix delimiters":"Matriisin erottimet","menu.array.add row above":"Lis rivi jlkeen","menu.array.add row below":"Lis rivi ennen","menu.array.add column after":"Lis sarake jlkeen","menu.array.add column before":"Lis sarake ennen","menu.array.delete row":"Poista rivi","menu.array.delete rows":"Poista valitut rivit","menu.array.delete column":"Poista sarake","menu.array.delete columns":"Poista valitut sarakkeet","submenu.array.insert separator":"Aseta erotin","menu.insert table":"Lis taulukko","submenu.table style":"Taulukon tyyli"},fr:{"keyboard.tooltip.functions":"Fonctions","keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.command":"Mode de commandes LaTeX","keyboard.tooltip.numeric":"Numrique","keyboard.tooltip.roman":"Lettres romaines","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rtablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Insrer une Matrice","menu.insert vector":"Insrer un Vecteur","submenu.array.matrix delimiters":"Dlimiteurs de la Matrice","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Aprs","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Aprs","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Slectiones","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes Slectiones","submenu.array.insert separator":"Insrer un Sparateur","menu.insert table":"Insrer une Table","submenu.table style":"Style de la  Table"},ga:{"keyboard.tooltip.functions":"Feidhmeanna","keyboard.tooltip.symbols":"Siombail","keyboard.tooltip.greek":"Litreacha na Grige","keyboard.tooltip.command":"Md Ord LaTeX","keyboard.tooltip.numeric":"Uimhriil","keyboard.tooltip.roman":"Litreacha Rmhnacha","tooltip.copy to clipboard":"Cipeil chuig an Ghearrthaisce","tooltip.redo":"Athdhan","tooltip.toggle virtual keyboard":"Marchlir Foril a Fhil","tooltip.undo":"Cealaigh","menu.insert matrix":"Cuir isteach Maitrs","menu.insert vector":"Cuir isteach Veicteoir","submenu.array.matrix delimiters":"Delimiters Maitrs","menu.array.add row above":"Cuir Rae Tar is","menu.array.add row below":"Cuir Rae Roimh","menu.array.add column after":"Cuir Coln Tar is","menu.array.add column before":"Cuir Coln Roimh","menu.array.delete row":"Scrios Rae","menu.array.delete rows":"Scrios Sraitheanna Roghnaithe","menu.array.delete column":"Scrios Coln","menu.array.delete columns":"Scrios Colin Roghnaithe","submenu.array.insert separator":"Cuir Deighilteoir isteach","menu.insert table":"Ionsigh Tbla","submenu.table style":"Stl Tbla"},he:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":" ","tooltip.redo":" ","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},hr:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grka slova","keyboard.tooltip.command":"LaTeX naredbeni nain","keyboard.tooltip.numeric":"Numeriki","keyboard.tooltip.roman":"Rimska slova","tooltip.copy to clipboard":"Kopirati u meuspremnik","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Ukljui / iskljui virtualnu tipkovnicu","tooltip.undo":"Poniti","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matrini razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj redak prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije","menu.array.delete row":"Izbrii redak","menu.array.delete rows":"Izbrii odabrane retke","menu.array.delete column":"Izbrii stupac","menu.array.delete columns":"Izbrii odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Umetni tablicu","submenu.table style":"Stil tabele"},id:{"keyboard.tooltip.functions":"Fungsi","keyboard.tooltip.symbols":"Simbol","keyboard.tooltip.greek":"Huruf Yunani","keyboard.tooltip.command":"Mode Perintah LaTeX","keyboard.tooltip.numeric":"Numerik","keyboard.tooltip.roman":"Surat Romawi","tooltip.copy to clipboard":"Menyalin ke clipboard","tooltip.redo":"Mengulangi","tooltip.toggle virtual keyboard":"Alihkan Keyboard Virtual","tooltip.undo":"Membuka","menu.insert matrix":"Sisipkan Matriks","menu.insert vector":"Sisipkan Vektor","submenu.array.matrix delimiters":"Pembatas Matriks","menu.array.add row above":"Tambahkan Baris Setelah","menu.array.add row below":"Tambahkan Baris Sebelumnya","menu.array.add column after":"Tambahkan Kolom Setelah","menu.array.add column before":"Tambahkan Kolom Sebelumnya","menu.array.delete row":"Hapus Baris","menu.array.delete rows":"Hapus Baris yang Dipilih","menu.array.delete column":"Hapus Kolom","menu.array.delete columns":"Hapus Kolom yang Dipilih","submenu.array.insert separator":"Sisipkan Pemisah","menu.insert table":"Sisipkan Tabel","submenu.table style":"Gaya Tabel"},hi:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"   ","tooltip.redo":"  ","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"   ","menu.array.add row below":"  ","menu.array.add column after":"   ","menu.array.add column before":"  ","menu.array.delete row":"  ","menu.array.delete rows":"   ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":"  ","submenu.table style":" "},hu:{"keyboard.tooltip.functions":"Funkcik","keyboard.tooltip.symbols":"Szimblumok","keyboard.tooltip.greek":"Grg levelek","keyboard.tooltip.command":"LaTeX Parancs md","keyboard.tooltip.numeric":"Numerikus","keyboard.tooltip.roman":"Rmai levelek","tooltip.copy to clipboard":"Msolja a vglapra","tooltip.redo":"jra","tooltip.toggle virtual keyboard":"Vlts a virtulis billentyzetre","tooltip.undo":"Visszavons","menu.insert matrix":"Helyezze be a Mtrixot","menu.insert vector":"Vektor beszrsa","submenu.array.matrix delimiters":"Mtrixhatrolk","menu.array.add row above":"Sor hozzadsa utn","menu.array.add row below":"Add Add Sor eltt","menu.array.add column after":"Oszlop hozzadsa utn","menu.array.add column before":"Add oszlop eltt","menu.array.delete row":"Sor trlse","menu.array.delete rows":"Kijellt sorok trlse","menu.array.delete column":"Oszlop trlse","menu.array.delete columns":"A kijellt oszlopok trlse","submenu.array.insert separator":"Helyezze be az elvlasztt","menu.insert table":"Helyezze be a tblzatot","submenu.table style":"Tblzatos stlus"},it:{"keyboard.tooltip.functions":"Funzioni","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.command":"Modalit di comando LaTeX","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.roman":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.insert vector":"Inserisci Vettore","submenu.array.matrix delimiters":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo","menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","submenu.array.insert separator":"Inserisci un Separatore","menu.insert table":"Inserisci Tabella","submenu.table style":"Stile tabella"},is:{"keyboard.tooltip.functions":"Agerir","keyboard.tooltip.symbols":"Tkn","keyboard.tooltip.greek":"Grsk brf","keyboard.tooltip.command":"LaTeX stjrnunarstilling","keyboard.tooltip.numeric":"Tlulegt","keyboard.tooltip.roman":"Rmversk brf","tooltip.copy to clipboard":"Afritau  klemmuspjald","tooltip.redo":"Endurtaka","tooltip.toggle virtual keyboard":"Skiptu um sndarlyklabor","tooltip.undo":"Afturkalla","menu.insert matrix":"Settu fylki inn","menu.insert vector":"Settu inn Vector","submenu.array.matrix delimiters":"Matrix afmrkun","menu.array.add row above":"Bta vi r  eftir","menu.array.add row below":"Bta vi r ur","menu.array.add column after":"Bta vi dlki  eftir","menu.array.add column before":"Bta vi dlki ur","menu.array.delete row":"Eya r","menu.array.delete rows":"Eya vldum lnum","menu.array.delete column":"Eya dlki","menu.array.delete columns":"Eya vldum dlkum","submenu.array.insert separator":"Settu skiljuna ","menu.insert table":"Settu inn tflu","submenu.table style":"Tflu stl"},ja:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":"","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.insert vector":"","submenu.array.matrix delimiters":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","submenu.array.insert separator":"","menu.insert table":"","submenu.table style":""},ko:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"  ","tooltip.redo":" ","tooltip.toggle virtual keyboard":"  ","tooltip.undo":" ","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":"  ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},lv:{"keyboard.tooltip.functions":"Funkcijas","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grieu burti","keyboard.tooltip.command":"LaTeX komandu rems","keyboard.tooltip.numeric":"Ciparu skaitlis","keyboard.tooltip.roman":"Romieu vstules","tooltip.copy to clipboard":"Kopt starpliktuv","tooltip.redo":"Prtaist","tooltip.toggle virtual keyboard":"Prslgt virtulo tastatru","tooltip.undo":"Atsaukt","menu.insert matrix":"Ievietojiet matricu","menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobeotji","menu.array.add row above":"Pievienot rindu pc","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu pc","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dzst rindu","menu.array.delete rows":"Dzst atlasts rindas","menu.array.delete column":"Dzst kolonnu","menu.array.delete columns":"Dzst atlasts kolonnas","submenu.array.insert separator":"Ievietojiet atdaltju","menu.insert table":"Ievietojiet tabulu","submenu.table style":"Galda stils"},lt:{"keyboard.tooltip.functions":"Funkcijos","keyboard.tooltip.symbols":"Simboliai","keyboard.tooltip.greek":"Graikikos raids","keyboard.tooltip.command":"LaTeX komand reimas","keyboard.tooltip.numeric":"Skaitmeninis","keyboard.tooltip.roman":"Romos laikai","tooltip.copy to clipboard":"Nukopijuoti  ikarpin","tooltip.redo":"Perdaryti","tooltip.toggle virtual keyboard":"Perjungti virtualij klaviatr","tooltip.undo":"Ataukti","menu.insert matrix":"Ievietojiet matricu","menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobeotji","menu.array.add row above":"Pievienot rindu pc","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu pc","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dzst rindu","menu.array.delete rows":"Dzst atlasts rindas","menu.array.delete column":"Dzst kolonnu","menu.array.delete columns":"Dzst atlasts kolonnas","submenu.array.insert separator":"Ievietojiet atdaltju","menu.insert table":"Ievietojiet tabulu","submenu.table style":"Tabulas stili"},lu:{"keyboard.tooltip.functions":"Funktiounen","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Griichesch Briwer","keyboard.tooltip.command":"LaTeX Kommando Modus","keyboard.tooltip.numeric":"Numeresch","keyboard.tooltip.roman":"Rimesch Briwer","tooltip.copy to clipboard":"Kopiert op Clipboard","tooltip.redo":"Nees nei maachen","tooltip.toggle virtual keyboard":"Wiesselt Virtuell Tastatur","tooltip.undo":"Undoen","menu.insert matrix":"Matrix asetzen","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Ofgrenzer","menu.array.add row above":"Dobizemaachen Rei No","menu.array.add row below":"Fgt Rei vir","menu.array.add column after":"Dobizemaachen Kolonn No","menu.array.add column before":"Kolonn derbi Virun","menu.array.delete row":"Rad lschen","menu.array.delete rows":"Lscht Ausgewielte Reien","menu.array.delete column":"Lscht Kolonn","menu.array.delete columns":"Lscht Ausgewielte Kolonnen","submenu.array.insert separator":"Insert Separator","menu.insert table":"Dsch anzeginn","submenu.table style":"Dsch Style"},nl:{"keyboard.tooltip.functions":"Functies","keyboard.tooltip.symbols":"Symbolen","keyboard.tooltip.greek":"Griekse letters","keyboard.tooltip.command":"LaTeX commando mode","keyboard.tooltip.numeric":"Numeriek","keyboard.tooltip.roman":"Romeinse letters","tooltip.copy to clipboard":"Kopiren naar klembord","tooltip.redo":"Opnieuw","tooltip.toggle virtual keyboard":"Schakel naar virtueel toetsenbord","tooltip.undo":"Ongedaan maken","menu.insert matrix":"Matrix invoegen","menu.insert vector":"Vector invoegen","submenu.array.matrix delimiters":"Matrixscheidingstekens","menu.array.add row above":"Rij toevoegen na","menu.array.add row below":"Rij toevoegen eerder","menu.array.add column after":"Kolom toevoegen na","menu.array.add column before":"Kolom toevoegen voor","menu.array.delete row":"Verwijder rij","menu.array.delete rows":"Geselecteerde rijen verwijderen","menu.array.delete column":"Kolom verwijderen","menu.array.delete columns":"Geselecteerde kolommen verwijderen","submenu.array.insert separator":"Scheidingsteken invoegen","menu.insert table":"Tabel invoegen","submenu.table style":"Tabelstijl"},no:{"keyboard.tooltip.functions":"Funksjoner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Greske bokstaver","keyboard.tooltip.command":"LaTeX kommandomodus","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerske bokstaver","tooltip.copy to clipboard":"Kopiere til utklippstavle","tooltip.redo":"Gjre om","tooltip.toggle virtual keyboard":"Bytt virtuelt tastatur","tooltip.undo":"Angre","menu.insert matrix":"Sett inn matrise","menu.insert vector":"Sett inn vektor","submenu.array.matrix delimiters":"Matrix avgrensere","menu.array.add row above":"Legg til rad etter","menu.array.add row below":"Legg til rad fr","menu.array.add column after":"Legg til kolonne etter","menu.array.add column before":"Legg til kolonne fr","menu.array.delete row":"Slett rad","menu.array.delete rows":"Slett valgte rader","menu.array.delete column":"Slett kolonne","menu.array.delete columns":"Slett valgte kolonner","submenu.array.insert separator":"Sett inn skilletegn","menu.insert table":"Sett inn tabell","submenu.table style":"Tabellstil"},mk:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"    ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":"  ","menu.array.add row above":"  ","menu.array.add row below":"   ","menu.array.add column after":"  ","menu.array.add column before":"   ","menu.array.delete row":"  ","menu.array.delete rows":"   ","menu.array.delete column":"  ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},pl:{"keyboard.tooltip.functions":"Funkcje","keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.command":"Tryb polece LaTeX","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.roman":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywr","tooltip.toggle virtual keyboard":"Przecz wirtualn klawiatur","tooltip.undo":"Cofnij","menu.insert matrix":"Wstaw macierz","menu.insert vector":"Wstaw wektor","submenu.array.matrix delimiters":"Ograniczniki macierzy","menu.array.add row above":"Dodaj wiersz po","menu.array.add row below":"Dodaj wiersz przed","menu.array.add column after":"Dodaj kolumn po","menu.array.add column before":"Dodaj kolumn przed","menu.array.delete row":"Usu wiersz","menu.array.delete rows":"Usu wybrane wiersze","menu.array.delete column":"Usu kolumn","menu.array.delete columns":"Usu wybrane kolumny","submenu.array.insert separator":"Wstaw separator","menu.insert table":"Wypenij tabel","submenu.table style":"Styl tabel"},pt:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Smbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.command":"Modo de Comando LaTeX","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.roman":"Letras romanas","tooltip.copy to clipboard":"Copiar para rea de transferncia","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.insert vector":"Inserir vetor","submenu.array.matrix delimiters":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","submenu.array.insert separator":"Inserir Separador","menu.insert table":"Insira a tabela","submenu.table style":"Estilo tabela"},ro:{"keyboard.tooltip.functions":"Funcii","keyboard.tooltip.symbols":"Simboluri","keyboard.tooltip.greek":"Scrisori greceti","keyboard.tooltip.command":"Modul de comand latex","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Scrisori romane","tooltip.copy to clipboard":"Copiai n clipboard","tooltip.redo":"A reface","tooltip.toggle virtual keyboard":"Comutai tastatura virtual","tooltip.undo":"Anula","menu.insert matrix":"Introducei Matrix","menu.insert vector":"Inserai Vector","submenu.array.matrix delimiters":"Delimitatori de matrice","menu.array.add row above":"Adugai rndul dup","menu.array.add row below":"Adugai rndul nainte","menu.array.add column after":"Adugai o coloan dup","menu.array.add column before":"Adugai o coloan nainte","menu.array.delete row":"tergei rndul","menu.array.delete rows":"tergei rndurile selectate","menu.array.delete column":"tergei coloana","menu.array.delete columns":"tergei coloanele selectate","submenu.array.insert separator":"Introducei separatorul","menu.insert table":"Introducei tabelul","submenu.table style":"Table style"},ru:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"   ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"   ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},sk:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"Grcke listy","keyboard.tooltip.command":"Prkazov reim LaTeX","keyboard.tooltip.numeric":"Numerick","keyboard.tooltip.roman":"Rmske listy","tooltip.copy to clipboard":"Skoprova do schrnky","tooltip.redo":"Znova","tooltip.toggle virtual keyboard":"Prepn virtulnu klvesnicu","tooltip.undo":"Vrtenie sp","menu.insert matrix":"Vlote maticu","menu.insert vector":"Vlote vektor","submenu.array.matrix delimiters":"Oddeovae matc","menu.array.add row above":"Pridajte riadok za","menu.array.add row below":"Pridajte riadok pred","menu.array.add column after":"Prida stpec za","menu.array.add column before":"Pridajte stpec predtm","menu.array.delete row":"Odstrni riadok","menu.array.delete rows":"Odstrni vybrat riadky","menu.array.delete column":"Odstrni stpec","menu.array.delete columns":"Odstrni vybrat stpce","submenu.array.insert separator":"Vlote oddeova","menu.insert table":"Vlote tabuku","submenu.table style":"tl tabuky"},sl:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grka pisma","keyboard.tooltip.command":"Ukazni nain LaTeX","keyboard.tooltip.numeric":"tevilsko","keyboard.tooltip.roman":"Rimska pisma","tooltip.copy to clipboard":"Kopirati v odloie","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Preklop navidezne tipkovnice","tooltip.undo":"Razveljavi","menu.insert matrix":"Vstavi matrico","menu.insert vector":"Vstavi vektor","submenu.array.matrix delimiters":"Matrini loevalniki","menu.array.add row above":"Dodaj vrstico po","menu.array.add row below":"Dodaj vrstico prej","menu.array.add column after":"Dodaj stolpec po","menu.array.add column before":"Dodaj stolpec prej","menu.array.delete row":"Izbrii vrstico","menu.array.delete rows":"Izbrii izbrane vrstice","menu.array.delete column":"Izbrii stolpec","menu.array.delete columns":"Izbrii izbrane stolpce","submenu.array.insert separator":"Vstavi loilo","menu.insert table":"Vstavi tabelo","submenu.table style":"Tabela slog"},sq:{"keyboard.tooltip.functions":"Funksione","keyboard.tooltip.symbols":"Simbolet","keyboard.tooltip.greek":"Letrat Greke","keyboard.tooltip.command":"Modaliteti i komands latex","keyboard.tooltip.numeric":"Numerike","keyboard.tooltip.roman":"Letrat romake","tooltip.copy to clipboard":"Kopjoni n Clipboard","tooltip.redo":"Riparo","tooltip.toggle virtual keyboard":"Aktivizo tastiern virtuale","tooltip.undo":"Zhbj","menu.insert matrix":"Vendosni Matricn","menu.insert vector":"Vendos vektorin","submenu.array.matrix delimiters":"Prcaktuesit e matrics","menu.array.add row above":"Shto Rreshtin Pas","menu.array.add row below":"Shto Rreshtin Para","menu.array.add column after":"Shto kolonn pas","menu.array.add column before":"Shto kolonn para","menu.array.delete row":"Fshi Rreshtin","menu.array.delete rows":"Fshi rreshtat e zgjedhur","menu.array.delete column":"Fshi kolonn","menu.array.delete columns":"Fshi kolonat e zgjedhura","submenu.array.insert separator":"Vendos Ndarsin","menu.insert table":"Vendos tabeln","submenu.table style":"Stili tabeln"},sr:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":" /   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},sv:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Grekiska bokstver","keyboard.tooltip.command":"LaTeX kommandolge","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerska bokstver","tooltip.copy to clipboard":"Kopiera till Urklipp","tooltip.redo":"Gra om","tooltip.toggle virtual keyboard":"Vxla virtuellt tangentbord","tooltip.undo":"ngra","menu.insert matrix":"Stt in matris","menu.insert vector":"Infoga vektor","submenu.array.matrix delimiters":"Matrisavgrnsare","menu.array.add row above":"Lgg till rad efter","menu.array.add row below":"Lgg till rad fre","menu.array.add column after":"Lgg till kolumn efter","menu.array.add column before":"Lgg till kolumn fre","menu.array.delete row":"Radera rad","menu.array.delete rows":"Ta bort valda rader","menu.array.delete column":"Ta bort kolumn","menu.array.delete columns":"Ta bort valda kolumner","submenu.array.insert separator":"Stt i separator","menu.insert table":"Infoga tabell","submenu.table style":"Tabellstil"},th:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.insert vector":"","submenu.array.matrix delimiters":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","submenu.array.insert separator":"","menu.insert table":"","submenu.table style":""},tr:{"keyboard.tooltip.functions":"Fonksiyonlar","keyboard.tooltip.symbols":"Semboller","keyboard.tooltip.greek":"Yunan harfleri","keyboard.tooltip.command":"LaTeX Komut Modu","keyboard.tooltip.numeric":"Saysal","keyboard.tooltip.roman":"Roma Harfleri","tooltip.copy to clipboard":"Panoya kopyala","tooltip.redo":"Yeniden yap","tooltip.toggle virtual keyboard":"Sanal Klavyeyi A/Kapat","tooltip.undo":"Geri alma","menu.insert matrix":"Matris Ekle","menu.insert vector":"Vektr Ekle","submenu.array.matrix delimiters":"Matris Snrlayclar","menu.array.add row above":"Satrdan Sonra Ekle","menu.array.add row below":"nce Satr Ekle","menu.array.add column after":"Sonra Stun Ekle","menu.array.add column before":"nce Stun Ekle","menu.array.delete row":"Sray sil","menu.array.delete rows":"Seili Satrlar Sil","menu.array.delete column":"Stunu Sil","menu.array.delete columns":"Seili Stunlar Sil","submenu.array.insert separator":"Ayrc Ekle","menu.insert table":"Tablo Ekle","submenu.table style":"Tablo Stili"},uk:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"   ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},vi:{"keyboard.tooltip.functions":"Chc nng","keyboard.tooltip.symbols":"K hiu","keyboard.tooltip.greek":"Ch Hy Lp","keyboard.tooltip.command":"Ch  lnh LaTeX","keyboard.tooltip.numeric":"S","keyboard.tooltip.roman":"Ch ci La m","tooltip.copy to clipboard":"Sao chp vo clipboard","tooltip.redo":"Lm li","tooltip.toggle virtual keyboard":"Chuyn i bn phm o","tooltip.undo":"Hon tc","menu.insert matrix":"Chn ma trn","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Du phn cch ma trn","menu.array.add row above":"Thm hng sau","menu.array.add row below":"Thm hng trc","menu.array.add column after":"Thm ct sau","menu.array.add column before":"Thm ct trc","menu.array.delete row":"Xa hng","menu.array.delete rows":"Xa hng  chn","menu.array.delete column":"Xa ct","menu.array.delete columns":"Xa cc ct  chn","submenu.array.insert separator":"Chn du phn cch","menu.insert table":"Chn bng","submenu.table style":"Kiu bng"},zh_cn:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.insert vector":"","submenu.array.matrix delimiters":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"r","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","submenu.array.insert separator":"","menu.insert table":"","submenu.table style":""},zh_tw:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":"","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.insert vector":"","submenu.array.matrix delimiters":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","submenu.array.insert separator":"","menu.insert table":"","submenu.table style":""}},_locale:"",get locale(){return le._locale||(le._locale=ue()?navigator.language.slice(0,5):"en"),le._locale},set locale(t){le._locale=t},merge(t,e){if(t&&e){const r=le._locale;le.locale=t,le.strings[t]={...le.strings[t],...e},le.locale=r}else if(t&&!e)for(const r of Object.keys(t))le.merge(r,t[r])}};function ho(t){if(t===void 0)return;const e=le.locale.slice(0,2);let r="";return le.strings[le.locale]&&(r=le.strings[le.locale][t]),!r&&le.strings[e]&&(r=le.strings[e][t]),r||(r=le.strings.en[t]),r||void 0}const My={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},Ly={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},zs={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},As={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},Zm={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},Cy={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function cl(t){var e,r,n,i,o,a;const s=t.split("!");let l,u,c,d=255,p=255,f=255,g=-1;const v=s.length>0&&s[0].startsWith("-");v&&(s[0]=s[0].slice(1));for(let k=0;k<s.length;k++){l=d,u=p,c=f;const b=(e=s[k].trim().match(/^([A-Za-z\d]+)/))===null||e===void 0?void 0:e[1],y=b==null?void 0:b.toLowerCase(),m=b&&(a=(o=(i=(n=(r=As[y])!==null&&r!==void 0?r:As[Zm[b]])!==null&&n!==void 0?n:Ly[b])!==null&&i!==void 0?i:Cy[b])!==null&&o!==void 0?o:My[b])!==null&&a!==void 0?a:s[k].trim();let h=m.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if(h!=null&&h[1]&&h[2]&&h[3])d=Math.max(0,Math.min(255,Number.parseInt(h[1],16))),p=Math.max(0,Math.min(255,Number.parseInt(h[2],16))),f=Math.max(0,Math.min(255,Number.parseInt(h[3],16)));else if(h=m.match(/^#([\da-f]{3})$/i),h==null?void 0:h[1]){const w=Number.parseInt(h[1][0],16),x=Number.parseInt(h[1][1],16),S=Number.parseInt(h[1][2],16);d=Math.max(0,Math.min(255,16*w+w)),p=Math.max(0,Math.min(255,16*x+x)),f=Math.max(0,Math.min(255,16*S+S))}else{if(h=m.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),!(h!=null&&h[1]&&h[2]&&h[3]))return;d=Math.max(0,Math.min(255,Number.parseInt(h[1]))),p=Math.max(0,Math.min(255,Number.parseInt(h[2]))),f=Math.max(0,Math.min(255,Number.parseInt(h[3])))}g>=0&&(d=(1-g)*d+g*l,p=(1-g)*p+g*u,f=(1-g)*f+g*c,g=-1),k+1<s.length&&(g=Math.max(0,Math.min(100,Number.parseInt(s[++k])))/100)}return g>=0&&(d=g*d+(1-g)*l,p=g*p+(1-g)*u,f=g*f+(1-g)*c),v&&(d=255-d,p=255-p,f=255-f),"#"+("00"+Math.round(d).toString(16)).slice(-2)+("00"+Math.round(p).toString(16)).slice(-2)+("00"+Math.round(f).toString(16)).slice(-2)}function Bc(t){var e,r;return t=t.trim(),(r=(e=zs[t.toLowerCase()])!==null&&e!==void 0?e:zs[Zm[t]])!==null&&r!==void 0?r:cl(t)}function Ql(t,e,r){return r<0&&(r+=6),r>=6&&(r-=6),r<1?(e-t)*r+t:r<3?e:r<4?(e-t)*(4-r)+t:t}function Yl(t){return t<0?0:t>255?255:Math.round(t)}function Zd(t){let e=function(o){if(!o||o[0]!=="#")return;let a;return(o=o.slice(1)).length<=4?(a={r:parseInt(o[0]+o[0],16),g:parseInt(o[1]+o[1],16),b:parseInt(o[2]+o[2],16)},o.length===4&&(a.a=parseInt(o[3]+o[3],16)/255)):(a={r:parseInt(o[0]+o[1],16),g:parseInt(o[2]+o[3],16),b:parseInt(o[4]+o[5],16)},o.length===8&&(a.a=parseInt(o[6]+o[7],16)/255)),a&&a.a===void 0&&(a.a=1),a}(t);if(!e)return t;let{h:r,s:n,l:i}=function(o){let{r:a,g:s,b:l}=o;a/=255,s/=255,l/=255;const u=Math.min(a,s,l),c=Math.max(a,s,l),d=c-u;let p,f;c===u?p=0:a===c?p=(s-l)/d:s===c?p=2+(l-a)/d:l===c&&(p=4+(a-s)/d),p=Math.min(60*p,360),p<0&&(p+=360);const g=(u+c)/2;return f=c===u?0:g<=.5?d/(c+u):d/(2-c-u),{h:p,s:f,l:g}}(e);return n+=.1,i-=.1,function(o){const{r:a,g:s,b:l}=o;let u=((1<<24)+(Yl(a)<<16)+(Yl(s)<<8)+Yl(l)).toString(16).slice(1);return u[0]===u[1]&&u[2]===u[3]&&u[4]===u[5]&&u[6]===u[7]&&(u=u[0]+u[2]+u[4]),"#"+u}(function(o){let[a,s,l]=[o.h,o.s,o.l];a=(a+360)%360/60,l=Math.max(0,Math.min(l,1)),s=Math.max(0,Math.min(s,1));const u=l<=.5?l*(s+1):l+s-l*s,c=2*l-u;return{r:Math.round(255*Ql(c,u,a+2)),g:Math.round(255*Ql(c,u,a)),b:Math.round(255*Ql(c,u,a-2))}}({h:r,s:n,l:i}))}const zr={},Ts={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},Tr={},Qm={},zy={iff:"\\;\\;",nicefrac:"^{#1}\\!\\!/\\!_{#2}",rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}","braket.sty":{package:{bra:"\\mathinner{\\langle{#1}|}",ket:"\\mathinner{|{#1}\\rangle}",braket:"\\mathinner{\\langle{#1}\\rangle}",set:"\\mathinner{\\lbrace #1 \\rbrace}",Bra:"\\left\\langle #1\\right|",Ket:"\\left|#1\\right\\rangle",Braket:"\\left\\langle{#1}\\right\\rangle",Set:"\\left\\lbrace #1 \\right\\rbrace"}},"amsmath.sty":{package:{varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},expand:!1},"texvc.sty":{package:{darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",N:"\\mathbb{N}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",lArr:"\\Leftarrow",Larr:"\\Leftarrow",lrarr:"\\leftrightarrow",lrArr:"\\Leftrightarrow",Lrarr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",plusmn:"\\pm",rarr:"\\rightarrow",rArr:"\\Rightarrow",Rarr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",weierp:"\\wp",Zeta:"\\mathrm{Z}"},expand:!1}},rn={" ":32,"\\#":35,"\\&":38,"\\$":36,"\\%":37,"\\_":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbraceleft":123,"\\textbraceright":125,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"":8211,"":8212,"":8216,"":8217,"":8220,"":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},Ay=/[\w!@*()-=+{}[\]\\';:?/.,~<>`|$%#&^" ]/,Ty=Gm()?new RegExp("\\p{Letter}","u"):/[a-zA-Z\u0430\u0410\u0431\u0411\u0432\u0412\u0433\u0413\u0434\u0414\u0435\u0415\u0451\u0401\u0436\u0416\u0437\u0417\u0438\u0418\u0439\u0419\u043a\u041a\u043b\u041b\u043c\u041c\u043d\u041d\u043e\u041e\u043f\u041f\u0440\u0420\u0441\u0421\u0442\u0422\u0443\u0423\u0444\u0424\u0445\u0425\u0446\u0426\u0447\u0427\u0448\u0428\u0449\u0429\u044a\u042a\u044b\u042b\u044c\u042c\u044d\u042d\u044e\u042e\u044f\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\xe0\xe2\xe4\xf4\xe9\xe8\xeb\xea\xef\xee\xe7\xf9\xfb\xfc\xff\xe6\u0153\xc0\xc2\xc4\xd4\xc9\xc8\xcb\xca\xcf\xce\u0178\xc7\xd9\xdb\xdc\xc6\u0152\xf6\xdf\xd6\u1e9e\xec\xed\xf2\xfa\xcc\xcd\xd2\xda\xe1\xf1\xc1\xd1]/,Ds=Gm()?new RegExp("[0-9\\p{Letter}]","u"):/[\da-zA-Z\u0430\u0410\u0431\u0411\u0432\u0412\u0433\u0413\u0434\u0414\u0435\u0415\u0451\u0401\u0436\u0416\u0437\u0417\u0438\u0418\u0439\u0419\u043a\u041a\u043b\u041b\u043c\u041c\u043d\u041d\u043e\u041e\u043f\u041f\u0440\u0420\u0441\u0421\u0442\u0422\u0443\u0423\u0444\u0424\u0445\u0425\u0446\u0426\u0447\u0427\u0448\u0428\u0449\u0429\u044a\u042a\u044b\u042b\u044c\u042c\u044d\u042d\u044e\u042e\u044f\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\xe0\xe2\xe4\xf4\xe9\xe8\xeb\xea\xef\xee\xe7\xf9\xfb\xfc\xff\xe6\u0153\xc0\xc2\xc4\xd4\xc9\xc8\xcb\xca\xcf\xce\u0178\xc7\xd9\xdb\xdc\xc6\u0152\xf6\xdf\xd6\u1e9e\xec\xed\xf2\xfa\xcc\xcd\xd2\xda\xe1\xf1\xc1\xd1]/;function f0(t,e,r="mord",n){e!==void 0&&(zr[t]={definitionType:"symbol",type:r,variant:n,codepoint:e},Ts[e]||(Ts[e]=t),rn[t]||(rn[t]=e))}function He(t,e,r){if(typeof t!="string")for(const[n,i,o,a]of t)f0(n,i,o??e,a??r);else for(let n=0;n<t.length;n++){const i=t.charAt(n);f0(i,i.codePointAt(0))}}function Qd(t,e){for(let r=t;r<=e;r++)f0(String.fromCodePoint(r),r)}function Es(t,e){if(e===void 0)return"";if(t==="math"&&Ts[e])return Ts[e];if(t==="text"){let r=Object.keys(rn).find(n=>rn[n]===e);if(!r){const n=e.toString(16);r="^".repeat(n.length)+n}return r}return String.fromCodePoint(e)}const y0={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},Ym=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"},{start:120822,len:10,offset:48,variant:"monospace"}];function Yd(t){let e="auto";const r=t.match(/:([^=]+)/);return r&&(e=r[1].trim()),e}function $s(t){if(!t)return[];const e=[];let r=t.split("]");if(r[0].startsWith("[")){e.push({isOptional:!0,type:Yd(r[0].slice(1))});for(let n=1;n<=r.length;n++)e.push(...$s(r[n]))}else if(r=t.split("}"),r[0].startsWith("{")){e.push({isOptional:!1,type:Yd(r[0].slice(1))});for(let n=1;n<=r.length;n++)e.push(...$s(r[n]))}return e}function ep(t){if(!t)return"";let e="",r=!0;for(const n of t)typeof n.value=="string"?e+=n.value:r=!1;return r?e:""}function Xa(t,e,r,n=!1){typeof t=="string"&&(t=[t]);const i={tabular:n,params:$s(e),createAtom:r};for(const o of t)Qm[o]=i}function pr(t,e,r){Xa(t,e,r,!0)}function z(t,e,r){var n,i;r||(r={});const o={definitionType:"function",params:$s(e),ifMode:r.ifMode,isFunction:(n=r.isFunction)!==null&&n!==void 0&&n,applyMode:r.applyMode,infix:(i=r.infix)!==null&&i!==void 0&&i,createAtom:r.createAtom,applyStyle:r.applyStyle};if(typeof t=="string")Tr["\\"+t]=o;else for(const a of t)Tr["\\"+a]=o}let Ca;function e1(t){return Ca||(Ca=g0(zy)),t?g0({...Ca,...t}):Ca}function tp(t,e){var r,n,i,o;if(typeof t=="string"){let a=0;const s=t;return/(^|[^\\])#1/.test(s)&&(a=1),/(^|[^\\])#2/.test(s)&&(a=2),/(^|[^\\])#3/.test(s)&&(a=3),/(^|[^\\])#4/.test(s)&&(a=4),/(^|[^\\])#5/.test(s)&&(a=5),/(^|[^\\])#6/.test(s)&&(a=6),/(^|[^\\])#7/.test(s)&&(a=7),/(^|[^\\])#8/.test(s)&&(a=8),/(^|[^\\])#9/.test(s)&&(a=9),{expand:(r=e==null?void 0:e.expand)===null||r===void 0||r,captureSelection:(n=e==null?void 0:e.captureSelection)===null||n===void 0||n,args:a,def:s}}return{expand:(i=e==null?void 0:e.expand)===null||i===void 0||i,captureSelection:(o=e==null?void 0:e.captureSelection)===null||o===void 0||o,args:0,...t}}function g0(t){if(!t)return{};const e={};for(const r of Object.keys(t)){const n=t[r];if(n==null)delete e[r];else if(typeof n=="object"&&"package"in n)for(const i of Object.keys(n.package))e[i]=tp(n.package[i],{expand:n.expand,captureSelection:n.captureSelection});else e[r]=tp(n)}return e}const _=[0,.69444,0,0],P=[0,.61111,0,0],R=[.25,.75,0,0],q=[0,.44444,0,0],I=[0,.68611,0,0],j=[.19444,.69444,0,0],V=[0,.68333,0,0],U=[0,.68889,0,0],Y=[0,.69141,0,0],X=[0,0,0,0],be=[0,.64444,0,0],Pe=[0,.69224,0,0],Oe=[.19444,.44444,0,0],Qe=[.65002,1.15,0,0],st=[0,.55556,0,0],dt=[.35001,.85,0,0],pt=[1.25003,1.75,0,0],ht=[.95003,1.45,0,0],kt=[0,.75,0,0],wt=[0,.47534,0,0],Rt=[.25001,.75,0,0],qt=[.55001,1.05,0,0],eu=[.16667,.68889,0,0],It=[.08167,.58167,0,0];var Dy={"AMS-Regular":{32:X,65:U,66:U,67:U,68:U,69:U,70:U,71:U,72:U,73:U,74:eu,75:U,76:U,77:U,78:U,79:eu,80:U,81:eu,82:U,83:U,84:U,85:U,86:U,87:U,88:U,89:U,90:U,107:U,160:X,165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:U,295:U,710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:It,1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:U,8487:U,8498:U,8502:U,8503:U,8504:U,8513:U,8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:Pe,8625:Pe,8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:U,8709:It,8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:It,8733:Pe,8736:Pe,8737:Pe,8738:[.03517,.52239,0,0],8739:It,8740:[.25142,.74111,0,0],8741:It,8742:[.25142,.74111,0,0],8756:Pe,8757:Pe,8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:It,8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:Pe,8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:Pe,8873:Pe,8874:Pe,8876:U,8877:U,8878:U,8879:U,8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:It,8905:It,8906:It,8907:Pe,8908:Pe,8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:Pe,8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:Pe,9488:Pe,9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:Pe,10016:Pe,10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:It,57351:It,57352:It,57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{32:X,65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889],160:X},"Fraktur-Regular":{32:X,33:Y,34:Y,38:Y,39:Y,40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:wt,49:wt,50:wt,51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:Y,55:[.18906,.47534,0,0],56:Y,57:[.18906,.47534,0,0],58:wt,59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:Y,65:Y,66:Y,67:Y,68:Y,69:Y,70:[.12604,.69141,0,0],71:Y,72:[.06302,.69141,0,0],73:Y,74:[.12604,.69141,0,0],75:Y,76:Y,77:Y,78:Y,79:Y,80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:Y,83:Y,84:Y,85:Y,86:Y,87:Y,88:Y,89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:Y,97:wt,98:Y,99:wt,100:[0,.62119,0,0],101:wt,102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:Y,106:Y,107:Y,108:Y,109:wt,110:wt,111:wt,112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:wt,115:wt,116:[0,.62119,0,0],117:wt,118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],160:X,8216:Y,8217:Y,58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:Y,58118:[0,.62119,0,0],58119:wt},"Main-Bold":{32:X,33:_,34:_,35:j,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:_,39:_,40:R,41:R,42:kt,43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:q,46:[0,.15556,0,0],47:R,48:be,49:be,50:be,51:be,52:be,53:be,54:be,55:be,56:be,57:be,58:q,59:Oe,60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:_,64:_,65:I,66:I,67:I,68:I,69:I,70:I,71:I,72:I,73:I,74:I,75:I,76:I,77:I,78:I,79:I,80:I,81:[.19444,.68611,0,0],82:I,83:I,84:I,85:I,86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:I,89:[0,.68611,.02875,0],90:I,91:R,92:R,93:R,94:_,95:[.31,.13444,.03194,0],97:q,98:_,99:q,100:_,101:q,102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:_,105:_,106:j,107:_,108:_,109:q,110:q,111:q,112:Oe,113:Oe,114:q,115:q,116:[0,.63492,0,0],117:q,118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:q,121:[.19444,.44444,.01597,0],122:q,123:R,124:R,125:R,126:[.35,.34444,0,0],160:X,163:_,168:_,172:q,176:_,177:[.13333,.63333,0,0],184:[.17014,0,0,0],198:I,215:[.13333,.63333,0,0],216:[.04861,.73472,0,0],223:_,230:q,247:[.13333,.63333,0,0],248:[.09722,.54167,0,0],305:q,338:I,339:q,567:Oe,710:_,711:[0,.63194,0,0],713:[0,.59611,0,0],714:_,715:_,728:_,729:_,730:_,732:_,733:_,915:I,916:I,920:I,923:I,926:I,928:I,931:I,933:I,934:I,936:I,937:I,8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:_,8217:_,8220:_,8221:_,8224:j,8225:j,8242:st,8407:[0,.72444,.15486,0],8463:_,8465:_,8467:_,8472:Oe,8476:_,8501:_,8592:[-.10889,.39111,0,0],8593:j,8594:[-.10889,.39111,0,0],8595:j,8596:[-.10889,.39111,0,0],8597:R,8598:j,8599:j,8600:j,8601:j,8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:j,8658:[-.10889,.39111,0,0],8659:j,8660:[-.10889,.39111,0,0],8661:R,8704:_,8706:[0,.69444,.06389,0],8707:_,8709:[.05556,.75,0,0],8711:I,8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:R,8726:R,8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:q,8734:q,8736:Pe,8739:R,8741:R,8743:st,8744:st,8745:st,8746:st,8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:j,8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:st,8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:st,8852:st,8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:_,8867:_,8868:_,8869:_,8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:R,8969:R,8970:R,8971:R,8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:j,9657:[-.02778,.47222,0,0],9661:j,9667:[-.02778,.47222,0,0],9711:j,9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:kt,9838:j,9839:j,10216:R,10217:R,10815:I,10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0],57376:j},"Main-BoldItalic":{32:X,33:[0,.69444,.11417,0],34:[0,.69444,.07939,0],35:[.19444,.69444,.06833,0],37:[.05556,.75,.12861,0],38:[0,.69444,.08528,0],39:[0,.69444,.12945,0],40:[.25,.75,.15806,0],41:[.25,.75,.03306,0],42:[0,.75,.14333,0],43:[.10333,.60333,.03306,0],44:[.19444,.14722,0,0],45:[0,.44444,.02611,0],46:[0,.14722,0,0],47:[.25,.75,.15806,0],48:[0,.64444,.13167,0],49:[0,.64444,.13167,0],50:[0,.64444,.13167,0],51:[0,.64444,.13167,0],52:[.19444,.64444,.13167,0],53:[0,.64444,.13167,0],54:[0,.64444,.13167,0],55:[.19444,.64444,.13167,0],56:[0,.64444,.13167,0],57:[0,.64444,.13167,0],58:[0,.44444,.06695,0],59:[.19444,.44444,.06695,0],61:[-.10889,.39111,.06833,0],63:[0,.69444,.11472,0],64:[0,.69444,.09208,0],65:I,66:[0,.68611,.0992,0],67:[0,.68611,.14208,0],68:[0,.68611,.09062,0],69:[0,.68611,.11431,0],70:[0,.68611,.12903,0],71:[0,.68611,.07347,0],72:[0,.68611,.17208,0],73:[0,.68611,.15681,0],74:[0,.68611,.145,0],75:[0,.68611,.14208,0],76:I,77:[0,.68611,.17208,0],78:[0,.68611,.17208,0],79:[0,.68611,.09062,0],80:[0,.68611,.0992,0],81:[.19444,.68611,.09062,0],82:[0,.68611,.02559,0],83:[0,.68611,.11264,0],84:[0,.68611,.12903,0],85:[0,.68611,.17208,0],86:[0,.68611,.18625,0],87:[0,.68611,.18625,0],88:[0,.68611,.15681,0],89:[0,.68611,.19803,0],90:[0,.68611,.14208,0],91:[.25,.75,.1875,0],93:[.25,.75,.09972,0],94:[0,.69444,.06709,0],95:[.31,.13444,.09811,0],97:[0,.44444,.09426,0],98:[0,.69444,.07861,0],99:[0,.44444,.05222,0],100:[0,.69444,.10861,0],101:[0,.44444,.085,0],102:[.19444,.69444,.21778,0],103:[.19444,.44444,.105,0],104:[0,.69444,.09426,0],105:[0,.69326,.11387,0],106:[.19444,.69326,.1672,0],107:[0,.69444,.11111,0],108:[0,.69444,.10861,0],109:[0,.44444,.09426,0],110:[0,.44444,.09426,0],111:[0,.44444,.07861,0],112:[.19444,.44444,.07861,0],113:[.19444,.44444,.105,0],114:[0,.44444,.11111,0],115:[0,.44444,.08167,0],116:[0,.63492,.09639,0],117:[0,.44444,.09426,0],118:[0,.44444,.11111,0],119:[0,.44444,.11111,0],120:[0,.44444,.12583,0],121:[.19444,.44444,.105,0],122:[0,.44444,.13889,0],126:[.35,.34444,.11472,0],160:X,168:[0,.69444,.11473,0],176:_,184:[.17014,0,0,0],198:[0,.68611,.11431,0],216:[.04861,.73472,.09062,0],223:[.19444,.69444,.09736,0],230:[0,.44444,.085,0],248:[.09722,.54167,.09458,0],305:[0,.44444,.09426,0],338:[0,.68611,.11431,0],339:[0,.44444,.085,0],567:[.19444,.44444,.04611,0],710:[0,.69444,.06709,0],711:[0,.63194,.08271,0],713:[0,.59444,.10444,0],714:[0,.69444,.08528,0],715:_,728:[0,.69444,.10333,0],729:[0,.69444,.12945,0],730:_,732:[0,.69444,.11472,0],733:[0,.69444,.11472,0],915:[0,.68611,.12903,0],916:I,920:[0,.68611,.09062,0],923:I,926:[0,.68611,.15092,0],928:[0,.68611,.17208,0],931:[0,.68611,.11431,0],933:[0,.68611,.10778,0],934:[0,.68611,.05632,0],936:[0,.68611,.10778,0],937:[0,.68611,.0992,0],8211:[0,.44444,.09811,0],8212:[0,.44444,.09811,0],8216:[0,.69444,.12945,0],8217:[0,.69444,.12945,0],8220:[0,.69444,.16772,0],8221:[0,.69444,.07939,0]},"Main-Italic":{32:X,33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:V,66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:V,77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],160:X,168:[0,.66786,.10474,0],176:_,184:[.17014,0,0,0],198:[0,.68333,.12028,0],216:[.04861,.73194,.09403,0],223:[.19444,.69444,.10514,0],230:[0,.43056,.07514,0],248:[.09722,.52778,.09194,0],338:[0,.68333,.12028,0],339:[0,.43056,.07514,0],710:[0,.69444,.06646,0],711:[0,.62847,.08295,0],713:[0,.56167,.10333,0],714:[0,.69444,.09694,0],715:_,728:[0,.69444,.10806,0],729:[0,.66786,.11752,0],730:_,732:[0,.66786,.11585,0],733:[0,.69444,.1225,0],915:[0,.68333,.13305,0],916:V,920:[0,.68333,.09403,0],923:V,926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:U},"Main-Regular":{32:X,33:_,34:_,35:j,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:_,39:_,40:R,41:R,42:kt,43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:R,48:be,49:be,50:be,51:be,52:be,53:be,54:be,55:be,56:be,57:be,58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:_,64:_,65:V,66:V,67:V,68:V,69:V,70:V,71:V,72:V,73:V,74:V,75:V,76:V,77:V,78:V,79:V,80:V,81:[.19444,.68333,0,0],82:V,83:V,84:V,85:V,86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:V,89:[0,.68333,.025,0],90:V,91:R,92:R,93:R,94:_,95:[.31,.12056,.02778,0],97:[0,.43056,0,0],98:_,99:[0,.43056,0,0],100:_,101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:_,105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:_,108:_,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:R,124:R,125:R,126:[.35,.31786,0,0],160:X,163:_,167:j,168:[0,.66786,0,0],172:[0,.43056,0,0],176:_,177:[.08333,.58333,0,0],182:j,184:[.17014,0,0,0],198:V,215:[.08333,.58333,0,0],216:[.04861,.73194,0,0],223:_,230:[0,.43056,0,0],247:[.08333,.58333,0,0],248:[.09722,.52778,0,0],305:[0,.43056,0,0],338:V,339:[0,.43056,0,0],567:[.19444,.43056,0,0],710:_,711:[0,.62847,0,0],713:[0,.56778,0,0],714:_,715:_,728:_,729:[0,.66786,0,0],730:_,732:[0,.66786,0,0],733:_,915:V,916:V,920:V,923:V,926:V,928:V,931:V,933:V,934:V,936:V,937:V,8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:_,8217:_,8220:_,8221:_,8224:j,8225:j,8230:[0,.12,0,0],8242:st,8407:[0,.71444,.15382,0],8463:U,8465:_,8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:_,8501:_,8592:[-.13313,.36687,0,0],8593:j,8594:[-.13313,.36687,0,0],8595:j,8596:[-.13313,.36687,0,0],8597:R,8598:j,8599:j,8600:j,8601:j,8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:j,8658:[-.13313,.36687,0,0],8659:j,8660:[-.13313,.36687,0,0],8661:R,8704:_,8706:[0,.69444,.05556,.08334],8707:_,8709:[.05556,.75,0,0],8711:V,8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:R,8726:R,8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:Pe,8739:R,8741:R,8743:st,8744:st,8745:st,8746:st,8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:j,8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:st,8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:st,8852:st,8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:_,8867:_,8868:_,8869:_,8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:R,8969:R,8970:R,8971:R,8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:j,9657:[-.03472,.46528,0,0],9661:j,9667:[-.03472,.46528,0,0],9711:j,9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:kt,9838:j,9839:j,10216:R,10217:R,10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:V,10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0],57376:j},"Math-BoldItalic":{32:X,48:q,49:q,50:q,51:Oe,52:Oe,53:Oe,54:be,55:Oe,56:be,57:Oe,65:I,66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:I,72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:I,77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:q,98:_,99:q,100:_,101:q,102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:_,105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:q,110:q,111:q,112:Oe,113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:q,116:[0,.63492,0,0],117:q,118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:q,121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],160:X,915:[0,.68611,.15972,0],916:I,920:[0,.68611,.03194,0],923:I,926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:I,936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:q,946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:q,950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:q,954:q,955:_,956:Oe,957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:q,960:[0,.44444,.03704,0],961:Oe,962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:Oe,967:Oe,968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:_,981:j,982:[0,.44444,.03194,0],1009:Oe,1013:q,57649:q,57911:Oe},"Math-Italic":{32:X,48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:be,55:[.19444,.43056,0,0],56:be,57:[.19444,.43056,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:_,99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:_,105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],160:X,915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:_,956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556],57649:[0,.43056,0,.02778],57911:[.19444,.43056,0,.08334]},"SansSerif-Bold":{32:X,33:_,34:_,35:j,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:_,39:_,40:R,41:R,42:kt,43:[.11667,.61667,0,0],44:[.10556,.13056,0,0],45:[0,.45833,0,0],46:[0,.13056,0,0],47:R,48:_,49:_,50:_,51:_,52:_,53:_,54:_,55:_,56:_,57:_,58:[0,.45833,0,0],59:[.10556,.45833,0,0],61:[-.09375,.40625,0,0],63:_,64:_,65:_,66:_,67:_,68:_,69:_,70:_,71:_,72:_,73:_,74:_,75:_,76:_,77:_,78:_,79:_,80:_,81:[.10556,.69444,0,0],82:_,83:_,84:_,85:_,86:[0,.69444,.01528,0],87:[0,.69444,.01528,0],88:_,89:[0,.69444,.0275,0],90:_,91:R,93:R,94:_,95:[.35,.10833,.03056,0],97:[0,.45833,0,0],98:_,99:[0,.45833,0,0],100:_,101:[0,.45833,0,0],102:[0,.69444,.07639,0],103:[.19444,.45833,.01528,0],104:_,105:_,106:j,107:_,108:_,109:[0,.45833,0,0],110:[0,.45833,0,0],111:[0,.45833,0,0],112:[.19444,.45833,0,0],113:[.19444,.45833,0,0],114:[0,.45833,.01528,0],115:[0,.45833,0,0],116:[0,.58929,0,0],117:[0,.45833,0,0],118:[0,.45833,.01528,0],119:[0,.45833,.01528,0],120:[0,.45833,0,0],121:[.19444,.45833,.01528,0],122:[0,.45833,0,0],126:[.35,.34444,0,0],160:X,168:_,176:_,180:_,184:[.17014,0,0,0],305:[0,.45833,0,0],567:[.19444,.45833,0,0],710:_,711:[0,.63542,0,0],713:[0,.63778,0,0],728:_,729:_,730:_,732:_,733:_,915:_,916:_,920:_,923:_,926:_,928:_,931:_,933:_,934:_,936:_,937:_,8211:[0,.45833,.03056,0],8212:[0,.45833,.03056,0],8216:_,8217:_,8220:_,8221:_},"SansSerif-Italic":{32:X,33:[0,.69444,.05733,0],34:[0,.69444,.00316,0],35:[.19444,.69444,.05087,0],36:[.05556,.75,.11156,0],37:[.05556,.75,.03126,0],38:[0,.69444,.03058,0],39:[0,.69444,.07816,0],40:[.25,.75,.13164,0],41:[.25,.75,.02536,0],42:[0,.75,.11775,0],43:[.08333,.58333,.02536,0],44:[.125,.08333,0,0],45:[0,.44444,.01946,0],46:[0,.08333,0,0],47:[.25,.75,.13164,0],48:[0,.65556,.11156,0],49:[0,.65556,.11156,0],50:[0,.65556,.11156,0],51:[0,.65556,.11156,0],52:[0,.65556,.11156,0],53:[0,.65556,.11156,0],54:[0,.65556,.11156,0],55:[0,.65556,.11156,0],56:[0,.65556,.11156,0],57:[0,.65556,.11156,0],58:[0,.44444,.02502,0],59:[.125,.44444,.02502,0],61:[-.13,.37,.05087,0],63:[0,.69444,.11809,0],64:[0,.69444,.07555,0],65:_,66:[0,.69444,.08293,0],67:[0,.69444,.11983,0],68:[0,.69444,.07555,0],69:[0,.69444,.11983,0],70:[0,.69444,.13372,0],71:[0,.69444,.11983,0],72:[0,.69444,.08094,0],73:[0,.69444,.13372,0],74:[0,.69444,.08094,0],75:[0,.69444,.11983,0],76:_,77:[0,.69444,.08094,0],78:[0,.69444,.08094,0],79:[0,.69444,.07555,0],80:[0,.69444,.08293,0],81:[.125,.69444,.07555,0],82:[0,.69444,.08293,0],83:[0,.69444,.09205,0],84:[0,.69444,.13372,0],85:[0,.69444,.08094,0],86:[0,.69444,.1615,0],87:[0,.69444,.1615,0],88:[0,.69444,.13372,0],89:[0,.69444,.17261,0],90:[0,.69444,.11983,0],91:[.25,.75,.15942,0],93:[.25,.75,.08719,0],94:[0,.69444,.0799,0],95:[.35,.09444,.08616,0],97:[0,.44444,.00981,0],98:[0,.69444,.03057,0],99:[0,.44444,.08336,0],100:[0,.69444,.09483,0],101:[0,.44444,.06778,0],102:[0,.69444,.21705,0],103:[.19444,.44444,.10836,0],104:[0,.69444,.01778,0],105:[0,.67937,.09718,0],106:[.19444,.67937,.09162,0],107:[0,.69444,.08336,0],108:[0,.69444,.09483,0],109:[0,.44444,.01778,0],110:[0,.44444,.01778,0],111:[0,.44444,.06613,0],112:[.19444,.44444,.0389,0],113:[.19444,.44444,.04169,0],114:[0,.44444,.10836,0],115:[0,.44444,.0778,0],116:[0,.57143,.07225,0],117:[0,.44444,.04169,0],118:[0,.44444,.10836,0],119:[0,.44444,.10836,0],120:[0,.44444,.09169,0],121:[.19444,.44444,.10836,0],122:[0,.44444,.08752,0],126:[.35,.32659,.08826,0],160:X,168:[0,.67937,.06385,0],176:_,184:[.17014,0,0,0],305:[0,.44444,.04169,0],567:[.19444,.44444,.04169,0],710:[0,.69444,.0799,0],711:[0,.63194,.08432,0],713:[0,.60889,.08776,0],714:[0,.69444,.09205,0],715:_,728:[0,.69444,.09483,0],729:[0,.67937,.07774,0],730:_,732:[0,.67659,.08826,0],733:[0,.69444,.09205,0],915:[0,.69444,.13372,0],916:_,920:[0,.69444,.07555,0],923:_,926:[0,.69444,.12816,0],928:[0,.69444,.08094,0],931:[0,.69444,.11983,0],933:[0,.69444,.09031,0],934:[0,.69444,.04603,0],936:[0,.69444,.09031,0],937:[0,.69444,.08293,0],8211:[0,.44444,.08616,0],8212:[0,.44444,.08616,0],8216:[0,.69444,.07816,0],8217:[0,.69444,.07816,0],8220:[0,.69444,.14205,0],8221:[0,.69444,.00316,0]},"SansSerif-Regular":{32:X,33:_,34:_,35:j,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:_,39:_,40:R,41:R,42:kt,43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:q,46:[0,.08333,0,0],47:R,48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:q,59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:_,64:_,65:_,66:_,67:_,68:_,69:_,70:_,71:_,72:_,73:_,74:_,75:_,76:_,77:_,78:_,79:_,80:_,81:[.125,.69444,0,0],82:_,83:_,84:_,85:_,86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:_,89:[0,.69444,.025,0],90:_,91:R,93:R,94:_,95:[.35,.09444,.02778,0],97:q,98:_,99:q,100:_,101:q,102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:_,105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:_,108:_,109:q,110:q,111:q,112:Oe,113:Oe,114:[0,.44444,.01389,0],115:q,116:[0,.57143,0,0],117:q,118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:q,121:[.19444,.44444,.01389,0],122:q,126:[.35,.32659,0,0],160:X,168:[0,.67937,0,0],176:_,184:[.17014,0,0,0],305:q,567:Oe,710:_,711:[0,.63194,0,0],713:[0,.60889,0,0],714:_,715:_,728:_,729:[0,.67937,0,0],730:_,732:[0,.67659,0,0],733:_,915:_,916:_,920:_,923:_,926:_,928:_,931:_,933:_,934:_,936:_,937:_,8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:_,8217:_,8220:_,8221:_},"Script-Regular":{32:X,65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0],160:X},"Size1-Regular":{32:X,40:dt,41:dt,47:dt,91:dt,92:dt,93:dt,123:dt,125:dt,160:X,710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-99e-5,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:Rt,8720:Rt,8721:Rt,8730:dt,8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:Rt,8897:Rt,8898:Rt,8899:Rt,8968:dt,8969:dt,8970:dt,8971:dt,9168:[-99e-5,.601,0,0],10216:dt,10217:dt,10752:Rt,10753:Rt,10754:Rt,10756:Rt,10758:Rt},"Size2-Regular":{32:X,40:Qe,41:Qe,47:Qe,91:Qe,92:Qe,93:Qe,123:Qe,125:Qe,160:X,710:kt,732:kt,770:kt,771:kt,8719:qt,8720:qt,8721:qt,8730:Qe,8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:qt,8897:qt,8898:qt,8899:qt,8968:Qe,8969:Qe,8970:Qe,8971:Qe,10216:Qe,10217:Qe,10752:qt,10753:qt,10754:qt,10756:qt,10758:qt},"Size3-Regular":{32:X,40:ht,41:ht,47:ht,91:ht,92:ht,93:ht,123:ht,125:ht,160:X,710:kt,732:kt,770:kt,771:kt,8730:ht,8968:ht,8969:ht,8970:ht,8971:ht,10216:ht,10217:ht},"Size4-Regular":{32:X,40:pt,41:pt,47:pt,91:pt,92:pt,93:pt,123:pt,125:pt,160:X,710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:pt,8968:pt,8969:pt,8970:pt,8971:pt,9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-99e-5,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-99e-5,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:Qe,9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:Qe,9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:pt,10217:pt,57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{32:X,33:P,34:P,35:P,36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:P,39:P,40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:P,49:P,50:P,51:P,52:P,53:P,54:P,55:P,56:P,57:P,58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:P,64:P,65:P,66:P,67:P,68:P,69:P,70:P,71:P,72:P,73:P,74:P,75:P,76:P,77:P,78:P,79:P,80:P,81:[.13889,.61111,0,0],82:P,83:P,84:P,85:P,86:P,87:P,88:P,89:P,90:P,91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:P,95:[.09514,0,0,0],96:P,97:[0,.43056,0,0],98:P,99:[0,.43056,0,0],100:P,101:[0,.43056,0,0],102:P,103:[.22222,.43056,0,0],104:P,105:P,106:[.22222,.61111,0,0],107:P,108:P,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:P,127:P,160:X,176:P,184:[.19445,0,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],711:[0,.56597,0,0],713:[0,.56555,0,0],714:P,715:P,728:P,730:P,770:P,771:P,776:P,915:P,916:P,920:P,923:P,926:P,928:P,931:P,933:P,934:P,936:P,937:P,8216:P,8217:P,8242:P,9251:[.11111,.21944,0,0]}};const Ey=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,rp={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},b0=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],np={"":" ","":" ",:"A",:"C",:"D",:"o",:"a",:"c",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Bn(t,e){t===void 0&&(t=77);const r=Dy[e][t];if(r)return{defaultMetrics:!1,depth:r[0],height:r[1],italic:r[2],skew:r[3]};if(t===11034)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0};const n=String.fromCodePoint(t);if(n in np)t=np[n].codePointAt(0);else if(Ey.test(n))return t=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0}}class Ir{constructor(e,r,n){this.id=e,this.sizeDelta=r,this.cramped=n;const i={"-4":2,"-3":1,0:0}[r];this.metrics=Object.keys(rp).reduce((o,a)=>({...o,[a]:rp[a][i]}),{})}getFontSize(e){return Math.max(1,e+this.sizeDelta)}get sup(){return et[[0,1,0,1,2,3,2,3][this.id]]}get sub(){return et[[0,0,0,0,2,2,2,2][this.id]]}get fracNum(){return et[[0,1,0,1,2,3,4,5][this.id]]}get fracDen(){return et[[0,0,0,0,2,2,4,4][this.id]]}get cramp(){return et[[0,0,2,2,4,4,6,6][this.id]]}get isTight(){return this.sizeDelta<0}}const et={7:new Ir(7,0,!1),6:new Ir(6,0,!0),5:new Ir(5,0,!1),4:new Ir(4,0,!0),3:new Ir(3,-3,!1),2:new Ir(2,-3,!0),1:new Ir(1,-4,!1),0:new Ir(0,-4,!0)};function vr(t,e){return t===null?0:function(r,n){var i;if(!r)return 0;const o={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:10,bp:1.00375,dd:1238/1157,pc:12,in:72.27,mu:10/18}[(i=r.unit)!==null&&i!==void 0?i:"pt"];if(Number.isFinite(n)){const a=10**n;return Math.round(r.dimension/10*o*a)/a}return r.dimension*o}(t,e)/10}function tu(t){var e;return`${t.dimension}${(e=t.unit)!==null&&e!==void 0?e:"pt"}`}et.displaystyle=et[7],et.textstyle=et[5],et.scriptstyle=et[3],et.scriptscriptstyle=et[1];class W{constructor(e,r,n){var i,o,a,s,l,u;e instanceof W&&(this.parent=e),e instanceof W||(this.registers=(i=e.registers)!==null&&i!==void 0?i:{}),this.isPhantom=(s=(o=r==null?void 0:r.isPhantom)!==null&&o!==void 0?o:(a=this.parent)===null||a===void 0?void 0:a.isPhantom)!==null&&s!==void 0&&s;const c={...e};let d;if(r&&(r.letterShapeStyle&&r.letterShapeStyle!=="auto"&&(c.letterShapeStyle=r.letterShapeStyle),r.color&&r.color!=="none"&&(c.color=r.color),r.backgroundColor&&r.backgroundColor!=="none"&&(c.backgroundColor=r.backgroundColor),r.fontSize&&r.fontSize!=="auto"&&r.fontSize!==((l=this.parent)===null||l===void 0?void 0:l._size)&&(this._size=r.fontSize)),this.letterShapeStyle=(u=c.letterShapeStyle)!==null&&u!==void 0?u:"tex",this.color=c.color,this.backgroundColor=c.backgroundColor,typeof n=="string"){if(e instanceof W)switch(n){case"cramp":d=e.mathstyle.cramp;break;case"superscript":d=e.mathstyle.sup;break;case"subscript":d=e.mathstyle.sub;break;case"numerator":d=e.mathstyle.fracNum;break;case"denominator":d=e.mathstyle.fracDen}switch(n){case"textstyle":d=et.textstyle;break;case"displaystyle":d=et.displaystyle;break;case"scriptstyle":d=et.scriptstyle;break;case"scriptscriptstyle":d=et.scriptscriptstyle}}this._mathstyle=d,this.atomIdsSettings=e.atomIdsSettings,this.renderPlaceholder=c.renderPlaceholder}get mathstyle(){let e=this._mathstyle,r=this.parent;for(;!e;)e=r._mathstyle,r=r.parent;return e}getRegister(e){var r;return!((r=this.registers)===null||r===void 0)&&r[e]?this.registers[e]:this.parent?this.parent.getRegister(e):void 0}getRegisterAsGlue(e){var r;if(!((r=this.registers)===null||r===void 0)&&r[e]){const n=this.registers[e];return typeof n=="object"&&"glue"in n?n:typeof n=="object"&&"dimension"in n?{glue:{dimension:n.dimension}}:typeof n=="number"?{glue:{dimension:n}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(e)}getRegisterAsEm(e){return vr(this.getRegisterAsDimension(e))}getRegisterAsDimension(e){var r;if(!((r=this.registers)===null||r===void 0)&&r[e]){const n=this.registers[e];return typeof n=="object"&&"glue"in n?n.glue:typeof n=="object"&&"dimension"in n?n:typeof n=="number"?{dimension:n}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(e)}setRegister(e,r){r!==void 0?this.registers[e]=r:delete this.registers[e]}setGlobalRegister(e,r){let n=this;for(;n.parent;)n.setRegister(e,void 0),n=n.parent;n.setRegister(e,r)}get size(){let e=this._size,r=this.parent;for(;!e;)e=r._size,r=r.parent;return e}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if(typeof this.atomIdsSettings.seed!="number")return Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);const e=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,e}scale(e){return e*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return this.mathstyle.id===7||this.mathstyle.id===6}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get effectiveFontSize(){return b0[Math.max(1,this.size+this.mathstyle.sizeDelta)]}get computedColor(){let e=this.color,r=this.parent;return!e&&r&&(e=r.color,r=r.parent),e??""}get computedBackgroundColor(){let e=this.backgroundColor,r=this.parent;return!e&&r&&(e=r.backgroundColor,r=r.parent),e??""}get metrics(){return this.mathstyle.metrics}}const v0={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},x0={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},ip={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:`m 529 160
  c -179 0 -524 -115 -524 -115
  c -5 -1 -9 -5 -9 -10
  c 0 -1 1 -2 1 -3
  l 4 -22
  c 1 -5 5 -9 11 -9
  h 2
  s 338 93 512 92
  c 174 0 513 -92 513 -92
  h 2
  c 5 0 9 4 11 9
  l 5 22
  c 1 6 -2 12 -8 13
  c 0 0 -342 115 -520 115
  z
  `,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,widetilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,widetilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,widetilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,widetilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};class Nt{constructor(e){Nt._registry[e]=this}static createAtom(e,r,n,i){return Nt._registry[e].createAtom(r,n,i)}static serialize(e,r){return Nt._registry[e[0].mode].serialize(e,r)}static applyStyle(e,r,n){return Nt._registry[e].applyStyle(r,n)}}function Ut(t,e){const r=[];let n,i=[];for(const o of t)if(o.type!=="first"&&o.style){let a;e==="variant"?(a=o.style.variant,o.style.variantStyle&&o.style.variantStyle!=="up"&&(a+="-"+o.style.variantStyle)):e==="cssClass"?o.type==="group"&&(a=o.customClass):a=o.style[e],a===n?i.push(o):(i.length>0&&r.push(i),i=[o],n=a)}return i.length>0&&r.push(i),r}Nt._registry={};const $y=["","chem","mord","mbin","mop","mrel","mopen","mclose","mpunct","minner","spacing","first","latex","composition","error","placeholder","supsub","none","mathfield"],By={mord:{mop:3,mbin:4,mrel:5,minner:3},mop:{mord:3,mop:3,rel:5,minner:3},mbin:{mord:4,mop:4,mopen:4,minner:4},mrel:{mord:5,mop:5,mopen:5,minner:5},mclose:{mop:3,mbin:4,mrel:5,minner:3},mpunct:{mord:3,mop:3,mrel:3,mopen:3,mpunct:3,minner:3},minner:{mord:3,mop:3,mbin:4,mrel:5,mopen:3,mpunct:3,minner:3}},Ny={mord:{mop:3},mop:{mord:3,mop:3},mclose:{mop:3},minner:{mop:3}};function to(t,e){if(typeof t=="string")return t;if(typeof t=="number"){const r=Math.ceil(100*t)/100;return r===0?"0":r.toString()+(e??"")}return""}class B{constructor(e,r){var n,i,o,a,s,l;if(typeof e=="number"?this.value=String.fromCodePoint(e):typeof e=="string"?this.value=e:je(e)?this.children=e.filter(c=>c!==null):e&&e instanceof B&&(this.children=[e]),this.type=(n=r==null?void 0:r.type)!==null&&n!==void 0?n:"",this.isSelected=!1,this.isTight=(i=r==null?void 0:r.isTight)!==null&&i!==void 0&&i,this.newList=(o=r==null?void 0:r.newList)!==null&&o!==void 0&&o,r==null?void 0:r.properties)for(const c of Object.keys(r.properties))this.setStyle(c,r.properties[c]);r!=null&&r.attributes&&(this.attributes=r.attributes),this.classes=(a=r==null?void 0:r.classes)!==null&&a!==void 0?a:"";let u=(r==null?void 0:r.fontFamily)||"Main-Regular";if(r!=null&&r.style&&this.value&&(u=Nt.applyStyle((s=r.mode)!==null&&s!==void 0?s:"math",this,r.style)||"Main-Regular"),this.height=0,this.depth=0,this.skew=0,this.italic=0,this.maxFontSize=0,this.type==="latex")this.height=.8,this.depth=.2;else if(typeof e=="number"){const c=Bn(e,u);this.height=c.height,this.depth=c.depth,this.skew=c.skew,this.italic=c.italic}else if(this.value){this.height=-1/0,this.depth=-1/0,this.skew=-1/0,this.italic=-1/0;for(let c=0;c<this.value.length;c++){const d=Bn(this.value.codePointAt(c),u||"Main-Regular");this.height=Math.max(this.height,d.height),this.depth=Math.max(this.depth,d.depth),this.skew=d.skew,this.italic=d.italic}}else if(this.children&&this.children.length>0)if(this.children.length===1){const c=this.children[0];this.height=c.height,this.depth=c.depth,this.maxFontSize=c.maxFontSize,this.skew=c.skew,this.italic=c.italic}else{let c=-1/0,d=-1/0,p=0;for(const f of this.children)f.height>c&&(c=f.height),f.depth>d&&(d=f.depth),p=Math.max(p,(l=f.maxFontSize)!==null&&l!==void 0?l:0);this.height=c,this.depth=d,this.maxFontSize=p}(r==null?void 0:r.height)!==void 0&&(this.height=r.height),(r==null?void 0:r.depth)!==void 0&&(this.depth=r.depth),(r==null?void 0:r.maxFontSize)!==void 0&&(this.maxFontSize=r.maxFontSize)}set atomID(e){e!==void 0&&e.length!==0&&(this.attributes||(this.attributes={}),this.attributes["data-atom-id"]=e)}selected(e){if(this.isSelected!==e&&(this.isSelected=e,this.children))for(const r of this.children)r.selected(e)}setStyle(e,r,n){if(r===void 0)return;const i=to(r,n);i.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[e]=i)}setTop(e){Number.isFinite(e)&&Math.abs(e)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=to(e,"em"),this.height-=e,this.depth+=e)}get left(){var e;return!((e=this.cssProperties)===null||e===void 0)&&e["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=to(e,"em")))}set right(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=to(e,"em")))}set width(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties.width:(this.cssProperties||(this.cssProperties={}),this.cssProperties.width=to(e,"em")))}wrap(e,r){const n=e.parent;if(!n)return this;e.isPhantom&&this.setStyle("opacity",0);let i=e.computedColor;i===n.computedColor&&(i=""),this.setStyle("color",i);const o=e.effectiveFontSize===n.effectiveFontSize?void 0:e.effectiveFontSize;let a,s=e.computedBackgroundColor;if(this.isSelected&&(s=Zd(s)),s===n.computedBackgroundColor&&(s=""),!(o||s||r&&(r.classes||r.type)))return this;s?(a=Un(this,r),a.selected(this.isSelected),a.setStyle("background-color",s),a.setStyle("display","inline-block")):a=new B(this,r);const l=e.scalingFactor;return l!==1&&(a.setStyle("font-size",100*l,"%"),a.height*=l,a.depth*=l,a.italic*=l,a.skew*=l),a}wrapSelect(e){if(!this.isSelected)return this;if(!e.parent)return this;const r=Zd(e.computedBackgroundColor),n=Un(this);return n.selected(!0),n.setStyle("background-color",r),n.setStyle("display","inline-block"),n}toMarkup(){var e,r,n;let i=(e=this.value)!==null&&e!==void 0?e:"";if(this.children)for(const l of this.children)i+=l.toMarkup();const o=this.classes.split(" ");o.push((r={latex:"ML__latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])!==null&&r!==void 0?r:""),this.caret==="latex"&&o.push("ML__latex-caret");const a=o.length===1?o[0]:o.filter((l,u,c)=>l.length>0&&c.indexOf(l)===u).join(" ");let s="";if(i.length>0&&i!==""||a.length>0||this.cssId||this.htmlData||this.htmlStyle||this.attributes||this.cssProperties||this.svgBody||this.svgOverlay){let l="";if(this.cssId&&(l+=` id=${this.cssId.replace(/ /g,"-")} `),this.htmlData){const c=this.htmlData.split(",");for(const d of c){const p=d.match(/([^=]+)=(.+$)/);if(p){const f=p[1].trim().replace(/ /g,"-");f&&(l+=` data-${f}=${p[2]} `)}else{const f=d.trim().replace(/ /g,"-");f&&(l+=` data-${f} `)}}}if(this.htmlStyle){const c=this.htmlStyle.split(";");let d="";for(const p of c){const f=p.match(/([^=]+):(.+$)/);if(f){const g=f[1].trim().replace(/ /g,"-");g&&(d+=`${g}:${f[2]};`)}}d&&(l+=` style="${d}"`)}if(this.attributes&&(l+=" "+Object.keys(this.attributes).map(c=>`${c}="${this.attributes[c]}"`).join(" ")),a.length>0&&(l+=` class="${a}"`),this.cssProperties){const c=Object.keys(this.cssProperties).map(d=>`${d}:${this.cssProperties[d]}`).join(";");c.length>0&&(l+=` style="${c}"`)}let u="";this.svgBody?u=function(c){if(x0[c]){const[m,h,w]=x0[c];return`<span style="display:inline-block;height:${w/2}em;min-width:0"><span class="stretchy" style="height:${w}em"><svg width="100%" height="${w}em" viewBox="0 0 ${m} ${h}" preserveAspectRatio="none" ><path fill="currentcolor" d="${ip[c]}"></path></svg></span></span>`}const[d,p,f,g]=v0[c];let v,k;const b=f/1e3;d.length===3?(v=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],k=["xMinYMin","xMidYMin","xMaxYMin"]):d.length===2?(v=["slice-1-of-2","slice-2-of-2"],k=["xMinYMin","xMaxYMin"]):(v=["slice-1-of-1"],k=[g]);const y=d.map((m,h)=>`<span class="${v[h]}" style=height:${b}em><svg width=400em height=${b}em viewBox="0 0 400000 ${f}" preserveAspectRatio="${k[h]} slice"><path fill="currentcolor" d="${ip[m]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${b}em;min-width:${p}em;">${y}</span>`}(this.svgBody):this.svgOverlay&&(u='<span style="',u+="display: inline-block;",u+=`height:${this.height+this.depth}em;`,u+=`vertical-align:${this.depth}em;`,u+='">',u+=i,u+="</span>",u+='<svg style="position:absolute;overflow:overlay;',u+=`height:${this.height+this.depth}em;`,!((n=this.cssProperties)===null||n===void 0)&&n.padding?(u+=`top:${this.cssProperties.padding}em;`,u+=`left:${this.cssProperties.padding}em;`,u+=`width:calc(100% - 2 * ${this.cssProperties.padding}em );`):u+="top:0;left:0;width:100%;",u+="z-index:2;",u+='"',this.svgStyle&&(u+=` style="${this.svgStyle}"`),u+=`>${this.svgOverlay}</svg>`),s=`<span${l}>${i}${u}</span>`}return this.caret==="text"?s+='<span class="ML__text-caret"></span>':this.caret==="math"&&(s+='<span class="ML__caret"></span>'),s}tryCoalesceWith(e){if(this.type!==e.type||!/ML__text/.test(this.classes)&&!["mord","mbin","mrel"].includes(this.type)||this.svgBody||!this.value||e.svgBody||!e.value)return!1;const r=this.children&&this.children.length>0,n=e.children&&e.children.length>0;if(r||n)return!1;const i=this.cssProperties?Object.keys(this.cssProperties).length:0;if(i!==(e.cssProperties?Object.keys(e.cssProperties).length:0))return!1;if(i>0){for(const s of Object.keys(this.cssProperties))if(this.cssProperties[s]!==e.cssProperties[s])return!1}const o=this.classes.trim().replace(/\s+/g," ").split(" "),a=e.classes.trim().replace(/\s+/g," ").split(" ");if(o.length!==a.length)return!1;o.sort(),a.sort();for(const[s,l]of o.entries())if(l==="vertical-separator"||l!==a[s])return!1;return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}}function k0(t){if(!t||t.length===0)return[];t[0].children=k0(t[0].children);const e=[t[0]];for(let r=1;r<t.length;r++)e[e.length-1].tryCoalesceWith(t[r])||(t[r].children=k0(t[r].children),e.push(t[r]));return e}function Nc(t){return t.children&&(t.children=k0(t.children)),t}function t1(t,e,r){e.newList&&(t=null);const n=e.type;if(n==="first")return null;if(n==="spacing")return t;if(r(t,e),e.children){let i=null;n!==void 0&&n.length!==0||(i=t);for(const o of e.children)i=t1(i,o,r);n!==void 0&&n.length!==0||(t=i)}return n!=="supsub"&&n!==void 0&&n.length>0&&(t=e),t}function op(t,e){t&&t1(null,t,e)}function sa(t,e=1){return function(r){op(r,(n,i)=>{i.type!=="mbin"||n&&!/first|none|mbin|mop|mrel|mopen|mpunct/.test(n.type)||(i.type="mord"),n&&n.type==="mbin"&&/mrel|mclose|mpunct|placeholder/.test(i.type)&&(n.type="mord")})}(t),function(r,n){op(r,(i,o)=>{var a,s,l,u;const c=(a=i==null?void 0:i.type)!==null&&a!==void 0?a:"none",d=o.isTight?(s=Ny[c])!==null&&s!==void 0?s:null:(l=By[c])!==null&&l!==void 0?l:null,p=d&&(u=d[o.type])!==null&&u!==void 0?u:0;p&&(o.left+=n*(p/18))})}(t,e),t}function Un(t,e){if(!t)return new B(null,e);const r=new B(null,{classes:"ML__strut"});r.setStyle("height",Math.max(0,t.height),"em");const n=[r];if(t.depth!==0){const i=new B(null,{classes:"ML__strut--bottom"});i.setStyle("height",t.height+t.depth,"em"),i.setStyle("vertical-align",-t.depth,"em"),n.push(i)}return n.push(t),new B(n,e)}function Ga(t){const e=function(n){return v0[n]?v0[n][2]/1e3:x0[n][2]}(t)/2,r=new B(null,{height:e+.166,depth:e-.166,maxFontSize:0});return r.svgBody=t,r}class $e extends B{constructor(e,r){var n;const[i,o,a]=function(s){var l;const[u,c]=function(h){if("individualShift"in h){const w=h.individualShift;let x=w[0];const S=[x],M=-x.shift-x.box.depth;let D=M;for(let A=1;A<w.length;A++){const F=w[A],H=-F.shift-D-F.box.depth,Ve=H-(x.box.height+x.box.depth);D+=H,S.push(Ve),S.push(F),x=F}return[S,M]}if("top"in h){let w=h.top;for(const x of h.children)w-=typeof x=="number"?x:x.box.height+x.box.depth;return[h.children,w]}if("bottom"in h)return[h.children,-h.bottom];if("firstBaseline"in h){const w=h.firstBaseline[0];if(typeof w=="number")throw new Error("First child must be an element.");return[h.firstBaseline,-w.box.depth]}if("shift"in h){const w=h.children[0];if(typeof w=="number")throw new Error("First child must be an element.");return[h.children,-w.box.depth-h.shift]}return[null,0]}(s);if(!u)return[[],0,0];let d=0;for(const h of u)if(typeof h!="number"){const w=h.box;d=Math.max(d,w.maxFontSize,w.height)}d+=2;const p=new B(null,{classes:"pstrut"});p.setStyle("height",d,"em");const f=[];let g=c,v=c,k=c;for(const h of u){if(typeof h=="number")k+=h;else{const w=h.box,x=(l=h.classes)!==null&&l!==void 0?l:[],S=new B([p,w],{classes:x.join(" "),style:h.style});S.setStyle("top",-d-k-w.depth,"em"),h.marginLeft&&S.setStyle("margin-left",h.marginLeft,"em"),h.marginRight&&S.setStyle("margin-right",h.marginRight,"em"),f.push(S),k+=w.height+w.depth}g=Math.min(g,k),v=Math.max(v,k)}const b=new B(f,{classes:"vlist"});if(b.setStyle("height",v,"em"),g>=0)return[[new B(b,{classes:"vlist-r"})],v,-g];const y=new B(new B(null),{classes:"vlist"});y.setStyle("height",-g,"em");const m=new B(8203,{classes:"vlist-s",maxFontSize:0,height:0,depth:0});return[[new B([b,m],{classes:"vlist-r"}),new B(y,{classes:"vlist-r"})],v,-g]}(e);super(i.length===1?i[0]:i,{classes:((n=r==null?void 0:r.classes)!==null&&n!==void 0?n:"")+" vlist-t"+(i.length===2?" vlist-t2":""),height:o,depth:a,type:r==null?void 0:r.type})}}const Py=[[8205,1],[65038,2],[127995,5],[129456,4],[917536,96]];let za;const ap=[127462,127487];function sp(t){var e;if(za===void 0){za={};for(const r of Py)for(let n=r[0];n<=r[0]+r[1]-1;n++)za[n]=!0}return(e=za[t])!==null&&e!==void 0&&e}function Oy(t){return t>=ap[0]&&t<=ap[1]}function r1(t){if(/^[\u0020-\u00FF]*$/.test(t))return t;const e=[],r=function(i){const o=[];for(let a=0;a<i.length;a++){let s=i.charCodeAt(a);if(s===13&&i.charCodeAt(a+1)===10&&(s=10,a++),s!==13&&s!==12||(s=10),s===0&&(s=65533),s>=55296&&s<=56319){const l=i.charCodeAt(a+1);l>=56320&&l<=57343&&(s=65536+1024*(s-55296)+(l-56320),a++)}o.push(s)}return o}(t);let n=0;for(;n<r.length;){const i=r[n++],o=r[n];if(o===8205){const a=n-1;for(n+=2;r[n]===8205;)n+=2;e.push(String.fromCodePoint(...r.slice(a,n-a+1)))}else if(sp(o)){const a=n-1;for(;sp(r[n]);)n+=r[n]===8205?2:1;e.push(String.fromCodePoint(...r.slice(a,2*n-a-1)))}else Oy(i)?(n+=1,e.push(String.fromCodePoint(...r.slice(n-2,2)))):e.push(String.fromCodePoint(i))}return e}class Ky{constructor(e){this.s=r1(e),this.pos=0,this.obeyspaces=!1}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(e){const r=typeof this.s=="string"?e.exec(this.s.slice(this.pos)):e.exec(this.s.slice(this.pos).join(""));return r!=null&&r[0]?(this.pos+=r[0].length,r[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";const e=this.get();if(e==="\\"){if(!this.end()){let r=this.match(/^[a-zA-Z\*]+/);if(r)this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/);else if(r=this.get(),r===" ")return"<space>";return"\\"+r}}else{if(e==="{")return"<{>";if(e==="}")return"<}>";if(e==="^"){if(this.peek()==="^"){this.get();const r=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(r)return String.fromCodePoint(Number.parseInt(r.slice(r.lastIndexOf("^")+1),16))}return e}if(e==="#"){if(!this.end()){let r=!1;if(/[\d?@]/.test(this.peek())&&(r=!0,this.pos+1<this.s.length)){const n=this.s[this.pos+1];r=/[^\dA-Za-z]/.test(n)}return r?"#"+this.get():"#"}}else if(e==="$")return this.peek()==="$"?(this.get(),"<$$>"):"<$>"}return e}}function Fy(t,e){var r,n,i,o;const a=[];let s=t.next();if(s&&s!=="\\relax"){if(s==="\\noexpand")s=t.next(),s&&a.push(s);else if(s==="\\obeyspaces")t.obeyspaces=!0;else if(s==="\\space"||s==="~")a.push("<space>");else if(s==="\\bgroup")a.push("<{>");else if(s==="\\egroup")a.push("<}>");else if(s==="\\string"){if(s=t.next(),s)if(s.startsWith("\\"))for(const l of s)a.push(l==="\\"?"\\backslash":l);else s==="<{>"?a.push("\\{"):s==="<space>"?a.push("~"):s==="<}>"&&a.push("\\}")}else if(s==="\\csname"){for(;t.peek()==="<space>";)t.next();let l="",u=!1,c=[];do{if(c.length===0)if(/^#[\d?@]$/.test(t.peek())){const d=t.get().slice(1);c=Oi((n=(r=e==null?void 0:e(d))!==null&&r!==void 0?r:e==null?void 0:e("?"))!==null&&n!==void 0?n:"\\placeholder{}",e),s=c[0]}else s=t.next(),c=s?[s]:[];u=c.length===0,u||s!=="\\endcsname"||(u=!0,c.shift()),u||(u=s==="<$>"||s==="<$$>"||s==="<{>"||s==="<}>"||typeof s=="string"&&s.length>1&&s.startsWith("\\")),u||(l+=c.shift())}while(!u);l&&a.push("\\"+l),a.push(...c)}else if(s!=="\\endcsname")if(s.length>1&&s.startsWith("#")){const l=s.slice(1);a.push(...Oi((o=(i=e==null?void 0:e(l))!==null&&i!==void 0?i:e==null?void 0:e("?"))!==null&&o!==void 0?o:"\\placeholder{}",e))}else a.push(s)}return a}function Oi(t,e=null){const r=[];let n="";for(const a of t.toString().split(/\r?\n/)){n&&r.push(n),n=" ";const s=a.match(/((?:\\%)|[^%])*/);s!==null&&r.push(s[0])}const i=new Ky(r.join("")),o=[];do o.push(...Fy(i,e));while(!i.end());return o}function xe(t){let e="";const r=[];for(const n of t)n&&(/[a-zA-Z\*]/.test(n[0])&&r.push(e),r.push(n),/\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(n)&&r.push(" "),e=/\\[a-zA-Z]+\*?$/.test(n)?" ":"");return r.join("")}function ro(t){return xe(t.map(e=>{var r;return(r={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])!==null&&r!==void 0?r:e}))}class Ry extends B{constructor(e,r,n){super(null,n),this.mathfield=r,this.htmlData=`placeholder-id=${e} `;const i=function(o){return Un(sa(o.model.root.render(new W({registers:o.registers},{fontSize:5,letterShapeStyle:o.options.letterShapeStyle},o.options.defaultMode==="inline-math"?"textstyle":"displaystyle")),o.options.horizontalSpacingScale),{classes:"ML__mathlive",attributes:{translate:"no","aria-hidden":"true"}})}(r._mathfield);this.height=i.height,this.depth=i.depth}toMarkup(){const e=[],r=this.classes.split(" "),n=r.length===1?r[0]:r.filter((o,a,s)=>o.length>0&&s.indexOf(o)===a).join(" ");if(this.cssId&&e.push(`id=${this.cssId.replace(/ /g,"-")}`),this.htmlData){const o=this.htmlData.split(",");for(const a of o){const s=a.match(/([^=]+)=(.+$)/);if(s){const l=s[1].trim().replace(/ /g,"-");l&&e.push(`data-${l}=${s[2]}`)}else{const l=a.trim().replace(/ /g,"-");l&&e.push(`data-${l}`)}}}if(this.htmlStyle){const o=this.htmlStyle.split(";");let a="";for(const s of o){const l=s.match(/([^=]+):(.+$)/);if(l){const u=l[1].trim().replace(/ /g,"-");u&&(a+=`${u}:${l[2]};`)}}a&&e.push(`style="${a}"`)}this.attributes&&e.push(...Object.keys(this.attributes).map(o=>`${o}="${this.attributes[o]}"`)),n.length>0&&e.push(`class="${n}"`);const i=this.mathfield;return e.push(`style="display:inline-block; width:${i.clientWidth}px; height:${i.clientHeight}px;" `),`<span ${e.join(" ")}></span>`}}const Fn=["above","body","below","superscript","subscript"];function mo(t){return typeof t=="string"&&Fn.includes(t)}function Bs(t){return t!==void 0&&Array.isArray(t)&&t.length===2}class C{constructor(e,r,n){var i,o,a,s,l,u;this.id=void 0,this.verbatimLatex=void 0,this._isDirty=!1,this._changeCounter=0,this.subsupPlacement=void 0,this.explicitSubsupPlacement=!1,this.skipBoundary=!1,this.captureSelection=!1,this.type=e,this.context=r,typeof(n==null?void 0:n.value)=="string"&&(this.value=n.value),this.command=(o=(i=n==null?void 0:n.command)!==null&&i!==void 0?i:this.value)!==null&&o!==void 0?o:"",this.mode=(a=n==null?void 0:n.mode)!==null&&a!==void 0?a:"math",this.isFunction=(s=n==null?void 0:n.isFunction)!==null&&s!==void 0&&s,this.subsupPlacement=n==null?void 0:n.limits,this.style=(l=n==null?void 0:n.style)!==null&&l!==void 0?l:{},this.displayContainsHighlight=(u=n==null?void 0:n.displayContainsHighlight)!==null&&u!==void 0&&u,n!=null&&n.serialize&&(C.customSerializer[n.command]=n.serialize)}static createBox(e,r,n){var i,o,a;if(!r)return null;const s=function(c){let d;const p=[];let f=[];for(const g of c)if(d||g.style){const v=g.computedStyle;d&&v.color===d.color&&v.backgroundColor===d.backgroundColor&&v.fontSize===d.fontSize?f.push(g):(f.length>0&&p.push(f),f=[g],d=v)}else f.push(g);return f.length>0&&p.push(f),p}(r);if(s.length===1){const c=s[0];return c[0].style?ru(e,c,{...n,style:{color:c[0].style.color,backgroundColor:c[0].style.backgroundColor,fontSize:c[0].style.fontSize}}):ru(e,c,n)}const l=[];let u=n==null?void 0:n.newList;for(const c of s){const d=ru(new W(e,{color:(i=c[0].style)===null||i===void 0?void 0:i.color,backgroundColor:(o=c[0].style)===null||o===void 0?void 0:o.backgroundColor,fontSize:(a=c[0].style)===null||a===void 0?void 0:a.fontSize}),c,{newList:u});d&&(u=!1,l.push(d))}return l.length===0?null:l.length!==1||n!=null&&n.classes||n!=null&&n.type?new B(l,{classes:n==null?void 0:n.classes,type:n==null?void 0:n.type,newList:n==null?void 0:n.newList}).wrap(e):l[0].wrap(e)}static serialize(e,r){return je(e)?Yn(e,r):typeof e=="number"||typeof e=="boolean"?e.toString():typeof e=="string"?e.replace(/\s/g,"~"):e===void 0?"":r.expandMacro||typeof e.verbatimLatex!="string"?e.command&&C.customSerializer[e.command]?C.customSerializer[e.command](e,r):e.serialize(r):e.verbatimLatex}static commonAncestor(e,r){if(e===r||e.parent===r.parent)return e.parent;const n=new WeakSet;let{parent:i}=e;for(;i;)n.add(i),i=i.parent;for(i=r.parent;i;){if(n.has(i))return i;i=i.parent}}static fromJson(e,r){const n=new C(e.type,r,e);for(const i of Fn)e[i]&&n.setChildren(e[i],i);return n}toJson(){const e={type:this.type};if(this.mode!=="math"&&(e.mode=this.mode),this.command&&this.command!==this.value&&(e.command=this.command),this.value!==void 0&&(e.value=this.value),this.style&&Object.keys(this.style).length>0&&(e.style={...this.style}),this.verbatimLatex!==void 0&&(e.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(e.explicitSubsupPlacement=!0),this.isFunction&&(e.isFunction=!0),this.displayContainsHighlight&&(e.displayContainsHighlight=!0),this.isExtensibleSymbol&&(e.isExtensibleSymbol=!0),this.skipBoundary&&(e.skipBoundary=!0),this.captureSelection&&(e.captureSelection=!0),this._branches)for(const r of Object.keys(this._branches))this._branches[r]&&(e[r]=this._branches[r].filter(n=>n.type!=="first").map(n=>n.toJson()));return e}get changeCounter(){return this._changeCounter}get isDirty(){return this._isDirty}set isDirty(e){if(this._isDirty=e,e){this._changeCounter++,this.verbatimLatex=void 0,this._children=void 0;let{parent:r}=this;for(;r;)r._isDirty=!0,r._changeCounter++,r.verbatimLatex=void 0,r._children=void 0,r=r.parent}}serialize(e){var r;return this.body&&this.command?xe([this.command,"{",this.bodyToLatex(e),"}",this.supsubToLatex(e)]):this.body?xe([this.bodyToLatex(e),this.supsubToLatex(e)]):this.value&&this.value!==""?(r=this.command)!==null&&r!==void 0?r:function(n,i){var o;if(n==="text")return(o=Es(n,i.codePointAt(0)))!==null&&o!==void 0?o:i;let a;if(a=Es(n,i.codePointAt(0)),a)return a;const s=function(l){var u;if((l<119808||l>120831)&&(l<8448||l>8527))return{char:String.fromCodePoint(l)};for(const c in y0)if(y0[c]===l){l=(u=c.codePointAt(0))!==null&&u!==void 0?u:0;break}for(const c of Ym)if(l>=c.start&&l<c.start+c.len)return{char:String.fromCodePoint(l-c.start+c.offset),variant:c.variant,style:c.style};return{char:String.fromCodePoint(l)}}(i.codePointAt(0));return s.style||s.variant?(a=s.char,s.variant&&(a="\\"+s.variant+"{"+a+"}"),s.style==="bold"?a="\\mathbf{"+a+"}":s.style==="italic"?a="\\mathit{"+a+"}":s.style==="bolditalic"&&(a="\\mathbfit{"+a+"}"),"\\mathord{"+a+"}"):""}(this.mode,this.value):""}bodyToLatex(e){return Yn(this.body,e)}aboveToLatex(e){return Yn(this.above,e)}belowToLatex(e){return Yn(this.below,e)}supsubToLatex(e){let r="";if(this.branch("subscript")!==void 0){const n=Yn(this.subscript,e);n.length===0?r+="_{}":n.length===1?r+="_"+n:r+=`_{${n}}`}if(this.branch("superscript")!==void 0){const n=Yn(this.superscript,e);n.length===0?r+="^{}":n.length===1?r+=n===""?"^\\prime ":n===""?"^\\doubleprime ":"^"+n:r+=`^{${n}}`}return r}get treeDepth(){let e=1,r=this.parent;for(;r;)r=r.parent,e+=1;return e}get inCaptureSelection(){let e=!1,r=this;for(;r;){if(r.captureSelection){e=!0;break}r=r.parent}return e}branch(e){if(mo(e)&&this._branches)return this._branches[e]}get branches(){if(!this._branches)return[];const e=[];for(const r of Fn)this._branches[r]&&e.push(r);return e}createBranch(e){return mo(e)?(this._branches?this._branches[e]||(this._branches[e]=[this.makeFirstAtom(e)]):this._branches={[e]:[this.makeFirstAtom(e)]},this.isDirty=!0,this._branches[e]):[]}get row(){return Bs(this.treeBranch)?this.treeBranch[0]:-1}get col(){return Bs(this.treeBranch)?this.treeBranch[1]:-1}get body(){var e;return(e=this._branches)===null||e===void 0?void 0:e.body}set body(e){this.setChildren(e,"body")}get superscript(){var e;return(e=this._branches)===null||e===void 0?void 0:e.superscript}set superscript(e){this.setChildren(e,"superscript")}get subscript(){var e;return(e=this._branches)===null||e===void 0?void 0:e.subscript}set subscript(e){this.setChildren(e,"subscript")}get above(){var e;return(e=this._branches)===null||e===void 0?void 0:e.above}set above(e){this.setChildren(e,"above")}get below(){var e;return(e=this._branches)===null||e===void 0?void 0:e.below}set below(e){this.setChildren(e,"below")}get computedStyle(){var e;if(!this.parent)return{...(e=this.style)!==null&&e!==void 0?e:{}};const r=this.style.verbatimColor!==void 0,n=this.style.verbatimBackgroundColor!==void 0,i={...this.parent.computedStyle,...this.style};return delete i.variant,delete i.variantStyle,n||delete i.verbatimBackgroundColor,r||delete i.verbatimColor,i}applyStyle(e){this.isDirty=!0,this.style={...this.style,...e},this.style.fontFamily==="none"&&delete this.style.fontFamily,this.style.fontShape==="auto"&&delete this.style.fontShape,this.style.fontSeries==="auto"&&delete this.style.fontSeries,this.style.color==="none"&&(delete this.style.color,delete this.style.verbatimColor),this.style.backgroundColor==="none"&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),this.style.fontSize==="auto"&&delete this.style.fontSize;for(const r of this.children)r.applyStyle(e)}getInitialBaseElement(){let e;return this.hasEmptyBranch("body")||(e=this.body[1].getInitialBaseElement()),e??this}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){if(this.type==="leftright")return!1;const e=this.getInitialBaseElement();return/mord/.test(e.type)}hasEmptyBranch(e){const r=this.branch(e);return!r||r.length===1}setChildren(e,r){if(!e||!mo(r))return;const n=[this.makeFirstAtom(r),...e];this._branches?this._branches[r]=n:this._branches={[r]:n};for(const i of e)i.parent=this,i.treeBranch=r;this.isDirty=!0}makeFirstAtom(e){const r=new C("first",this.context,{mode:this.mode});return r.parent=this,r.treeBranch=e,r}addChild(e,r){this.createBranch(r).push(e),this.isDirty=!0,e.parent=this,e.treeBranch=r}addChildBefore(e,r){const n=this.createBranch(r.treeBranch);n.splice(n.indexOf(r),0,e),this.isDirty=!0,e.parent=this,e.treeBranch=r.treeBranch}addChildAfter(e,r){const n=this.createBranch(r.treeBranch);n.splice(n.indexOf(r)+1,0,e),this.isDirty=!0,e.parent=this,e.treeBranch=r.treeBranch}addChildren(e,r){for(const n of e)this.addChild(n,r)}addChildrenAfter(e,r){const n=this.createBranch(r.treeBranch);n.splice(n.indexOf(r)+1,0,...e),this.isDirty=!0;for(const i of e)i.parent=this,i.treeBranch=r.treeBranch;return e[e.length-1]}removeBranch(e){const r=this.branch(e);if(mo(e)&&(this._branches[e]=void 0),!r)return[];for(const n of r)n.parent=void 0,n.treeBranch=void 0;return r.shift(),this.isDirty=!0,r}removeChild(e){if(e.type==="first")return;const r=this.branch(e.treeBranch),n=r.indexOf(e);r.splice(n,1),this.isDirty=!0,e.parent=void 0,e.treeBranch=void 0}get siblings(){return this.type==="root"?[]:this.parent.branch(this.treeBranch)}get firstSibling(){return this.siblings[0]}get lastSibling(){const{siblings:e}=this;return e[e.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return this.siblings.length===1}get leftSibling(){const e=this.parent.branch(this.treeBranch);return e[e.indexOf(this)-1]}get rightSibling(){const e=this.parent.branch(this.treeBranch);return e[e.indexOf(this)+1]}get hasChildren(){return Boolean(this._branches&&this.children.length>0)}get firstChild(){return this.children[0]}get lastChild(){const{children:e}=this;return e[e.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];const e=[];for(const r of Fn)if(this._branches[r])for(const n of this._branches[r])e.push(...n.children),e.push(n);return this._children=e,e}render(e,r){if(this.type==="first"&&!e.atomIdsSettings)return null;const n=new W(e,this.style);let i="";this.type==="root"&&(i+=" ML__base"),this.isSelected&&(i+=" ML__selected");let o=this.createBox(n,{classes:i,newList:(r==null?void 0:r.newList)===!0||this.type==="first"});return o?(this.subsupPlacement||!this.superscript&&!this.subscript||(o=this.attachSupsub(n,{base:o})),o.wrap(n)):null}attachSupsub(e,r){var n,i;const o=r.base,a=this.superscript,s=this.subscript;if(!a&&!s)return o;let l=null,u=null;const c=(n=r.isCharacterBox)!==null&&n!==void 0?n:this.isCharacterBox();let d=0;if(a){const b=new W(e,void 0,"superscript");l=C.createBox(b,a,{newList:!0}),c||(d=o.height-e.metrics.supDrop*b.scalingFactor)}let p,f=0;if(s){const b=new W(e,void 0,"subscript");u=C.createBox(b,s,{newList:!0}),c||(f=o.depth+e.metrics.subDrop*b.scalingFactor)}p=e.isDisplayStyle?e.metrics.sup1:e.isCramped?e.metrics.sup3:e.metrics.sup2;const g=.05/e.scalingFactor;let v=null;if(u&&l){d=Math.max(d,p,l.depth+.25*e.metrics.xHeight),f=Math.max(f,e.metrics.sub2);const b=e.metrics.defaultRuleThickness;if(d-l.depth-(u.height-f)<4*b){f=4*b-(d-l.depth)+u.height;const m=.8*e.metrics.xHeight-(d-l.depth);m>0&&(d+=m,f-=m)}const y=this.isExtensibleSymbol&&o.italic?-o.italic:0;v=new $e({individualShift:[{box:u,shift:f,marginLeft:y},{box:l,shift:-d}]}).wrap(e)}else u&&!l?(f=Math.max(f,e.metrics.sub1,u.height-.3448),v=new $e({shift:f,children:[{box:u,marginRight:g,marginLeft:this.isCharacterBox()?-((i=o.italic)!==null&&i!==void 0?i:0):0}]})):!u&&l&&(d=Math.max(d,p,l.depth+.10775),v=new $e({shift:-d,children:[{box:l,marginRight:g}]}),v.wrap(e));const k=new B(v,{classes:"msubsup"+(this.isSelected?" ML__selected":"")});return this.caret&&(k.caret=this.caret),new B([o,k],{type:r.type})}attachLimits(e,r){var n;const i=this.superscript?C.createBox(new W(e,this.style,"superscript"),this.superscript,{newList:!0}):null,o=this.subscript?C.createBox(new W(e,this.style,"subscript"),this.subscript,{newList:!0}):null;return i||o?function(a,s){var l,u,c,d,p;const f=a.metrics,g=new B(s.base),v=(l=s.baseShift)!==null&&l!==void 0?l:0,k=(u=s.slant)!==null&&u!==void 0?u:0;let b=0,y=0;s.above&&(b=(c=s.aboveShift)!==null&&c!==void 0?c:Math.max(f.bigOpSpacing1,f.bigOpSpacing3-s.above.depth)),s.below&&(y=(d=s.belowShift)!==null&&d!==void 0?d:Math.max(f.bigOpSpacing2,f.bigOpSpacing4-s.below.height));let m=null;if(s.below&&s.above){const h=f.bigOpSpacing5+s.below.height+s.below.depth+y+g.depth+v;m=new $e({bottom:h,children:[f.bigOpSpacing5,{box:s.below,marginLeft:-k,classes:["ML__center"]},y,{box:g,classes:["ML__center"]},b,{box:s.above,marginLeft:k,classes:["ML__center"]},f.bigOpSpacing5]}).wrap(a)}else if(s.below&&!s.above)m=new $e({top:g.height-v,children:[f.bigOpSpacing5,{box:s.below,marginLeft:-k,classes:["ML__center"]},y,{box:g,classes:["ML__center"]}]}).wrap(a);else if(!s.below&&s.above){const h=g.depth+v;m=new $e({bottom:h,children:[{box:g,classes:["ML__center"]},b,{box:s.above,marginLeft:k,classes:["ML__center"]},f.bigOpSpacing5]}).wrap(a)}else{const h=g.depth+v;m=new $e({bottom:h,children:[{box:g},f.bigOpSpacing5]}).wrap(a)}return new B(m,{type:(p=s.type)!==null&&p!==void 0?p:"mop"})}(e,{...r,above:i,below:o,type:(n=r==null?void 0:r.type)!==null&&n!==void 0?n:"mop"}):r.base.wrap(e)}bind(e,r){if(!r||e.isPhantom||this.value==="")return r;let n=this.parent;for(;n&&!n.captureSelection;)n=n.parent;return n!=null&&n.captureSelection||(this.id||(this.id=e.makeID()),r.atomID=this.id),r}createMathfieldBox(e,r,n){const i=new Ry(n,r,{type:"mathfield",mode:this.mode,maxFontSize:e.scalingFactor,style:{variant:"normal",...this.style,letterShapeStyle:e.letterShapeStyle,fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)},classes:""});return e.isTight&&(i.isTight=!0),this.mode==="math"&&this.style.variant!=="main"||(i.italic=0),i.right=i.italic,this.bind(e,i),Un(i,{type:"mord"})}createBox(e,r){var n,i,o,a;const s=(n=this.value)!==null&&n!==void 0?n:this.body,l=function(d){return $y.includes(d)}(this.type)?this.type:void 0;let u=(i=r==null?void 0:r.classes)!==null&&i!==void 0?i:"";this.mode==="text"&&(u+=" ML__text");const c=typeof s=="string"||s===void 0?new B((o=s)!==null&&o!==void 0?o:null,{type:l,mode:this.mode,maxFontSize:e.scalingFactor,style:{variant:"normal",...this.style,letterShapeStyle:e.letterShapeStyle,fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)},classes:u,newList:r==null?void 0:r.newList}):(a=C.createBox(e,s,{type:l,mode:this.mode,style:this.style,classes:u,newList:r==null?void 0:r.newList}))!==null&&a!==void 0?a:new B(null);return e.isTight&&(c.isTight=!0),this.mode==="math"&&this.style.variant!=="main"||(c.italic=0),c.right=c.italic,this.bind(e,c),this.caret&&(this.superscript||this.subscript||(c.caret=this.caret)),c}isDigit(){var e;return this.type==="mord"&&this.value?/^[\d,.]$/.test(this.value):this.type==="group"&&((e=this.body)===null||e===void 0?void 0:e.length)===2&&this.body[0].type==="first"&&this.body[1].value===","}asDigit(){var e;return this.type==="mord"&&this.value&&/^[\d,.]$/.test(this.value)?this.value:this.type==="group"&&((e=this.body)===null||e===void 0?void 0:e.length)===2&&this.body[0].type==="first"&&this.body[1].value===","?".":""}}function Yn(t,e){if(!t||t.length===0)return"";if(t[0].type==="first"){if(t.length===1)return"";t=t.slice(1)}return t.length===0?"":xe(Ut(t,"cssClass").map(r=>xe(Ut(r,"color").map(n=>xe(function(i){const o=[];let a=[],s="NONE";for(const l of i)l.type!=="first"&&(l.mode!==s?(a.length>0&&o.push(a),a=[l],s=l.mode):a.push(l));return a.length>0&&o.push(a),o}(n).map(i=>Nt.serialize(i,e)))))))}function ru(t,e,r){var n,i,o,a;function s(f){return f.mode==="text"}if(!e||e.length===0)return null;const l=new W(t,r==null?void 0:r.style),u=!l.atomIdsSettings||!l.atomIdsSettings.groupNumbers;let c,d=[],p=(n=r==null?void 0:r.newList)!==null&&n!==void 0&&n;if(e.length===1){const f=e[0],g=f.render(l,{newList:p});g&&(u&&f.isSelected&&g.selected(!0),d=[g])}else{let f="",g=!0;for(const v of e){!((i=l.atomIdsSettings)===null||i===void 0)&&i.groupNumbers&&f&&(g&&v.isDigit()||!g&&s(v))&&(l.atomIdsSettings.overrideID=f);const k=v.render(l,{newList:p});l.atomIdsSettings&&(l.atomIdsSettings.overrideID=void 0),k&&(p=v.type==="group"&&!v.boxType,!((o=l.atomIdsSettings)===null||o===void 0)&&o.groupNumbers&&((v.isDigit()||s(v))&&(f&&g===v.isDigit()||(g=v.isDigit(),f=(a=v.id)!==null&&a!==void 0?a:"")),!f||(v.isDigit()||s(v))&&v.hasEmptyBranch("superscript")&&v.hasEmptyBranch("subscript")||(f="")),u&&v.isSelected&&k.selected(!0),d.push(k))}}return d.length===0?null:(r||l.isTight||d.length>1?(c=new B(d,{isTight:l.isTight,...r??{}}),c.isSelected=d.every(f=>f.isSelected)):c=d[0],c.wrap(l).wrap(t))}C.customSerializer={};class Li extends C{constructor(e,r,n,i){super("accent",n,{command:e,style:i.style}),i.accentChar?this.accent=i.accentChar:this.svgAccent=i==null?void 0:i.svgAccent,this.body=r,this.skipBoundary=!0}static fromJson(e,r){return new Li(e.command,e.body,r,{accentChar:e.accentChar,svgAccent:e.svgAccent,style:e.style})}toJson(){return{...super.toJson(),accentChar:this.accent,svgAccent:this.svgAccent}}render(e){var r;const n=new W(e,this.style,"cramp"),i=(r=C.createBox(n,this.body))!==null&&r!==void 0?r:new B(null);let o=0;!this.hasEmptyBranch("body")&&this.body.length===2&&this.body[1].isCharacterBox()&&(o=i.skew);let a,s=Math.min(i.height,.431);if(this.svgAccent)a=Ga(this.svgAccent),s=n.metrics.bigOpSpacing1-s;else if(this.accent){const u=new B(this.accent,{fontFamily:"Main-Regular"});u.italic=0;const c=this.accent===8407?" ML__accent-vec":"";a=new B(new B(u),{classes:"ML__accent-body"+c})}a=new $e({shift:0,children:[{box:new B(i)},-s,{box:a,marginLeft:i.left+2*o,classes:["ML__center"]}]});const l=new B(a,{newList:!0,type:"mord"});return this.caret&&(l.caret=this.caret),this.bind(n,l.wrap(n)),this.attachSupsub(n,{base:l})}}const Mo={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},qy=Object.fromEntries(Object.entries(Mo).map(([t,e])=>[e,t]));function Ns(t){var e;return(e={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"":8739,"":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[t])!==null&&e!==void 0?e:t.codePointAt(0)}function n1(t,e,r,n,i){const o=new W(n,i==null?void 0:i.style,"textstyle"),a=new B(Ns(t),{fontFamily:"Size"+e+"-Regular",classes:"ML__delim-size"+e}).wrap(o);return r&&a.setTop(.25*(1-o.scalingFactor)),a}function i1(t,e,r,n,i){var o;let a,s,l,u;a=l=u=Ns(t),s=null;let c="Size1-Regular";t==="\\vert"||t==="\\lvert"||t==="\\rvert"||t==="\\mvert"||t==="\\mid"?l=a=u=8739:t==="\\Vert"||t==="\\lVert"||t==="\\rVert"||t==="\\mVert"||t==="\\|"?l=a=u=8741:t==="\\uparrow"?l=u=9168:t==="\\Uparrow"?l=u=8214:t==="\\downarrow"?a=l=9168:t==="\\Downarrow"?a=l=8214:t==="\\updownarrow"?(a=8593,l=9168,u=8595):t==="\\Updownarrow"?(a=8657,l=8214,u=8659):t==="["||t==="\\lbrack"?(a=9121,l=9122,u=9123,c="Size4-Regular"):t==="]"||t==="\\rbrack"?(a=9124,l=9125,u=9126,c="Size4-Regular"):t==="\\lfloor"||t===""?(l=a=9122,u=9123,c="Size4-Regular"):t==="\\lceil"||t===""?(a=9121,l=u=9122,c="Size4-Regular"):t==="\\rfloor"||t===""?(l=a=9125,u=9126,c="Size4-Regular"):t==="\\rceil"||t===""?(a=9124,l=u=9125,c="Size4-Regular"):t==="("||t==="\\lparen"?(a=9115,l=9116,u=9117,c="Size4-Regular"):t===")"||t==="\\rparen"?(a=9118,l=9119,u=9120,c="Size4-Regular"):t==="\\{"||t==="\\lbrace"?(a=9127,s=9128,u=9129,l=9130,c="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(a=9131,s=9132,u=9133,l=9130,c="Size4-Regular"):t==="\\lgroup"||t===""?(a=9127,u=9129,l=9130,c="Size4-Regular"):t==="\\rgroup"||t===""?(a=9131,u=9133,l=9130,c="Size4-Regular"):t==="\\lmoustache"||t===""?(a=9127,u=9133,l=9130,c="Size4-Regular"):t==="\\rmoustache"||t===""?(a=9131,u=9129,l=9130,c="Size4-Regular"):t==="\\surd"?(a=57345,u=9143,l=57344,c="Size4-Regular"):t==="\\ulcorner"?(a=9484,l=u=32):t==="\\urcorner"?(a=9488,l=u=32):t==="\\llcorner"?(u=9492,l=a=32):t==="\\lrcorner"&&(a=9496,l=a=32);const d=Bn(a,c),p=d.height+d.depth,f=Bn(l,c),g=f.height+f.depth,v=Bn(u,c),k=v.height+v.depth;let b=0,y=1;if(s!==null){const H=Bn(s,c);b=H.height+H.depth,y=2}const m=p+k+b,h=Math.max(0,Math.ceil((e-m)/(y*g))),w=m+h*y*g;let x=.25;r&&(x*=n.scalingFactor);const S=w/2-x,M=[];M.push({box:new B(u,{fontFamily:c})}),M.push(-.008);const D=new B(l,{fontFamily:c});if(s===null)for(let H=0;H<h;H++)M.push({box:D});else{for(let H=0;H<h;H++)M.push({box:D});M.push(-.008),M.push({box:new B(s,{fontFamily:c})}),M.push(-.008);for(let H=0;H<h;H++)M.push({box:D})}M.push(-.008),M.push({box:new B(a,{fontFamily:c})});let A="";c==="Size1-Regular"?A=" delim-size1":c==="Size4-Regular"&&(A=" delim-size4");const F=new $e({bottom:S,children:M},{classes:A});return new B(F,{...i??{},classes:((o=i==null?void 0:i.classes)!==null&&o!==void 0?o:"")+" ML__delim-mult"})}const o1=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","","","",""]),Iy=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","","","",""]),a1=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),jy=[0,1.2,1.8,2.4,3],Vy=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Hy=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],Uy=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function Ps(t,e,r,n,i,o){var a;if(!e||e.length===0||e===".")return Wn(i,t,t);let s;e==="<"||e==="\\lt"?e="\\langle":e!==">"&&e!=="\\gt"||(e="\\rangle"),s=a1.has(e)?Vy:o1.has(e)?Uy:Hy;const l=function(c,d,p,f){for(let v={"-4":0,"-3":1,0:2}[f.mathstyle.sizeDelta];v<p.length&&p[v].type!=="stack";v++){const k=Bn(c,(g=p[v]).type==="small"?"Main-Regular":g.type==="large"?"Size"+g.size+"-Regular":"Size4-Regular");if(k.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let b=k.height+k.depth;if(p[v].type==="small"&&(p[v].mathstyle==="scriptscriptstyle"?b*=b0[Math.max(1,f.size-2)]:p[v].mathstyle==="scriptstyle"&&(b*=b0[Math.max(1,f.size-1)])),b>d)return p[v]}var g;return p[p.length-1]}(Ns(e),r,s,i),u=new W(i,o==null?void 0:o.style,l.mathstyle);return l.type==="small"?function(c,d,p,f){const g=new B(Ns(c),{fontFamily:"Main-Regular"}).wrap(d,f);return p&&g.setTop(.25*(1-d.scalingFactor)),g}(e,u,n,{type:t,classes:"ML__small-delim "+((a=o==null?void 0:o.classes)!==null&&a!==void 0?a:"")}):l.type==="large"?n1(e,l.size,n,u,{...o,type:t}):i1(e,r,n,u,{...o,type:t})}function Lo(t,e,r,n,i,o){if(e===".")return Wn(i,t,o==null?void 0:o.classes);const a=.25*i.scalingFactor,s=Math.max(r-a,n+a);return Ps(t,e,Math.max(s/500*901,2*s-.5),!0,i,o)}function Wn(t,e,r){const n=new W(t,void 0,"textstyle");return new B(null,{classes:" nulldelimiter "+(r??""),type:e}).wrap(n)}class _t extends C{constructor(e,r,n){var i,o,a,s;super("overunder",r,{command:e,serialize:n.serialize,style:n.style}),this.skipBoundary=(i=n.skipBoundary)===null||i===void 0||i,this.subsupPlacement=n.supsubPlacement,this.body=n.body,this.svgAbove=n.svgAbove,this.svgBelow=n.svgBelow,this.svgBody=n.svgBody,this.above=n.above,this.below=n.below,this.boxType=(o=n.boxType)!==null&&o!==void 0?o:"mord",this.paddedBody=(a=n.paddedBody)!==null&&a!==void 0&&a,this.paddedLabels=(s=n.paddedLabels)!==null&&s!==void 0&&s}static fromJson(e,r){return new _t(e.command,r,e)}toJson(){const e={};return this.skipBoundary||(e.skipBoundary=!1),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.svgAbove&&(e.svgAbove=this.svgAbove),this.svgBelow&&(e.svgBelow=this.svgBelow),this.svgBody&&(e.svgBody=this.svgBody),this.boxType!=="mord"&&(e.boxType=this.boxType),this.paddedBody&&(e.paddedBody=!0),this.paddedLabels&&(e.paddedLabels=!0),{...super.toJson(),...e}}render(e){let r=this.svgBody?Ga(this.svgBody):C.createBox(e,this.body,{newList:!0});const n=new W(e,this.style,"scriptstyle");let i=null;this.svgAbove?i=Ga(this.svgAbove):this.above&&(i=C.createBox(n,this.above,{newList:!0}));let o=null;this.svgBelow?o=Ga(this.svgBelow):this.below&&(o=C.createBox(n,this.below,{newList:!0})),this.paddedBody&&(r=new B([Wn(e,"mopen"),r,Wn(e,"mclose")],{newList:!0}));let a=function(s,l){if(!l.base)return null;if(!l.above&&!l.below){const f=new B(l.base,{type:l.type});return f.setStyle("position","relative"),f}let u=0;l.above&&(u=-l.above.depth+s.metrics.bigOpSpacing2);let c=null;const d=l.base,p=["ML__center"];if(l.paddedAboveBelow&&p.push("ML__label_padding"),l.below&&l.above){const f=s.metrics.bigOpSpacing5+l.below.height+l.below.depth+d.depth+0;c=new $e({bottom:f,children:[s.metrics.bigOpSpacing5,{box:l.below,classes:p},{box:d,classes:["ML__center"]},u,{box:l.above,classes:p},s.metrics.bigOpSpacing5]})}else l.below?c=new $e({top:d.height-0,children:[s.metrics.bigOpSpacing5,{box:l.below,classes:p},{box:d,classes:["ML__center"]}]}):l.above&&(c=new $e({bottom:d.depth+0,children:[{box:d,classes:["ML__center"]},u,{box:l.above,classes:p},s.metrics.bigOpSpacing5]}));return new B(c,{type:l.type})}(e,{base:r,above:i,below:o,type:this.boxType==="mbin"||this.boxType==="mrel"?this.boxType:"mord",paddedAboveBelow:this.paddedLabels});return a?(a=this.subsupPlacement==="over-under"?this.attachLimits(e,{base:a,type:a.type}):this.attachSupsub(e,{base:a}),this.caret&&(a.caret=this.caret),this.bind(e,a)):null}}class Ke extends C{constructor(e,r,n){var i,o,a;super("group",r,{command:n==null?void 0:n.command,mode:(i=n==null?void 0:n.mode)!==null&&i!==void 0?i:"math",serialize:n==null?void 0:n.serialize,style:n==null?void 0:n.style}),this.body=e,this.mathstyleName=n==null?void 0:n.mathstyleName,this.latexOpen=n==null?void 0:n.latexOpen,this.latexClose=n==null?void 0:n.latexClose,this.cssId=n==null?void 0:n.cssId,this.htmlData=n==null?void 0:n.htmlData,this.htmlStyle=n==null?void 0:n.htmlStyle,this.customClass=n==null?void 0:n.customClass,this.boxType=n==null?void 0:n.boxType,this.skipBoundary=!0,this.captureSelection=(o=n==null?void 0:n.captureSelection)!==null&&o!==void 0&&o,this.changeMode=(a=n==null?void 0:n.changeMode)!==null&&a!==void 0&&a,this.displayContainsHighlight=!1,e&&e.length===1&&e[0].command===","&&(this.captureSelection=!0)}static fromJson(e,r){return new Ke(e.body,r,e)}toJson(){const e={};return this.mathstyleName&&(e.mathstyleName=this.mathstyleName),this.latexOpen&&(e.latexOpen=this.latexOpen),this.latexClose&&(e.latexClose=this.latexClose),this.cssId&&(e.cssId=this.cssId),this.htmlData&&(e.htmlData=this.htmlData),this.htmlStyle&&(e.htmlStyle=this.htmlStyle),this.customClass&&(e.customClass=this.customClass),this.boxType&&(e.boxType=this.boxType),this.captureSelection&&(e.captureSelection=!0),this.changeMode&&(e.changeMode=!0),{...super.toJson(),...e}}render(e){const r=new W(e,this.style,this.mathstyleName),n=C.createBox(r,this.body,{type:this.boxType,classes:this.customClass,mode:this.mode,style:{backgroundColor:this.style.backgroundColor},newList:!this.boxType});return n?(this.cssId&&(n.cssId=this.cssId),this.htmlData&&(n.htmlData=this.htmlData),this.htmlStyle&&(n.htmlStyle=this.htmlStyle),this.caret&&(n.caret=this.caret),this.bind(e,n)):null}serialize(e){let r=this.bodyToLatex(e);return typeof this.latexOpen=="string"&&(r=this.latexOpen+r+this.latexClose),this.htmlData&&(r=`\\htmlData{${this.htmlData}}{${r}}`),this.htmlStyle&&(r=`\\htmlStyle{${this.htmlStyle}}{${r}}`),this.customClass&&(r=`\\class{${this.customClass}}{${r}}`),this.cssId&&(r=`\\cssId{${this.cssId}}{${r}}`),r}}class fn extends C{constructor(e,r,n,i){super("spacing",n,{command:e,style:r}),this.width=i}static fromJson(e,r){return new fn(e.command,e.style,r,e.width)}toJson(){const e={};return this.width&&(e.width=this.width),{...super.toJson(),...e}}render(e){var r;let n;if(this.width)n=new B(null,{classes:"mspace"}),n.left=vr(this.width.glue);else{const i=(r={"\\qquad":"qquad","\\quad":"quad","\\enspace":"enspace","\\;":"thickspace","\\:":"mediumspace","\\,":"thinspace","\\!":"negativethinspace"}[this.command])!==null&&r!==void 0?r:"mediumspace";n=new B(null,{classes:i})}return n=this.bind(e,n),this.caret&&(n.caret=this.caret),n}serialize(e){var r;let n=(r=this.command)!==null&&r!==void 0?r:"";return this.command==="\\hspace"||this.command==="\\hspace*"?Number.isFinite(this.width)?n+=`{${this.width}em'}`:n+="{0pt}":Number.isFinite(this.width)&&(n+=` ${this.width}em`),n}}class Je extends C{constructor(e,r,n,i){super("leftright",n,{style:i.style,displayContainsHighlight:!0}),this.variant=e,this.body=r,this.leftDelim=i.leftDelim,this.rightDelim=i.rightDelim}static fromJson(e,r){var n;return new Je((n=e.variant)!==null&&n!==void 0?n:"",e.body,r,e)}toJson(){const e=super.toJson();return this.variant&&(e.variant=this.variant),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}serialize(e){var r,n;const i=this.matchingRightDelim();return this.variant==="left...right"?xe(["\\left"+((r=this.leftDelim)!==null&&r!==void 0?r:"."),this.bodyToLatex(e),"\\right"+i]):this.variant==="mleft...mright"?xe(["\\mleft"+((n=this.leftDelim)!==null&&n!==void 0?n:"."),this.bodyToLatex(e),"\\mright"+i]):xe([this.leftDelim&&this.leftDelim!=="."?this.leftDelim:"",this.bodyToLatex(e),i])}matchingRightDelim(){var e,r;if(this.rightDelim&&this.rightDelim!=="?")return this.rightDelim;const n=(e=this.leftDelim)!==null&&e!==void 0?e:".";return(r=Mo[n])!==null&&r!==void 0?r:n}render(e){var r,n,i;const o=new W(e,this.style),a=new W(e,this.style,"textstyle"),s=(r=C.createBox(o,this.body,{newList:!0}))!==null&&r!==void 0?r:new B(null,{newList:!0}),l=s.height/a.scalingFactor,u=s.depth/a.scalingFactor,c=[];if(this.leftDelim&&c.push(this.bind(a,Lo("mopen",this.leftDelim,l,u,a,{classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),s){if(s.children)for(let f=0;f<s.children.length;f++){const g=s.children[f];if(g.delim){const v=g.caret;s.children[f]=this.bind(o,Lo("minner",g.delim,l,u,o)),s.children[f].caret=v}}c.push(s)}if(this.rightDelim){let f=this.containsCaret?" ML__contains-caret":"",g=this.rightDelim;g==="?"&&(this.context.smartFence?(g=this.matchingRightDelim(),f+=" ML__smart-fence__close"):g="."),c.push(this.bind(a,Lo("mclose",g,l,u,a,{classes:f+" ML__close",mode:this.mode,style:this.style})))}const d=(i=this.variant==="mleft...mright"||((n=this.leftSibling)===null||n===void 0?void 0:n.isFunction))!==null&&i!==void 0&&i,p=new B(c,{type:d?"mclose":"minner",classes:"left-right"});return this.caret&&(p.caret=this.caret),this.bind(o,p.wrap(o))}}class Ii extends C{constructor(e,r){super("msubsup",e,{style:r==null?void 0:r.style})}static fromJson(e,r){const n=new Ii(r,e);for(const i of Fn)e[i]&&n.setChildren(e[i],i);return n}toJson(){return super.toJson()}render(e){var r;const n=this.leftSibling,i=new W(e,{isPhantom:!0}),o=(r=n.render(i))!==null&&r!==void 0?r:new B(null),a=new B(null,{height:o.height,depth:o.depth});return this.attachSupsub(e,{base:a,isCharacterBox:n.isCharacterBox(),type:"supsub"})}serialize(e){return this.supsubToLatex(e)}}class ve extends C{constructor(e,r){var n;const i=(r==null?void 0:r.value)||e.placeholderSymbol;super("placeholder",e,{mode:(n=r==null?void 0:r.mode)!==null&&n!==void 0?n:"math",style:r==null?void 0:r.style,value:i,command:"\\placeholder"}),this.captureSelection=!0,this.placeholderId=r==null?void 0:r.placeholderId,r!=null&&r.default&&(this.defaultValue=r==null?void 0:r.default)}static fromJson(e,r){return new ve(r,e)}toJson(){const e=super.toJson();return this.placeholderId&&(e.placeholderId=this.placeholderId),this.value===this.context.placeholderSymbol&&delete e.value,this.defaultValue&&(e.defaultValue=this.defaultValue.map(r=>r.toJson())),e}render(e){if(typeof e.renderPlaceholder=="function")return e.renderPlaceholder(e,this);let r="";return this.caret&&(r+="ML__placeholder-selected "),this.isSelected&&(r+=" ML__selected "),this.createBox(e,{classes:r})}serialize(e){var r;let n=(r=this.value)!==null&&r!==void 0?r:"";return n===this.context.placeholderSymbol&&(n=""),`\\placeholder${this.placeholderId?`[${this.placeholderId}]`:""}${this.defaultValue?`[${C.serialize(this.defaultValue,e)}]`:""}{${n}}`}}class dl extends C{constructor(e,r){super("error",r,{value:e,command:e,mode:"math"}),this.verbatimLatex=e}static fromJson(e,r){return new dl(e.command,r)}toJson(){return super.toJson()}render(e){const r=this.createBox(e,{classes:"ML__error"});return this.caret&&(r.caret=this.caret),r}}class pl extends C{constructor(e,r,n){var i,o;super("macro",r,{command:e}),this.body=n.body,n.captureSelection===void 0?n.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=n.captureSelection,this.macroArgs=(i=n.args)!==null&&i!==void 0?i:"",this.expand=(o=n.expand)!==null&&o!==void 0&&o}static fromJson(e,r){return new pl(e.command,r,e)}toJson(){const e=super.toJson();return this.expand&&(e.expand=!0),this.captureSelection!==void 0&&(e.captureSelection=this.captureSelection),this.macroArgs&&(e.args=this.macroArgs),e}serialize(e){return e.expandMacro&&this.expand?this.bodyToLatex(e):this.command+this.macroArgs}render(e){const r=C.createBox(e,this.body);return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}}class Gn extends C{constructor(e,r,n,i){super("text",i,{command:e,mode:"text",displayContainsHighlight:!0}),this.value=r,this.verbatimLatex=r,this.applyStyle(n)}static fromJson(e,r){return new Gn(e.command,e.value,e.style,r)}toJson(){return super.toJson()}render(e){const r=this.createBox(e);return this.caret&&(r.caret=this.caret),r}serialize(e){var r;return(r=this.verbatimLatex)!==null&&r!==void 0?r:Es("text",this.value.codePointAt(0))}}function Aa(t){return!/^<({|}|\$|\$\$|space)>$/.test(t)}class hl{constructor(e,r,n){var i,o,a,s,l,u;this.index=0,this.endCount=0,this.tokens=e,this.context=r,this.errors=[],this.args=(i=n.args)!==null&&i!==void 0?i:null,this.smartFence=(o=n.smartFence)!==null&&o!==void 0?o:r.smartFence,this._currentParsingContext={parent:void 0,mathlist:[],style:(a=n.style)!==null&&a!==void 0?a:{},parseMode:(s=n.parseMode)!==null&&s!==void 0?s:"math",mathstyle:(l=n.mathstyle)!==null&&l!==void 0?l:"displaystyle",registers:(u=n.registers)!==null&&u!==void 0?u:r.registers,tabular:!1}}get currentContext(){return this._currentParsingContext}get rootContext(){let e=this._currentParsingContext;for(;e.parent;)e=e.parent;return e}beginContext(e){var r,n,i;const o={parent:this.currentContext,mathlist:[],style:{...this.currentContext.style},parseMode:(r=e==null?void 0:e.mode)!==null&&r!==void 0?r:this.currentContext.parseMode,mathstyle:(n=e==null?void 0:e.mathstyle)!==null&&n!==void 0?n:this.currentContext.mathstyle,registers:null,tabular:(i=e==null?void 0:e.tabular)!==null&&i!==void 0&&i};this._currentParsingContext=o}endContext(){this._currentParsingContext=this._currentParsingContext.parent}onError(e){this.errors.push({before:ro(this.tokens.slice(this.index,this.index+10)),after:ro(this.tokens.slice(Math.max(0,this.index-10),this.index)),...e})}get mathlist(){return this.currentContext.mathlist}set mathlist(e){this.currentContext.mathlist=e}get parseMode(){return this.currentContext.parseMode}set parseMode(e){this.currentContext.parseMode=e}get tabularMode(){return this.currentContext.tabular}get style(){let e=this.currentContext;for(;e;){if(e.style)return e.style;e=e.parent}return{}}set style(e){this.currentContext.style=e}getRegister(e){var r,n,i;if(e.startsWith("global "))return(n=(r=this.rootContext.registers)===null||r===void 0?void 0:r[e.slice(7)])!==null&&n!==void 0?n:0;let o=this.currentContext;for(;o;){if(!((i=o.registers)===null||i===void 0)&&i[e])return o.registers[e];o=o.parent}return 0}setRegister(e,r){var n;if(e.startsWith("global ")){e=e.slice(7);let i=this.currentContext;for(;i;)!((n=i.registers)===null||n===void 0)&&n[e]&&delete i.registers[e],i=i.parent;this.rootContext.registers[e]=r}else this.currentContext.registers||(this.currentContext.registers={}),this.currentContext.registers[e]=r}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}match(e){return this.tokens[this.index]===e&&(this.index++,!0)}lastSubsupAtom(){let e;return this.mathlist.length>0&&(e=this.mathlist[this.mathlist.length-1],e.type==="msubsup"||e.subsupPlacement!==void 0)||(e=new Ii(this.context,{style:this.style}),this.mathlist.push(e)),e}hasPattern(e){return e.test(this.tokens[this.index])}hasInfixCommand(){var e;const{index:r}=this;if(r<this.tokens.length&&this.tokens[r].startsWith("\\")){const n=this.context.getDefinition(this.tokens[r],this.parseMode);return!(!n||n.definitionType==="symbol")&&!(n.ifMode&&!n.ifMode.includes(this.parseMode))&&(e=n.infix)!==null&&e!==void 0&&e}return!1}matchColumnSeparator(){const{index:e}=this;return!(!this.tabularMode||this.tokens[e]!=="&"||(this.index++,0))}matchRowSeparator(){const{index:e}=this;return!(!this.tabularMode||this.tokens[e]!=="\\\\"&&this.tokens[e]!=="\\cr"||(this.index++,0))}placeholder(){var e;const r=(e=this.args)===null||e===void 0?void 0:e.call(this,"?");return r?sr(r,this.context,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new ve(this.context,{mode:this.parseMode,style:this.style})]}matchWhitespace(){let e=!1;for(;this.match("<space>");)e=!0;return e}skipUntilToken(e){let r=this.tokens[this.index];for(;r&&r!==e;)r=this.tokens[++this.index];r===e&&this.index++}skipFiller(){let e=!1;do{const r=this.matchWhitespace(),n=this.match("\\relax");e=!r&&!n}while(!e)}matchKeyword(e){const r=this.index;let n=this.end(),i="";for(;!n;){const a=this.get();Aa(a)?(i+=a,n=this.end()||i.length>=e.length):n=!0}const o=e.toUpperCase()===i.toUpperCase();return o||(this.index=r),o}scanString(){let e="";for(;!this.end();)if(this.match("<space>"))e+=" ";else{const r=this.peek();if(r==="]")break;if(Aa(r))e+=this.get();else{if(!r.startsWith("\\"))break;this.onError({code:"unbalanced-braces"}),e+=this.get()}}return e}scanBalancedString(){let e="",r=this.end(),n=1;for(;!r;){if(this.match("<space>"))e+=" ";else{const i=this.get();i==="<{>"?(e+="{",n+=1):i==="<}>"?(n-=1,n>0?e+="}":this.index-=1):e+=i==="<$>"?"$":i==="<$$>"?"$$":i}r=n===0||this.end()}return e}matchLiteralArg(){var e;let r="";if(this.match("<{>")){let n=1;for(;n>0&&!this.end();){const i=this.get();i==="<}>"?(n-=1,n>0&&(r+="}")):i==="<{>"?(n+=1,r+="{"):r+=(e={"<space>":" ","<$$>":"$$","<$>":"$"}[i])!==null&&e!==void 0?e:i}}return r}scanNumber(e=!0){var r,n;let i=!1,o=this.peek();for(;o==="<space>"||o==="+"||o==="-";)this.get(),o==="-"&&(i=!i),o=this.peek();e=Boolean(e);let a=10,s=/\d/;if(this.match("'"))a=8,s=/[0-7]/,e=!0;else if(this.match('"')||this.match("x"))a=16,s=/[\dA-F]/,e=!0;else if(this.match("`"))return o=this.get(),o?o.startsWith("\\")&&o.length===2?(i?-1:1)*((r=o.codePointAt(1))!==null&&r!==void 0?r:0):(i?-1:1)*((n=o.codePointAt(0))!==null&&n!==void 0?n:0):null;let l="";for(;this.hasPattern(s);)l+=this.get();if(!e&&(this.match(".")||this.match(",")))for(l+=".";this.hasPattern(s);)l+=this.get();const u=e?Number.parseInt(l,a):Number.parseFloat(l);return Number.isNaN(u)?null:i?-u:u}scanDimen(){var e,r,n;let i,o=this.scanNumber(!1);if(o===null){if(!(!((e=this.peek())===null||e===void 0)&&e.startsWith("\\")))return null;o=1}return this.matchWhitespace(),this.matchKeyword("pt")?i={dimension:o,unit:"pt"}:this.matchKeyword("mm")?i={dimension:o,unit:"mm"}:this.matchKeyword("cm")?i={dimension:o,unit:"cm"}:this.matchKeyword("ex")?i={dimension:o,unit:"ex"}:this.matchKeyword("px")?i={dimension:o,unit:"px"}:this.matchKeyword("em")?i={dimension:o,unit:"em"}:this.matchKeyword("bp")?i={dimension:o,unit:"bp"}:this.matchKeyword("dd")?i={dimension:o,unit:"dd"}:this.matchKeyword("pc")?i={dimension:o,unit:"pc"}:this.matchKeyword("in")?i={dimension:o,unit:"in"}:this.matchKeyword("mu")?i={dimension:o,unit:"mu"}:!((r=this.peek())===null||r===void 0)&&r.startsWith("\\")?(i=(n=ml(this.getRegister(this.get().slice(1)),this.context))!==null&&n!==void 0?n:{dimension:0},i.dimension*=o):(this.match("\\relax")||this.onError({code:"missing-unit"}),i={dimension:o,unit:"pt"}),i}scanGlue(){const e=this.scanDimen();if(e===null)return null;const r={glue:e};return this.matchWhitespace(),this.match("\\relax")||(this.matchKeyword("plus")&&this.scanDimen(),this.matchWhitespace(),this.match("\\relax")||(this.matchWhitespace(),this.matchKeyword("minus")&&this.scanDimen())),r}scanColspec(){this.matchWhitespace();const e=[];for(;!this.end()&&this.peek()!=="<}>"&&this.peek()!=="]";){const r=this.get();r==="c"||r==="r"||r==="l"?e.push({align:r}):r==="|"?e.push({separator:"solid"}):r===":"?e.push({separator:"dashed"}):r==="@"&&(this.match("<{>")&&(this.beginContext({mode:"math"}),e.push({gap:this.parse(n=>n==="<}>")}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return e}parseModeSet(){let e="";if(this.match("\\(")&&(e="\\)"),!e&&this.match("\\[")&&(e="\\]"),!e)return null;this.beginContext({mode:"math",mathstyle:e==="\\)"?"textstyle":"displaystyle"});const r=new Ke(this.parse(n=>n===e),this.context,{mathstyleName:e==="\\)"?"textstyle":"displaystyle",latexOpen:e==="\\]"?"\\[":"\\(",latexClose:e,boxType:"mord"});return this.match(e)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),r.hasEmptyBranch("body")?null:r}parseModeShift(){let e="";if(this.match("<$>")&&(e="<$>"),!e&&this.match("<$$>")&&(e="<$$>"),!e)return null;this.beginContext({mode:"math",mathstyle:"textstyle"});const r=new Ke(this.parse(n=>n===e),this.context,{mathstyleName:e==="<$>"?"textstyle":"displaystyle",latexOpen:e==="<$>"?"$ ":"$$ ",latexClose:e==="<$>"?" $":" $$"});return this.match(e)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),r.hasEmptyBranch("body")?null:r}parseEnvironment(){if(!this.match("\\begin"))return null;const e=this.parseArgument("string");if(!e)return null;const r=function(l){var u;return(u=Qm[l])!==null&&u!==void 0?u:null}(e);if(!r)return this.onError({code:"unknown-environment",arg:e}),null;const n=[];if(r.params)for(const l of r.params)if(l.isOptional)n.push(this.parseOptionalArgument(l.type));else{const u=this.parseArgument(l.type);u||this.onError({code:"missing-argument",arg:e}),n.push(u)}this.beginContext({tabular:r.tabular});const i=[],o=[];let a=[],s=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:e}),s=!0),!s&&this.match("\\end")&&(this.parseArgument("string")!==e&&this.onError({code:"unbalanced-environment",arg:e}),s=!0),!s)if(this.matchColumnSeparator())a.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){a.push(this.mathlist),this.mathlist=[];let l=null;this.matchWhitespace(),this.match("[")&&(l=this.scanDimen(),this.matchWhitespace(),this.match("]")),o.push(l??{dimension:0}),i.push(a),a=[]}else this.mathlist.push(...this.parse(l=>l==="<}>"||l==="&"||l==="\\end"||l==="\\cr"||l==="\\\\"));while(!s);return a.push(this.mathlist),a.length>0&&i.push(a),this.endContext(),r.createAtom(this.context,e,i,o,n)}parse(e){this.beginContext(),e||(e=l=>l==="<}>");let r="",n=null,i=[],o=null;const a=this.mathlist;for(this.mathlist=[];!this.end()&&!e(this.peek());)this.hasInfixCommand()&&!r?(r=this.get(),n=this.context.getDefinition(r,"math"),n&&(i=this.parseArguments(n)[1]),o=this.mathlist,this.mathlist=[]):this.parseToken();let s;return r?(i.unshift(this.mathlist),this.mathlist=a,o&&i.unshift(o),s=[n.createAtom(r,i,this.style,this.context)]):(s=this.mathlist,this.mathlist=a),this.endContext(),s}parseGroup(){if(!this.match("<{>"))return null;const e=new Ke(this.parse(r=>r==="<}>"),this.context,{mode:this.parseMode,latexOpen:"{",latexClose:"}"});return this.match("<}>")||this.onError({code:"unbalanced-braces"}),e}scanSmartFence(){if(this.matchWhitespace(),!this.match("("))return null;this.beginContext();let e=1;for(;!this.end()&&e!==0;)this.match("(")&&(e+=1),this.match(")")&&(e-=1),e!==0&&this.parseToken();e===0&&this.match(")");const r=new Je("",this.mathlist,this.context,{leftDelim:"(",rightDelim:e===0?")":"?"});return this.endContext(),r}scanDelim(){this.matchWhitespace();const e=this.get();if(!e)return this.onError({code:"unexpected-end-of-string"}),null;let r=".";(e.startsWith("\\")||Aa(e))&&(r=e);const n=this.context.getDefinition(r,"math");return n?n.definitionType==="function"&&n.ifMode&&!n.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:r}),null):n.definitionType!=="symbol"||n.type!=="mopen"&&n.type!=="mclose"?/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(r)?r:(this.onError({code:"unexpected-delimiter",arg:r}),null):r:(this.onError({code:"unknown-command",arg:r}),null)}parseLeftRight(){var e;if(this.match("\\right")||this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),null;let r="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;r="\\mright"}const n=this.scanDelim();if(!n)return null;for(this.beginContext();!this.end()&&!this.match(r);)this.parseToken();const i=this.mathlist;this.endContext();const o=(e=this.scanDelim())!==null&&e!==void 0?e:".";return new Je(r==="\\right"?"left...right":"mleft...mright",i,this.context,{leftDelim:n,rightDelim:o,style:this.style})}parseSupSub(){if(this.parseMode!=="math")return!1;let e=this.peek();if(e!=="^"&&e!=="_"&&e!=="'")return!1;for(;e==="^"||e==="_"||e==="'";){if(this.match("'"))this.match("'")?this.lastSubsupAtom().addChild(new C("mord",this.context,{command:"\\doubleprime",mode:"math",value:""}),"superscript"):this.lastSubsupAtom().addChild(new C("mord",this.context,{command:"\\prime",mode:"math",value:""}),"superscript");else if(this.match("^")||this.match("_")){const r=this.parseArgument("math");r?this.lastSubsupAtom().addChildren(r,e==="_"?"subscript":"superscript"):this.lastSubsupAtom().createBranch(e==="_"?"subscript":"superscript")}e=this.peek()}return!0}parseLimits(){const e=this.match("\\limits"),r=!e&&this.match("\\nolimits"),n=!r&&!e&&this.match("\\displaylimits");if(!e&&!r&&!n)return!1;const i=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return!(i===null||i.type!=="mop"||(e?(i.subsupPlacement="over-under",i.explicitSubsupPlacement=!0,0):r?(i.subsupPlacement="adjacent",i.explicitSubsupPlacement=!0,0):!n||(i.subsupPlacement="auto",i.explicitSubsupPlacement=!0,0)))}parseArguments(e){if(!(e!=null&&e.params))return[void 0,[]];let r;const n=[];let i=e.infix?2:0;for(;i<e.params.length;){const o=e.params[i];if(o.type==="rest")n.push(this.parse(a=>a==="<}>"||a==="&"||a==="\\end"||a==="\\cr"||a==="\\\\"));else if(o.isOptional)n.push(this.parseOptionalArgument(o.type));else if(o.type.endsWith("*"))r=o.type.slice(0,-1);else{const a=this.parseArgument(o.type);if(a!==null)n.push(a);else switch(this.onError({code:"missing-argument"}),o.type){case"number":n.push(0);break;case"dimen":n.push({dimension:0,unit:"pt"});break;case"glue":n.push({glue:{dimension:0,unit:"pt"}});break;case"string":case"balanced-string":n.push("");break;case"delim":n.push(".");break;case"colspec":n.push("llllllllll");break;default:n.push(this.placeholder())}}i+=1}return[r,n]}parseArgument(e){var r,n;this.skipFiller(),e==="auto"&&(e=this.parseMode);let i=null;const o=this.peek()==="<{>";if(!o){if(e==="delim")return(r=this.scanDelim())!==null&&r!==void 0?r:".";if(e==="text"||e==="math"){this.beginContext();const s=this.parseSimpleToken();return this.endContext(),s}}if(o&&this.get(),e==="text"||e==="math"){this.beginContext({mode:e});do this.mathlist.push(...this.parse());while(!this.match("<}>")&&!this.end())}else if(this.beginContext(),e==="string"?i=this.scanString():e==="balanced-string"?i=this.scanBalancedString():e==="number"?i=this.scanNumber():e==="colspec"?i=this.scanColspec():e==="dimen"?i=this.scanDimen():e==="glue"?i=this.scanGlue():e==="delim"&&(i=(n=this.scanDelim())!==null&&n!==void 0?n:"."),o&&this.skipUntilToken("<}>"),i===null)return this.endContext(),null;const a=this.mathlist;return this.endContext(),i??a}parseOptionalArgument(e){var r,n;if(e=e==="auto"?this.parseMode:e,this.matchWhitespace(),!this.match("["))return null;let i=null;for(;!this.end()&&!this.match("]");)if(e==="string")i=this.scanString();else if(e==="number")i=this.scanNumber();else if(e==="dimen")i=this.scanDimen();else if(e==="glue")i=this.scanGlue();else if(e==="colspec")i=this.scanColspec();else if(e==="bbox"){const o=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/),a={};for(const s of o){const l=(n=(r=this.context).backgroundColorMap)===null||n===void 0?void 0:n.call(r,s);if(l)a.backgroundcolor=l;else{const u=s.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(u)a.padding=u[0];else{const c=s.match(/^\s*border\s*:\s*(.*)/);c&&(a.border=c[1])}}}i=a}else e==="math"&&(this.beginContext({mode:"math"}),i=this.mathlist.concat(this.parse(o=>o==="]")),this.endContext());return i}parseCommand(e){var r,n,i,o,a,s,l;if(e==="\\placeholder"){const p=this.parseOptionalArgument("string"),f=this.parseOptionalArgument("math"),g=(r=this.parseArgument("string"))!==null&&r!==void 0?r:void 0;return[new ve(this.context,{mode:this.parseMode,placeholderId:p,value:g,default:f,style:this.style})]}let u=null;if(e==="\\char"){const p=this.index;let f=Math.floor((n=this.scanNumber(!0))!==null&&n!==void 0?n:Number.NaN);(!Number.isFinite(f)||f<0||f>1114111)&&(f=10067);const g="\\char"+ro(this.tokens.slice(p,this.index));return u=new C(this.parseMode==="math"?"mord":"text",this.context,{command:"\\char",mode:this.parseMode,value:String.fromCodePoint(f),serialize:()=>g}),u.verbatimLatex=g,[u]}if(e==="\\hskip"||e==="\\kern"){const p=this.scanGlue();return p?[new fn(e,this.style,this.context,p)]:null}if(u=this.scanMacro(e),u)return[u];const c=this.context.getDefinition(e,this.parseMode);if(!c)return this.onError({code:"unknown-command",arg:e}),[new dl(e,this.context)];const d=this.index;if(c.definitionType==="symbol"){const p={...this.style};c.variant&&(p.variant=c.variant),u=new C((i=c.type)!==null&&i!==void 0?i:"mop",this.context,{command:e,style:p,value:String.fromCodePoint(c.codepoint),mode:this.parseMode})}else{if(c.ifMode&&!c.ifMode.includes(this.parseMode))return[];const p=this.parseMode;c.applyMode&&(this.parseMode=c.applyMode);const[f,g]=this.parseArguments(c);if(this.parseMode=p,!g)return null;if(c.applyMode&&!c.applyStyle&&!c.createAtom)return g[0];if(c.infix)return this.onError({code:"too-many-infix-commands",arg:e}),null;if(typeof c.createAtom=="function")u=c.createAtom(e,g,this.style,this.context),f&&(u.body=(o=this.parseArgument(f))!==null&&o!==void 0?o:void 0);else if(typeof c.applyStyle=="function"){const v=c.applyStyle(e,g,this.context),k=this.parseMode;if(c.applyMode&&(this.parseMode=c.applyMode),f){const b=this.style;this.style={...this.style,...v};const y=this.parseArgument(f);return this.style=b,this.parseMode=k,y}this.style={...this.style,...v},this.parseMode=k}else u=new C("mop",this.context,{command:(a=c.command)!==null&&a!==void 0?a:e,style:{...this.style},value:e,mode:(s=c.applyMode)!==null&&s!==void 0?s:this.parseMode})}if(u instanceof C&&u.verbatimLatex===void 0&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(e)&&(u.verbatimLatex=((l=u.command)!==null&&l!==void 0?l:"")+ro(this.tokens.slice(d,this.index)),u.verbatimLatex.length===0&&(u.verbatimLatex=void 0),u.isFunction&&this.smartFence)){const p=this.scanSmartFence();if(p)return[u,p]}return u?[u]:null}parseLiteral(e){const r=Nt.createAtom(this.parseMode,e,this.context,{...this.style});if(!r)return null;if(r.isFunction&&this.smartFence){const n=this.scanSmartFence();if(n)return[r,n]}return[r]}parseSimpleToken(){const e=this.get();return e?e==="<space>"?this.parseMode==="text"?[new Gn(" "," ",this.style,this.context)]:null:e.startsWith("\\")?this.parseCommand(e):Aa(e)?this.parseLiteral(e):(e==="<}>"?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:e}),null):null}scanMacro(e){var r;const n=this.context.getMacro(e);if(!n)return null;const i=this.index,o=n.args,a={"?":(r=this.args)===null||r===void 0?void 0:r.call(this,"?")};for(let s=1;s<=o;s++)a[s]=this.matchLiteralArg();return new pl(e,this.context,{expand:n.expand,captureSelection:n.captureSelection,args:ro(this.tokens.slice(i,this.index)),body:sr(n.def,this.context,{parseMode:this.parseMode,args:s=>a[s],mathstyle:this.currentContext.mathstyle})})}parseToken(){var e,r,n,i;let o=(i=(n=(r=(e=this.parseEnvironment())!==null&&e!==void 0?e:this.parseModeShift())!==null&&r!==void 0?r:this.parseModeSet())!==null&&n!==void 0?n:this.parseGroup())!==null&&i!==void 0?i:this.parseLeftRight();if(o===null){if(this.parseSupSub()||this.parseLimits())return!0;o=this.parseSimpleToken()}return je(o)?this.mathlist.push(...o):o&&this.mathlist.push(o),o!==null}}function sr(t,e,r){var n,i,o;const a=(n=r==null?void 0:r.args)!==null&&n!==void 0?n:null,s=new hl(Oi(t,a),e,{args:a,mathstyle:(i=r==null?void 0:r.mathstyle)!==null&&i!==void 0?i:"displaystyle",parseMode:(o=r==null?void 0:r.parseMode)!==null&&o!==void 0?o:"math"}),l=[];for(;!s.end();)l.push(...s.parse());return l}function Wy(t,e,r){var n;const i=new hl(Oi(t,null),e,{args:null,mathstyle:"displaystyle",parseMode:(n=r==null?void 0:r.parseMode)!==null&&n!==void 0?n:"math"});for(;!i.end();)i.parse();return i.errors}function Jy(t,e,r){return typeof t=="object"&&"glue"in t?t:typeof t=="object"&&"dimension"in t?{glue:t}:typeof t=="number"?{glue:{dimension:t}}:new hl(Oi(t),e,{registers:r}).scanGlue()}function ml(t,e,r){return typeof t=="number"?{dimension:t,unit:"pt"}:(typeof t=="object"&&"glue"in t&&(t=t.glue),typeof t=="object"&&"dimension"in t?t:new hl(Oi(t),e,{registers:r}).scanDimen())}class nn extends C{constructor(e,r,n,i){super("box",n,{command:e,serialize:i.serialize,style:i.style}),this.body=r,this.framecolor=i.framecolor,this.verbatimFramecolor=i.verbatimBackgroundcolor,this.backgroundcolor=i.backgroundcolor,this.verbatimBackgroundcolor=i.verbatimBackgroundcolor,this.padding=i.padding,this.border=i.border}static fromJson(e,r){return new nn(e.command,e.body,r,e)}toJson(){return{...super.toJson(),framecolor:this.framecolor,verbatimFramecolor:this.verbatimFramecolor,backgroundcolor:this.backgroundcolor,verbatimBackgroundcolor:this.verbatimBackgroundcolor,padding:this.padding,border:this.border}}render(e){const r=new W(e,this.style),n=vr(r.getRegisterAsDimension("fboxsep")),i=this.padding===void 0?n:vr(ml(this.padding,{...this.context,registers:e.registers})),o=C.createBox(e,this.body);if(!o)return null;o.setStyle("vertical-align",-o.height,"em");const a=new B(o,{type:"mord"}),s=new B(null,{classes:"ML__box"});s.height=a.height+i,s.depth=a.depth+i,s.setStyle("box-sizing","border-box"),s.setStyle("position","absolute"),s.setStyle("height",a.height+a.depth+2*i,"em"),i===0?s.setStyle("width","100%"):(s.setStyle("width",`calc(100% + ${2*i}em)`),s.setStyle("top",n,"em"),s.setStyle("left",-i,"em")),s.setStyle("z-index","-1"),this.backgroundcolor&&s.setStyle("background-color",this.backgroundcolor),this.framecolor&&s.setStyle("border",`${vr(r.getRegisterAsDimension("fboxrule"))}em solid ${this.framecolor}`),this.border&&s.setStyle("border",this.border),a.setStyle("display","inline-block"),a.setStyle("height",o.height+o.depth,"em"),a.setStyle("vertical-align",-i,"em");const l=new B([s,a]);return l.setStyle("position","relative"),l.setStyle("display","inline-block"),l.setStyle("line-height",0),l.height=a.height+i,l.depth=a.depth+i,l.left=i,l.right=i,l.setStyle("height",a.height+i,"em"),l.setStyle("top",a.depth-a.height,"em"),l.setStyle("vertical-align",a.depth+i,"em"),this.caret&&(l.caret=this.caret),this.attachSupsub(e,{base:l})}}class pe extends C{constructor(e,r,n,i,o={}){var a,s;super("array",e),this.environmentName=r,this.rowGaps=i,o.mathstyleName&&(this.mathstyleName=o.mathstyleName),o.columns&&(o.columns.length===0?this.colFormat=[{align:"l"}]:this.colFormat=o.columns),this.colFormat||(this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]),this.array=function(l,u,c,d){let p=0;for(const y of d)"align"in y&&(p+=1);let f=0;const g=[];for(const y of c){let m=0;for(f=Math.max(f,Math.min(y.length,p));m<y.length;){const h=[],w=Math.min(y.length,m+p);for(;m<w;)y[m].length===0?h.push([new C("first",l,{mode:u.mode})]):y[m][0].type!=="first"?h.push([new C("first",l,{mode:u.mode}),...y[m]]):h.push(y[m]),m+=1;g.push(h)}}g[g.length-1].length===1&&g[g.length-1][0].length===0&&g.pop();const v=[];for(const y of g){if(y.length!==f)for(let m=y.length;m<f;m++)y.push([new C("first",l,{mode:u.mode}),new ve(l)]);v.push(y)}let k=0,b=0;for(const y of v){b=0;for(const m of y){for(const h of m)h.parent=u,h.treeBranch=[k,b];b+=1}k+=1}return u.isDirty=!0,v}(e,this,n,this.colFormat),o.leftDelim&&(this.leftDelim=o.leftDelim),o.rightDelim&&(this.rightDelim=o.rightDelim),o.jot!==void 0&&(this.jot=o.jot),o.arraycolsep&&(this.arraycolsep=o.arraycolsep),this.colSeparationType=o.colSeparationType,this.arraystretch=(a=o.arraystretch)!==null&&a!==void 0?a:1,this.minColumns=(s=o.minColumns)!==null&&s!==void 0?s:1}static fromJson(e,r){return new pe(r,e.environmentName,e.array,e.rowGaps,e)}toJson(){const e={...super.toJson(),environmentName:this.environmentName,array:this.array.map(r=>r.map(n=>n.map(i=>i.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType};return this.arraystretch!==1&&(e.arraystretch=this.arraystretch),this.arraycolsep&&(e.arraycolsep=this.arraycolsep),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.jot!==void 0&&(e.jot=this.jot),e}branch(e){var r;if(Bs(e))return(r=this.array[e[0]][e[1]])!==null&&r!==void 0?r:void 0}get branches(){const e=super.branches;return this.array.forEach((r,n)=>{this.array[n].forEach((i,o)=>{this.array[n][o]&&e.push([n,o])})}),e}createBranch(e){var r;return Bs(e)?(this.isDirty=!0,(r=this.branch(e))!==null&&r!==void 0?r:[]):[]}get rowCount(){return this.array.length}get colCount(){return this.array[0].length}get maxColumns(){return this.colFormat.filter(e=>Boolean(e.align)).length}removeBranch(e){if(mo(e))return super.removeBranch(e);const r=this.branch(e);return this.array[e[0]][e[1]]=void 0,r.forEach(n=>{n.parent=void 0,n.treeBranch=void 0}),r.shift(),this.isDirty=!0,r}get hasChildren(){return this.children.length>0}get children(){const e=[];for(const r of this.array)for(const n of r)if(n)for(const i of n)e.push(...i.children),e.push(i);return[...e,...super.children]}render(e){var r,n,i,o,a;const s=new W(e,this.style,this.mathstyleName),l=s.getRegisterAsEm("arrayrulewidth"),u=s.getRegisterAsEm("arraycolsep"),c=s.getRegisterAsEm("doublerulesep"),d=(r=this.arraystretch)!==null&&r!==void 0?r:1;let p=typeof this.arraycolsep=="number"?this.arraycolsep:u;this.colSeparationType==="small"&&(p=new W(e,void 0,"scriptstyle").scalingFactor/e.scalingFactor*.2778);const f=1.2*d,g=.7*f,v=.3*f;let k=0;const b=[];let y=0;const m=this.array.length;for(let Z=0;Z<m;++Z){const J=this.array[Z];y=Math.max(y,J.length);const E=new W(s,this.style,this.mathstyleName);let O=g/E.scalingFactor,L=v/E.scalingFactor;const ee={cells:[],height:0,depth:0,pos:0};for(const ce of J){const _e=(n=C.createBox(E,ce,{newList:!0}))!==null&&n!==void 0?n:new B(null,{newList:!0});L=Math.max(L,_e.depth),O=Math.max(O,_e.height),ee.cells.push(_e)}let Q=(i=vr(this.rowGaps[Z]))!==null&&i!==void 0?i:0;Q>0&&(Q+=v,L=Math.max(L,Q),Q=0),this.jot!==void 0&&(L+=this.jot),ee.height=O,ee.depth=L,k+=O,ee.pos=k,k+=L+Q,b.push(ee)}const h=k/2+.25,w=[];for(let Z=0;Z<y;Z++){const J=[];for(const E of b){const O=E.cells[Z];O.depth=E.depth,O.height=E.height,J.push({box:O,shift:E.pos-h})}J.length>0&&w.push(new $e({individualShift:J}))}const x=[];let S=!1,M=!1,D=0,A=!this.leftDelim;const{colFormat:F}=this;for(const Z of F){if("align"in Z&&D>=w.length)break;if("align"in Z)S?x.push(Da(2*p)):(M||A)&&x.push(Da(p)),x.push(new B(w[D],{classes:"col-align-"+Z.align})),D++,S=!0,M=!1,A=!1;else if("gap"in Z){if(typeof Z.gap=="number")x.push(Da(Z.gap));else{const J=Xy(e,b,h,Z.gap);J&&x.push(J)}S=!1,M=!1,A=!1}else if("separator"in Z){const J=new B(null,{classes:"vertical-separator"});J.setStyle("height",k,"em"),J.setStyle("border-right",`${l}em ${Z.separator} currentColor`),J.setStyle("vertical-align",-(k-h),"em");let E=0;M?E=c-l:S&&(E=p-l),J.left=E,x.push(J),S=!1,M=!0,A=!1}}S&&!this.rightDelim&&x.push(Da(p));const H=new B(x,{classes:"mtable"});if(!(this.leftDelim&&this.leftDelim!=="."||this.rightDelim&&this.rightDelim!=="."))return this.caret&&(H.caret=this.caret),H;const Ve=H.height,ct=H.depth,Ne=this.bind(e,new B([this.bind(e,Lo("mopen",(o=this.leftDelim)!==null&&o!==void 0?o:".",Ve,ct,s)),H,this.bind(e,Lo("mclose",(a=this.rightDelim)!==null&&a!==void 0?a:".",Ve,ct,s))],{type:"mord"}));return Ne?(this.caret&&(Ne.caret=this.caret),this.attachSupsub(e,{base:Ne})):null}serialize(e){let r="\\begin{"+this.environmentName+"}";if(this.environmentName==="array"){if(r+="{",this.colFormat!==void 0)for(const n of this.colFormat)"align"in n?r+=n.align:"separator"in n&&n.separator==="solid"?r+="|":"separator"in n&&n.separator==="dashed"&&(r+=":");r+="}"}for(let n=0;n<this.array.length;n++){for(let i=0;i<this.array[n].length;i++)i>0&&(r+=" & "),r=xe([r,C.serialize(this.array[n][i],e)]);n<this.array.length-1&&(r+=" \\\\ ")}return r+="\\end{"+this.environmentName+"}",r}getCell(e,r){return this.array[e][r]}setCell(e,r,n){for(const o of this.array[e][r])o.parent=void 0,o.treeBranch=void 0;let i=n;n.length!==0&&n[0].type==="first"||(i=[new C("first",this.context,{mode:this.mode}),...n]),this.array[e][r]=i;for(const o of i)o.parent=this,o.treeBranch=[e,r];this.isDirty=!0}addRowBefore(e){const r=[];for(let n=0;n<this.colCount;n++)r.push(Ta(this));this.array.splice(e,0,r);for(let n=e;n<this.rowCount;n++)for(let i=0;i<this.colCount;i++){const o=this.array[n][i];if(o)for(const a of o)a.treeBranch=[n,i]}this.isDirty=!0}addRowAfter(e){const r=[];for(let n=0;n<this.colCount;n++)r.push(Ta(this));this.array.splice(e+1,0,r);for(let n=e+1;n<this.rowCount;n++)for(let i=0;i<this.colCount;i++){const o=this.array[n][i];if(o)for(const a of o)a.treeBranch=[n,i]}this.isDirty=!0}removeRow(e){const r=this.array.splice(e,1);for(const n of r)for(const i of n)if(i)for(const o of i)o.parent=void 0,o.treeBranch=void 0;for(let n=e;n<this.rowCount;n++)for(let i=0;i<this.colCount;i++){const o=this.array[n][i];if(o)for(const a of o)a.treeBranch=[n,i]}this.isDirty=!0}addColumnBefore(e){for(const r of this.array)r.splice(e,0,Ta(this));for(let r=0;r<this.rowCount;r++)for(let n=e;n<this.colCount;n++){const i=this.array[r][n];if(i)for(const o of i)o.treeBranch=[r,n]}this.isDirty=!0}addColumnAfter(e){for(const r of this.array)r.splice(e+1,0,Ta(this));for(let r=0;r<this.rowCount;r++)for(let n=e+1;n<this.colCount;n++){const i=this.array[r][n];if(i)for(const o of i)o.treeBranch=[r,n]}this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(e){for(const r of this.array){const n=r.splice(e,1);for(const i of n)if(i)for(const o of i)o.parent=void 0,o.treeBranch=void 0}for(let r=0;r<this.rowCount;r++)for(let n=e;n<this.colCount;n++){const i=this.array[r][n];if(i)for(const o of i)o.treeBranch=[r,n]}this.isDirty=!0}get cells(){const e=[];for(const r of this.array)for(const n of r)n&&e.push(n);return e}}function Ta(t){const e=new C("first",t.context,{mode:t.mode});e.parent=t;const r=new ve(t.context,{mode:t.mode});return r.parent=t,[e,r]}function Da(t){const e=new B(null,{classes:"arraycolsep"});return e.width=t,e}function Xy(t,e,r,n){if(!n)return null;const i=[];for(const o of e){const a=C.createBox(t,n,{newList:!0});a&&(a.depth=o.depth,a.height=o.height,i.push({box:a,shift:o.pos-r}))}return new $e({individualShift:i}).wrap(t)}class fl extends C{constructor(e,r,n){var i;super("composition",r,{mode:(i=n==null?void 0:n.mode)!==null&&i!==void 0?i:"math",value:e})}static fromJson(e,r){return new fl(e.value,r,e)}toJson(){return super.toJson()}get computedStyle(){return{}}render(e){const r=new B(this.value,{classes:"ML__composition",type:"composition"});return this.bind(e,r),this.caret&&(r.caret=this.caret),r}serialize(e){return""}}class yl extends C{constructor(e,r,n){super("chem",n,{command:e,mode:"math"});const i=se.go(T.go(r,e==="\\pu"?"pu":"ce"),!1);this.body=sr(i,n),this.verbatimLatex=e+"{"+r+"}",this.arg=r,this.captureSelection=!0}static fromJson(e,r){return new yl(e.command,e.arg,r)}toJson(){return{...super.toJson(),arg:this.arg}}render(e){const r=C.createBox(e,this.body,{type:"chem",newList:!0});return this.caret&&(r.caret=this.caret),this.bind(e,r)}serialize(e){return this.verbatimLatex}}z(["ce","pu"],"{chemformula:balanced-string}",{createAtom:(t,e,r,n)=>new yl(t,e[0],n)});var T={go:function(t,e){if(!t)return[];e===void 0&&(e="ce");var r,n="0",i={parenthesisLevel:0};t=(t=(t=t.replace(/\n/g," ")).replace(/[\u2212\u2013\u2014\u2010]/g,"-")).replace(/[\u2026]/g,"...");for(var o=10,a=[];;){r!==t?(o=10,r=t):o--;var s=T.stateMachines[e],l=s.transitions[n]||s.transitions["*"];e:for(var u=0;u<l.length;u++){var c=T.patterns.match_(l[u].pattern,t);if(c){for(var d=l[u].task,p=0;p<d.action_.length;p++){var f;if(s.actions[d.action_[p].type_])f=s.actions[d.action_[p].type_](i,c.match_,d.action_[p].option);else{if(!T.actions[d.action_[p].type_])throw["MhchemBugA","mhchem bug A. Please report. ("+d.action_[p].type_+")"];f=T.actions[d.action_[p].type_](i,c.match_,d.action_[p].option)}T.concatArray(a,f)}if(n=d.nextState||n,!(t.length>0))return a;if(d.revisit||(t=c.remainder),!d.toContinue)break e}}if(o<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(t,e){if(e)if(Array.isArray(e))for(var r=0;r<e.length;r++)t.push(e[r]);else t.push(e)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:([eE]|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return e&&e[0]?{match_:e.splice(1),remainder:t.substr(e[0].length)}:null},"(-)(9)^(-9)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return e&&e[0]?{match_:e.splice(1),remainder:t.substr(e[0].length)}:null},"state of aggregation $":function(t){var e=T.patterns.findObserveGroups(t,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(e&&e.remainder.match(/^($|[\s,;\)\]\}])/))return e;var r=t.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return r?{match_:r[0],remainder:t.substr(r[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(t){return T.patterns.findObserveGroups(t,"^{","","","}")},"^($...$)":function(t){return T.patterns.findObserveGroups(t,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(t){return T.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(t){return T.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(t){return T.patterns.findObserveGroups(t,"_{","","","}")},"_($...$)":function(t){return T.patterns.findObserveGroups(t,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(t){return T.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(t){return T.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(t){return T.patterns.findObserveGroups(t,"","{","}","")},"{(...)}":function(t){return T.patterns.findObserveGroups(t,"{","","","}")},"$...$":function(t){return T.patterns.findObserveGroups(t,"","$","$","")},"${(...)}$":function(t){return T.patterns.findObserveGroups(t,"${","","","}$")},"$(...)$":function(t){return T.patterns.findObserveGroups(t,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(t){return T.patterns.findObserveGroups(t,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(t){return T.patterns.findObserveGroups(t,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(t){return T.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(t){return T.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(t){return T.patterns.findObserveGroups(t,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(t){return T.patterns.findObserveGroups(t,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(t){return T.patterns.findObserveGroups(t,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(t){return T.patterns.findObserveGroups(t,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(t){return T.patterns.findObserveGroups(t,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(t){return T.patterns.findObserveGroups(t,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(t){return T.patterns.findObserveGroups(t,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(t){return T.patterns.findObserveGroups(t,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(t){var e;if(e=t.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/))return{match_:e[0],remainder:t.substr(e[0].length)};var r=T.patterns.findObserveGroups(t,"","$","$","");return r&&(e=r.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/))?{match_:e[0],remainder:t.substr(e[0].length)}:null},amount2:function(t){return this.amount(t)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(t){if(t.match(/^\([a-z]+\)$/))return null;var e=t.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return e?{match_:e[0],remainder:t.substr(e[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(t,e,r,n,i,o,a,s,l,u){var c=function(k,b){if(typeof b=="string")return k.indexOf(b)!==0?null:b;var y=k.match(b);return y?y[0]:null},d=c(t,e);if(d===null||(t=t.substr(d.length),(d=c(t,r))===null))return null;var p=function(k,b,y){for(var m=0;b<k.length;){var h=k.charAt(b),w=c(k.substr(b),y);if(w!==null&&m===0)return{endMatchBegin:b,endMatchEnd:b+w.length};if(h==="{")m++;else if(h==="}"){if(m===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];m--}b++}return null}(t,d.length,n||i);if(p===null)return null;var f=t.substring(0,n?p.endMatchEnd:p.endMatchBegin);if(o||a){var g=this.findObserveGroups(t.substr(p.endMatchEnd),o,a,s,l);if(g===null)return null;var v=[f,g.match_];return{match_:u?v.join(""):v,remainder:g.remainder}}return{match_:f,remainder:t.substr(p.endMatchEnd)}},match_:function(t,e){var r=T.patterns.patterns[t];if(r===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+t+")"];if(typeof r=="function")return T.patterns.patterns[t](e);var n=e.match(r);return n?{match_:n[2]?[n[1],n[2]]:n[1]?n[1]:n[0],remainder:e.substr(n[0].length)}:null}},actions:{"a=":function(t,e){t.a=(t.a||"")+e},"b=":function(t,e){t.b=(t.b||"")+e},"p=":function(t,e){t.p=(t.p||"")+e},"o=":function(t,e){t.o=(t.o||"")+e},"q=":function(t,e){t.q=(t.q||"")+e},"d=":function(t,e){t.d=(t.d||"")+e},"rm=":function(t,e){t.rm=(t.rm||"")+e},"text=":function(t,e){t.text_=(t.text_||"")+e},insert:function(t,e,r){return{type_:r}},"insert+p1":function(t,e,r){return{type_:r,p1:e}},"insert+p1+p2":function(t,e,r){return{type_:r,p1:e[0],p2:e[1]}},copy:function(t,e){return e},rm:function(t,e){return{type_:"rm",p1:e||""}},text:function(t,e){return T.go(e,"text")},"{text}":function(t,e){var r=["{"];return T.concatArray(r,T.go(e,"text")),r.push("}"),r},"tex-math":function(t,e){return T.go(e,"tex-math")},"tex-math tight":function(t,e){return T.go(e,"tex-math tight")},bond:function(t,e,r){return{type_:"bond",kind_:r||e}},"color0-output":function(t,e){return{type_:"color0",color:e[0]}},ce:function(t,e){return T.go(e)},"1/2":function(t,e){var r=[];e.match(/^[+\-]/)&&(r.push(e.substr(0,1)),e=e.substr(1));var n=e.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return n[1]=n[1].replace(/\$/g,""),r.push({type_:"frac",p1:n[1],p2:n[2]}),n[3]&&(n[3]=n[3].replace(/\$/g,""),r.push({type_:"tex-math",p1:n[3]})),r},"9,9":function(t,e){return T.go(e,"9,9")}},createTransitions:function(t){var e,r,n,i,o={};for(e in t)for(r in t[e])for(n=r.split("|"),t[e][r].stateArray=n,i=0;i<n.length;i++)o[n[i]]=[];for(e in t)for(r in t[e])for(n=t[e][r].stateArray||[],i=0;i<n.length;i++){var a=t[e][r];if(a.action_){a.action_=[].concat(a.action_);for(var s=0;s<a.action_.length;s++)typeof a.action_[s]=="string"&&(a.action_[s]={type_:a.action_[s]})}else a.action_=[];for(var l=e.split("|"),u=0;u<l.length;u++)if(n[i]==="*")for(var c in o)o[c].push({pattern:l[u],task:a});else o[n[i]].push({pattern:l[u],task:a})}return o},stateMachines:{}};T.stateMachines={ce:{transitions:T.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(t,e){var r;if((t.d||"").match(/^[0-9]+$/)){var n=t.d;t.d=void 0,r=this.output(t),t.b=n}else r=this.output(t);return T.actions["o="](t,e),r},"d= kv":function(t,e){t.d=e,t.dType="kv"},"charge or bond":function(t,e){if(t.beginsWithBond){var r=[];return T.concatArray(r,this.output(t)),T.concatArray(r,T.actions.bond(t,e,"-")),r}t.d=e},"- after o/d":function(t,e,r){var n=T.patterns.match_("orbital",t.o||""),i=T.patterns.match_("one lowercase greek letter $",t.o||""),o=T.patterns.match_("one lowercase latin letter $",t.o||""),a=T.patterns.match_("$one lowercase latin letter$ $",t.o||""),s=e==="-"&&(n&&n.remainder===""||i||o||a);!s||t.a||t.b||t.p||t.d||t.q||n||!o||(t.o="$"+t.o+"$");var l=[];return s?(T.concatArray(l,this.output(t)),l.push({type_:"hyphen"})):(n=T.patterns.match_("digits",t.d||""),r&&n&&n.remainder===""?(T.concatArray(l,T.actions["d="](t,e)),T.concatArray(l,this.output(t))):(T.concatArray(l,this.output(t)),T.concatArray(l,T.actions.bond(t,e,"-")))),l},"a to o":function(t){t.o=t.a,t.a=void 0},"sb=true":function(t){t.sb=!0},"sb=false":function(t){t.sb=!1},"beginsWithBond=true":function(t){t.beginsWithBond=!0},"beginsWithBond=false":function(t){t.beginsWithBond=!1},"parenthesisLevel++":function(t){t.parenthesisLevel++},"parenthesisLevel--":function(t){t.parenthesisLevel--},"state of aggregation":function(t,e){return{type_:"state of aggregation",p1:T.go(e,"o")}},comma:function(t,e){var r=e.replace(/\s*$/,"");return r!==e&&t.parenthesisLevel===0?{type_:"comma enumeration L",p1:r}:{type_:"comma enumeration M",p1:r}},output:function(t,e,r){var n,i,o;for(var a in t.r?(i=t.rdt==="M"?T.go(t.rd,"tex-math"):t.rdt==="T"?[{type_:"text",p1:t.rd||""}]:T.go(t.rd),o=t.rqt==="M"?T.go(t.rq,"tex-math"):t.rqt==="T"?[{type_:"text",p1:t.rq||""}]:T.go(t.rq),n={type_:"arrow",r:t.r,rd:i,rq:o}):(n=[],(t.a||t.b||t.p||t.o||t.q||t.d||r)&&(t.sb&&n.push({type_:"entitySkip"}),t.o||t.q||t.d||t.b||t.p||r===2?t.o||t.q||t.d||!t.b&&!t.p?t.o&&t.dType==="kv"&&T.patterns.match_("d-oxidation$",t.d||"")?t.dType="oxidation":t.o&&t.dType==="kv"&&!t.q&&(t.dType=void 0):(t.o=t.a,t.d=t.b,t.q=t.p,t.a=t.b=t.p=void 0):(t.o=t.a,t.a=void 0),n.push({type_:"chemfive",a:T.go(t.a,"a"),b:T.go(t.b,"bd"),p:T.go(t.p,"pq"),o:T.go(t.o,"o"),q:T.go(t.q,"pq"),d:T.go(t.d,t.dType==="oxidation"?"oxidation":"bd"),dType:t.dType}))),t)a!=="parenthesisLevel"&&a!=="beginsWithBond"&&delete t[a];return n},"oxidation-output":function(t,e){var r=["{"];return T.concatArray(r,T.go(e,"oxidation")),r.push("}"),r},"frac-output":function(t,e){return{type_:"frac-ce",p1:T.go(e[0]),p2:T.go(e[1])}},"overset-output":function(t,e){return{type_:"overset",p1:T.go(e[0]),p2:T.go(e[1])}},"underset-output":function(t,e){return{type_:"underset",p1:T.go(e[0]),p2:T.go(e[1])}},"underbrace-output":function(t,e){return{type_:"underbrace",p1:T.go(e[0]),p2:T.go(e[1])}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:T.go(e[1])}},"r=":function(t,e){t.r=e},"rdt=":function(t,e){t.rdt=e},"rd=":function(t,e){t.rd=e},"rqt=":function(t,e){t.rqt=e},"rq=":function(t,e){t.rq=e},operator:function(t,e,r){return{type_:"operator",kind_:r||e}}}},a:{transitions:T.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:T.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:T.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(t){if(t.text_){var e={type_:"text",p1:t.text_};for(var r in t)delete t[r];return e}}}},pq:{transitions:T.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(t,e){return{type_:"state of aggregation subscript",p1:T.go(e,"o")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:T.go(e[1],"pq")}}}},bd:{transitions:T.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(t,e){return{type_:"color",color1:e[0],color2:T.go(e[1],"bd")}}}},oxidation:{transitions:T.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(t,e){return{type_:"roman numeral",p1:e||""}}}},"tex-math":{transitions:T.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"tex-math tight":{transitions:T.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(t,e){t.o=(t.o||"")+"{"+e+"}"},output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"9,9":{transitions:T.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:T.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(t,e){var r=[];return e[0]==="+-"||e[0]==="+/-"?r.push("\\pm "):e[0]&&r.push(e[0]),e[1]&&(T.concatArray(r,T.go(e[1],"pu-9,9")),e[2]&&(e[2].match(/[,.]/)?T.concatArray(r,T.go(e[2],"pu-9,9")):r.push(e[2])),e[3]=e[4]||e[3],e[3]&&(e[3]=e[3].trim(),e[3]==="e"||e[3].substr(0,1)==="*"?r.push({type_:"cdot"}):r.push({type_:"times"}))),e[3]&&r.push("10^{"+e[5]+"}"),r},"number^":function(t,e){var r=[];return e[0]==="+-"||e[0]==="+/-"?r.push("\\pm "):e[0]&&r.push(e[0]),T.concatArray(r,T.go(e[1],"pu-9,9")),r.push("^{"+e[2]+"}"),r},operator:function(t,e,r){return{type_:"operator",kind_:r||e}},space:function(){return{type_:"pu-space-1"}},output:function(t){var e,r=T.patterns.match_("{(...)}",t.d||"");r&&r.remainder===""&&(t.d=r.match_);var n=T.patterns.match_("{(...)}",t.q||"");if(n&&n.remainder===""&&(t.q=n.match_),t.d&&(t.d=t.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.d=t.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),t.q){t.q=t.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.q=t.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var i={d:T.go(t.d,"pu"),q:T.go(t.q,"pu")};t.o==="//"?e={type_:"pu-frac",p1:i.d,p2:i.q}:(e=i.d,i.d.length>1||i.q.length>1?e.push({type_:" / "}):e.push({type_:"/"}),T.concatArray(e,i.q))}else e=T.go(t.d,"pu-2");for(var o in t)delete t[o];return e}}},"pu-2":{transitions:T.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(t,e){t.rm+="^{"+e+"}"},space:function(){return{type_:"pu-space-2"}},output:function(t){var e=[];if(t.rm){var r=T.patterns.match_("{(...)}",t.rm||"");e=r&&r.remainder===""?T.go(r.match_,"pu"):{type_:"rm",p1:t.rm}}for(var n in t)delete t[n];return e}}},"pu-9,9":{transitions:T.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){var r=t.text_.length%3;r===0&&(r=3);for(var n=t.text_.length-3;n>0;n-=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(0,r)),e.reverse()}else e.push(t.text_);for(var i in t)delete t[i];return e},"output-o":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){for(var r=t.text_.length-3,n=0;n<r;n+=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(n))}else e.push(t.text_);for(var i in t)delete t[i];return e}}}};var se={go:function(t,e){if(!t)return"";for(var r="",n=!1,i=0;i<t.length;i++){var o=t[i];typeof o=="string"?r+=o:(r+=se._go2(o),o.type_==="1st-level escape"&&(n=!0))}return e||n||!r||(r="{"+r+"}"),r},_goInner:function(t){return t&&se.go(t,!0)},_go2:function(t){var e;switch(t.type_){case"chemfive":e="";var r={a:se._goInner(t.a),b:se._goInner(t.b),p:se._goInner(t.p),o:se._goInner(t.o),q:se._goInner(t.q),d:se._goInner(t.d)};r.a&&(r.a.match(/^[+\-]/)&&(r.a="{"+r.a+"}"),e+=r.a+"\\,"),(r.b||r.p)&&(e+="{\\vphantom{X}}",e+="^{\\hphantom{"+(r.b||"")+"}}_{\\hphantom{"+(r.p||"")+"}}",e+="{\\vphantom{X}}",e+="^{\\smash[t]{\\vphantom{2}}\\mathllap{"+(r.b||"")+"}}",e+="_{\\vphantom{2}\\mathllap{\\smash[t]{"+(r.p||"")+"}}}"),r.o&&(r.o.match(/^[+\-]/)&&(r.o="{"+r.o+"}"),e+=r.o),t.dType==="kv"?((r.d||r.q)&&(e+="{\\vphantom{X}}"),r.d&&(e+="^{"+r.d+"}"),r.q&&(e+="_{\\smash[t]{"+r.q+"}}")):t.dType==="oxidation"?(r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"),r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}")):(r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}"),r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"));break;case"rm":case"roman numeral":e="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),e="\\mathrm{"+t.p1+"}"):e="\\text{"+t.p1+"}";break;case"state of aggregation":e="\\mskip2mu "+se._goInner(t.p1);break;case"state of aggregation subscript":e="\\mskip1mu "+se._goInner(t.p1);break;case"bond":if(!(e=se._getBond(t.kind_)))throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":var n="\\frac{"+t.p1+"}{"+t.p2+"}";e="\\mathchoice{\\textstyle"+n+"}{"+n+"}{"+n+"}{"+n+"}";break;case"pu-frac":var i="\\frac{"+se._goInner(t.p1)+"}{"+se._goInner(t.p2)+"}";e="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"tex-math":case"1st-level escape":e=t.p1+" ";break;case"frac-ce":e="\\frac{"+se._goInner(t.p1)+"}{"+se._goInner(t.p2)+"}";break;case"overset":e="\\overset{"+se._goInner(t.p1)+"}{"+se._goInner(t.p2)+"}";break;case"underset":e="\\underset{"+se._goInner(t.p1)+"}{"+se._goInner(t.p2)+"}";break;case"underbrace":e="\\underbrace{"+se._goInner(t.p1)+"}_{"+se._goInner(t.p2)+"}";break;case"color":e="{\\color{"+t.color1+"}{"+se._goInner(t.color2)+"}}";break;case"color0":e="\\color{"+t.color+"}";break;case"arrow":var o={rd:se._goInner(t.rd),rq:se._goInner(t.rq)},a="\\x"+se._getArrow(t.r);o.rq&&(a+="[{"+o.rq+"}]"),e=a+=o.rd?"{"+o.rd+"}":"{}";break;case"operator":e=se._getOperator(t.kind_);break;case"space":e=" ";break;case"entitySkip":case"pu-space-1":e="~";break;case"pu-space-2":e="\\mkern3mu ";break;case"1000 separator":e="\\mkern2mu ";break;case"commaDecimal":e="{,}";break;case"comma enumeration L":e="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":e="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":e="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":e="\\text{-}";break;case"addition compound":e="\\,{\\cdot}\\,";break;case"electron dot":e="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":e="{\\times}";break;case"prime":e="\\prime ";break;case"cdot":e="\\cdot ";break;case"tight cdot":e="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":e="\\times ";break;case"circa":e="{\\sim}";break;case"^":e="uparrow";break;case"v":e="downarrow";break;case"ellipsis":e="\\ldots ";break;case"/":e="/";break;case" / ":e="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return e},_getArrow:function(t){switch(t){case"->":case"":case"":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"rightleftarrows";case"<=>":case"":return"rightleftharpoons";case"<=>>":return"rightequilibrium";case"<<=>":return"leftequilibrium";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(t){switch(t){case"-":case"1":return"{-}";case"=":case"2":return"{=}";case"#":case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\mathrlap{\\raisebox{-.1em}{$-$}}\\raisebox{.1em}{$\\tripledash$}}";case"~=":case"~--":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$\\tripledash$}}-}";case"-~-":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$-$}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(t){switch(t){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":case"$\\approx$":return" {}\\approx{} ";case"v":case"(v)":return" \\downarrow{} ";case"^":case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}};class gl extends C{constructor(e,r,n,i){super("delim",n,{command:e,style:i==null?void 0:i.style}),this.value=r,this.size=i==null?void 0:i.size}static fromJson(e,r){return new gl(e.command,e.delim,r,e)}toJson(){return{...super.toJson(),delim:this.value,size:this.size}}render(e){const r=new B(null);return r.delim=this.value,r}serialize(e){return this.value.length===1?this.command+this.value:`${this.command}{${this.value}}`}}class bl extends C{constructor(e,r,n,i){super("sizeddelim",n,{command:e,style:i.style}),this.value=r,this.delimClass=i.delimClass,this.size=i.size}static fromJson(e,r){return new bl(e.command,e.delim,r,e)}toJson(){return{...super.toJson(),delim:this.value,size:this.size,delimClass:this.delimClass}}render(e){let r=function(n,i,o,a){var s;return n===void 0||n==="."?Wn(o,(s=a.type)!==null&&s!==void 0?s:"minner",a.classes):(n==="<"||n==="\\lt"||n===""?n="\\langle":n!==">"&&n!=="\\gt"&&n!==""||(n="\\rangle"),o1.has(n)||a1.has(n)?n1(n,i,!1,o,a):Iy.has(n)?i1(n,jy[i],!1,o,a):null)}(this.value,this.size,e,{classes:this.delimClass});return r?(r=this.bind(e,r),this.caret&&(r.caret=this.caret),r):null}serialize(e){return this.value.length===1?this.command+this.value:`${this.command}{${this.value}}`}}class Nn extends C{constructor(e,r,n,i,o){super("enclose",i,{command:e,style:o.style}),this.body=r,this.backgroundcolor=o.backgroundcolor,n.updiagonalarrow&&(n.updiagonalstrike=!1),n.box&&(n.left=!1,n.right=!1,n.bottom=!1,n.top=!1),this.notation=n,this.shadow=o.shadow,this.strokeWidth=o.strokeWidth,this.strokeStyle=o.strokeStyle,this.svgStrokeStyle=o.svgStrokeStyle,this.strokeColor=o.strokeColor,this.borderStyle=o.borderStyle,this.padding=o.padding,this.captureSelection=!0}static fromJson(e,r){return new Nn(e.command,e.body,e.notation,r,e)}toJson(){const e={};return this.notation.downdiagonalstrike&&(e.downdiagonalstrike=!0),this.notation.updiagonalstrike&&(e.downdiagonalstrike=!0),this.notation.verticalstrike&&(e.downdiagonalstrike=!0),this.notation.horizontalstrike&&(e.downdiagonalstrike=!0),this.notation.updiagonalarrow&&(e.downdiagonalstrike=!0),this.notation.right&&(e.downdiagonalstrike=!0),this.notation.bottom&&(e.downdiagonalstrike=!0),this.notation.left&&(e.downdiagonalstrike=!0),this.notation.top&&(e.downdiagonalstrike=!0),this.notation.circle&&(e.downdiagonalstrike=!0),this.notation.roundedbox&&(e.downdiagonalstrike=!0),this.notation.madruwb&&(e.downdiagonalstrike=!0),this.notation.actuarial&&(e.downdiagonalstrike=!0),this.notation.box&&(e.downdiagonalstrike=!0),{...super.toJson(),notation:e,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding}}serialize(e){var r;let n=(r=this.command)!==null&&r!==void 0?r:"";if(this.command==="\\enclose"){n+="{"+Object.keys(this.notation).join(" ")+"}";let i="",o="";this.backgroundcolor&&this.backgroundcolor!=="transparent"&&(i+=o+'mathbackground="'+this.backgroundcolor+'"',o=","),this.shadow&&this.shadow!=="auto"&&(i+=o+'shadow="'+this.shadow+'"',o=","),this.strokeWidth||this.strokeStyle!=="solid"?(i+=o+this.borderStyle,o=","):this.strokeColor&&this.strokeColor!=="currentColor"&&(i+=o+'mathcolor="'+this.strokeColor+'"',o=","),i&&(n+=`[${i}]`)}return n+=`{${this.bodyToLatex(e)}}`,n}render(e){var r;const n=new W(e,this.style),i=C.createBox(n,this.body);if(!i)return null;const o=(r=vr(this.padding&&this.padding!=="auto"?ml(this.padding,{...this.context,registers:e.registers}):n.getRegisterAsDimension("fboxsep")))!==null&&r!==void 0?r:0,a=function(c){if(!c)return"1px";const d=c.match(/([0-9][a-zA-Z\%]+)/);return d===null?"1px":d[1]}(this.borderStyle),s=new B(null,{classes:"ML__notation"});s.setStyle("position","absolute"),s.setStyle("z-index","-1"),s.setStyle("box-sizing","border-box"),s.setStyle("top",`calc(-${a} / 2 - ${o}em)`),s.setStyle("left",`calc(-${a} / 2 - ${o}em)`),s.setStyle("height",`calc(100% + ${2*o}em + 2 * ${a})`),s.height=i.height+o,s.depth=i.depth+o,s.setStyle("width",`calc(100% + ${2*o}em + 2 * ${a})`),this.backgroundcolor&&s.setStyle("background-color",this.backgroundcolor),this.notation.box&&s.setStyle("border",this.borderStyle),this.notation.actuarial&&(s.setStyle("border-top",this.borderStyle),s.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(s.setStyle("border-bottom",this.borderStyle),s.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(s.setStyle("border-radius","8px"),s.setStyle("border",this.borderStyle)),this.notation.circle&&(s.setStyle("border-radius","50%"),s.setStyle("border",this.borderStyle)),this.notation.top&&s.setStyle("border-top",this.borderStyle),this.notation.left&&s.setStyle("border-left",this.borderStyle),this.notation.right&&s.setStyle("border-right",this.borderStyle),this.notation.bottom&&s.setStyle("border-bottom",this.borderStyle);let l="";if(this.notation.horizontalstrike&&(l+='<line x1="3%"  y1="50%" x2="97%" y2="50%"',l+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,l+=' stroke-linecap="round"',this.svgStrokeStyle&&(l+=` stroke-dasharray="${this.svgStrokeStyle}"`),l+="/>"),this.notation.verticalstrike&&(l+='<line x1="50%"  y1="3%" x2="50%" y2="97%"',l+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,l+=' stroke-linecap="round"',this.svgStrokeStyle&&(l+=` stroke-dasharray="${this.svgStrokeStyle}"`),l+="/>"),this.notation.updiagonalstrike&&(l+='<line x1="3%"  y1="97%" x2="97%" y2="3%"',l+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,l+=' stroke-linecap="round"',this.svgStrokeStyle&&(l+=` stroke-dasharray="${this.svgStrokeStyle}"`),l+="/>"),this.notation.downdiagonalstrike&&(l+='<line x1="3%"  y1="3%" x2="97%" y2="97%"',l+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,l+=' stroke-linecap="round"',this.svgStrokeStyle&&(l+=` stroke-dasharray="${this.svgStrokeStyle}"`),l+="/>"),l){let c;this.shadow!=="none"&&(c=this.shadow==="auto"?"filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)":"filter: drop-shadow("+this.shadow+")"),function(d,p,f){d.svgOverlay=p,d.svgStyle=f}(s,l,c)}const u=new B([s,i]);return u.setStyle("position","relative"),u.setStyle("display","inline"),u.height=i.height+o,u.depth=i.depth+o,u.left=o,u.right=o,this.caret&&(u.caret=this.caret),u.wrap(n)}}class Gr extends C{constructor(e,r,n,i,o){var a,s;super("genfrac",i,{style:o.style,command:e,serialize:o.serialize,displayContainsHighlight:!0}),this.above=r,this.below=n,this.hasBarLine=(a=o==null?void 0:o.hasBarLine)===null||a===void 0||a,this.continuousFraction=(s=o==null?void 0:o.continuousFraction)!==null&&s!==void 0&&s,this.numerPrefix=o==null?void 0:o.numerPrefix,this.denomPrefix=o==null?void 0:o.denomPrefix,this.mathstyleName=o==null?void 0:o.mathstyleName,this.leftDelim=o==null?void 0:o.leftDelim,this.rightDelim=o==null?void 0:o.rightDelim}static fromJson(e,r){return new Gr(e.command,e.above,e.below,r,e)}toJson(){const e={};return this.continuousFraction&&(e.continuousFraction=!0),this.numerPrefix&&(e.numerPrefix=this.numerPrefix),this.denomPrefix&&(e.denomPrefix=this.denomPrefix),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.hasBarLine||(e.hasBarLine=!1),this.mathstyleName&&(e.mathstyleName=this.mathstyleName),{...super.toJson(),...e}}serialize(e){return this.command+`{${this.aboveToLatex(e)}}{${this.belowToLatex(e)}}`}get children(){if(this._children)return this._children;const e=[];if(this.context.fractionNavigationOrder==="numerator-denominator"){for(const r of this.above)e.push(...r.children),e.push(r);for(const r of this.below)e.push(...r.children),e.push(r)}else{for(const r of this.below)e.push(...r.children),e.push(r);for(const r of this.above)e.push(...r.children),e.push(r)}return this._children=e,e}render(e){var r,n;const i=new W(e,this.style,this.mathstyleName),o=i.metrics,a=new W(i,this.style,this.continuousFraction?"":"numerator"),s=this.numerPrefix?new B([new B(this.numerPrefix),C.createBox(a,this.above)],{isTight:a.isTight,newList:!0}):(r=C.createBox(a,this.above,{newList:!0}))!==null&&r!==void 0?r:new B(null,{newList:!0}),l=new W(i,this.style,this.continuousFraction?"":"denominator"),u=this.denomPrefix?new B([new B(this.denomPrefix),C.createBox(l,this.below,{newList:!0})]):(n=C.createBox(l,this.below,{newList:!0}))!==null&&n!==void 0?n:new B(null,{newList:!0}),c=this.hasBarLine?o.defaultRuleThickness:0;let d,p,f=0;i.isDisplayStyle?(d=o.num1,f=c>0?3*c:7*c,p=o.denom1):(c>0?(d=o.num2,f=c):(d=o.num3,f=3*c),p=o.denom2);const g=[];this.isSelected&&g.push("ML__selected");const v=s.depth,k=u.height;let b;if(c<=0){const S=d-v-(k-p);S<f&&(d+=(f-S)/2,p+=(f-S)/2),b=new $e({individualShift:[{box:s,shift:-d,classes:[...g,"ML__center"]},{box:u,shift:p,classes:[...g,"ML__center"]}]}).wrap(i)}else{const S=.25+c/2,M=.25-c/2;d<f+v+S&&(d=f+v+S),p<f+k-M&&(p=f+k-M);const D=new B(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});D.height=c/2,D.depth=c/2,b=new $e({individualShift:[{box:u,shift:p,classes:[...g,"ML__center"]},{box:D,shift:c/2-M,classes:g},{box:s,shift:-d,classes:[...g,"ML__center"]}]}).wrap(i)}const y=i.isDisplayStyle?o.delim1:o.delim2,m=this.isSelected?" ML__selected":"",h=this.leftDelim?this.bind(e,Ps("mopen",this.leftDelim,y,!0,e,{style:this.style,mode:this.mode,classes:m})):Wn(i,"mopen");let w=null;w=this.continuousFraction?new B(null,{type:"mclose"}):this.rightDelim?this.bind(e,Ps("mclose",this.rightDelim,y,!0,e,{style:this.style,mode:this.mode,classes:m})):Wn(i,"mclose");const x=this.bind(e,new B([h,b,w],{isTight:i.isTight,type:"mord",classes:"mfrac"}));return x?(this.caret&&(x.caret=this.caret),this.attachSupsub(e,{base:x})):null}}class ze extends C{constructor(e,r,n){var i;super("latex",r,{value:e,mode:"latex"}),this.isSuggestion=(i=n==null?void 0:n.isSuggestion)!==null&&i!==void 0&&i,this.isError=!1,this.verbatimLatex=e}static fromJson(e,r){const n=new ze(e.command,r);return e.isSuggestion&&(n.isSuggestion=!0),e.isError&&(n.isError=!0),n}toJson(){const e={};return this.isSuggestion&&(e.isSuggestion=!0),this.isError&&(e.isError=!0),{...super.toJson(),...e}}get computedStyle(){return{}}render(e){const r=new B(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}}class Dr extends C{constructor(e,r){super("latexgroup",r,{mode:"latex"}),this.body=[...e].map(n=>new ze(n,r)),this.skipBoundary=!1}static fromJson(e,r){return new Dr("",r)}toJson(){return super.toJson()}render(e){const r=C.createBox(e,this.body,{newList:!0});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}serialize(e){var r,n;return(n=(r=this.body)===null||r===void 0?void 0:r.map(i=>i.value).join(""))!==null&&n!==void 0?n:""}}class Go extends C{constructor(e,r,n,i){super("line",n,{command:e,style:i.style}),this.skipBoundary=!0,this.body=r,this.position=i.position}static fromJson(e,r){return new Go(e.command,e.body,r,e)}toJson(){return{...super.toJson(),position:this.position}}render(e){const r=new W(e,this.style,"cramp"),n=C.createBox(r,this.body);if(!n)return null;const i=r.metrics.defaultRuleThickness/r.scalingFactor,o=new B(null,{classes:this.position+"-line"});let a;return o.height=i,o.maxFontSize=1.125*i*r.scalingFactor,a=this.position==="overline"?new $e({shift:0,children:[{box:n},3*i,{box:o},i]}):new $e({top:n.height,children:[i,{box:o},3*i,{box:n}]}),this.caret&&(a.caret=this.caret),new B(a,{classes:this.position,type:"mord"})}}class $t extends C{constructor(e,r,n,i){var o,a,s,l;super((o=i.type)!==null&&o!==void 0?o:"mop",n,{command:e,style:i.style,isFunction:i==null?void 0:i.isFunction}),typeof r=="string"?this.value=r:this.body=r,this.captureSelection=(a=i.captureSelection)!==null&&a!==void 0&&a,this.hasArgument=(s=i.hasArgument)!==null&&s!==void 0&&s,this.variant=i==null?void 0:i.variant,this.variantStyle=i==null?void 0:i.variantStyle,this.subsupPlacement=i==null?void 0:i.limits,this.isExtensibleSymbol=(l=i==null?void 0:i.isExtensibleSymbol)!==null&&l!==void 0&&l}static fromJson(e,r){return new $t(e.command,e.body?e.body:e.value,r,e)}toJson(){const e=super.toJson();return this.hasArgument&&(e.hasArgument=!0),this.variant&&(e.variant=this.variant),this.variantStyle&&(e.variantStyle=this.variantStyle),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.isExtensibleSymbol&&(e.isExtensibleSymbol=!0),this.value&&(e.symbol=this.value),e}render(e){var r;let n,i=0,o=0;if(this.isExtensibleSymbol){const s=e.isDisplayStyle&&this.value!=="\\smallint";if(n=new B(this.value,{fontFamily:s?"Size2-Regular":"Size1-Regular",classes:"op-symbol "+(s?"large-op":"small-op"),type:"mop",maxFontSize:e.scalingFactor}),!n)return null;n.right=n.italic,i=(n.height-n.depth)/2-.25*e.scalingFactor,o=n.italic,n.setStyle("color",this.style.color),n.setStyle("background-color",this.style.backgroundColor)}else if(this.body){if(n=C.createBox(e,this.body,{newList:!0}),!n)return null;n.setStyle("color",this.style.color),n.setStyle("background-color",this.style.backgroundColor)}else n=new B(this.value,{type:"mop",mode:"math",maxFontSize:e.scalingFactor,style:{color:this.style.color,backgroundColor:this.style.backgroundColor,letterShapeStyle:e.letterShapeStyle,variant:this.variant,variantStyle:this.variantStyle}});this.isExtensibleSymbol&&n.setTop(i);let a=n;if(this.superscript||this.subscript){const s=(r=this.subsupPlacement)!==null&&r!==void 0?r:"auto";a=s==="over-under"||s==="auto"&&e.isDisplayStyle?this.attachLimits(e,{base:n,baseShift:i,slant:o}):this.attachSupsub(e,{base:n})}return this.caret&&(a.caret=this.caret),new B(this.bind(e,a),{type:"mop",classes:"op-group"+(this.isSelected?" ML__selected":"")})}serialize(e){if(this.value==="")return this.supsubToLatex(e);const r=[];return r.push(this.command),this.hasArgument&&r.push(`{${this.bodyToLatex(e)}}`),this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&r.push("\\limits"),this.subsupPlacement==="adjacent"&&r.push("\\nolimits"),this.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(this.supsubToLatex(e)),xe(r)}}class Sr extends C{constructor(e,r,n,i){var o,a;super("overlap",n,{command:e,style:i==null?void 0:i.style}),this.skipBoundary=!0,this.body=typeof r=="string"?[new C("mord",n,{value:r})]:r,this.align=(o=i==null?void 0:i.align)!==null&&o!==void 0?o:"left",this.boxType=(a=i==null?void 0:i.boxType)!==null&&a!==void 0?a:"mord"}static fromJson(e,r){return new Sr(e.command,e.body,r,e)}toJson(){const e={};return this.align&&(e.align=this.align),this.boxType&&(e.boxType=this.boxType),{...super.toJson(),...e}}render(e){const r=C.createBox(e,this.body,{classes:"inner"});return r?(this.caret&&(r.caret=this.caret),this.bind(e,new B([r,new B(null,{classes:"fix"})],{classes:this.align==="left"?"llap":"rlap",type:this.boxType}))):null}}class Zr extends C{constructor(e,r,n,i){var o,a,s,l;super("phantom",n,{command:e,style:i.style}),this.captureSelection=!0,this.body=r,this.isInvisible=(o=i.isInvisible)!==null&&o!==void 0&&o,this.smashDepth=(a=i.smashDepth)!==null&&a!==void 0&&a,this.smashHeight=(s=i.smashHeight)!==null&&s!==void 0&&s,this.smashWidth=(l=i.smashWidth)!==null&&l!==void 0&&l}static fromJson(e,r){return new Zr(e.command,e.body,r,e)}toJson(){const e={};return this.isInvisible&&(e.isInvisible=!0),this.smashDepth&&(e.smashDepth=!0),this.smashHeight&&(e.smashHeight=!0),this.smashWidth&&(e.smashWidth=!0),{...super.toJson(),...e}}render(e){const r=new W(e,{isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return C.createBox(r,this.body,{classes:"inner"});const n=C.createBox(this.isInvisible?r:e,this.body);if(!n)return null;if(this.smashWidth){const i=new B(null,{classes:"fix"});return new B([n,i],{classes:"rlap"}).wrap(e)}if(!this.smashHeight&&!this.smashDepth)return n;if(this.smashHeight&&(n.height=0),this.smashDepth&&(n.depth=0),n.children)for(const i of n.children)this.smashHeight&&(i.height=0),this.smashDepth&&(i.depth=0);return new $e({firstBaseline:[{box:n}]},{type:"mord"}).wrap(e)}}class vl extends C{constructor(e,r,n){var i;super("rule",r,{command:e,style:n.style}),this.shift=(i=n.shift)!==null&&i!==void 0?i:{dimension:0},this.height=n.height,this.width=n.width}static fromJson(e,r){return new vl(e.command,r,e)}toJson(){const e={height:this.height,width:this.width};return this.shift&&(e.shift=this.shift),{...super.toJson(),...e}}render(e){const r=new W(e,this.style,"textstyle"),n=vr(this.shift),i=vr(this.width),o=vr(this.height),a=new B(null,{classes:"rule",type:"mord"});return a.setStyle("border-right-width",i,"em"),a.setStyle("border-top-width",o,"em"),a.setStyle("border-color",this.style.color),a.setStyle("vertical-align",n,"em"),this.isSelected&&a.setStyle("opacity","50%"),a.width=i,a.height=o+n,a.depth=-n,this.bind(e,a),this.caret&&(a.caret=this.caret),a.wrap(r)}serialize(e){var r;let n=(r=this.command)!==null&&r!==void 0?r:"";return this.shift&&(n+=`[${tu(this.shift)}]`),n+=`{${tu(this.width)}}{${tu(this.height)}}`,n}}class xl extends C{constructor(e,r,n){var i;super("surd",r,{command:e,mode:(i=n.mode)!==null&&i!==void 0?i:"math",style:n.style,displayContainsHighlight:!0}),this.body=n.body,this.above=n.index}static fromJson(e,r){return new xl(e.command,r,{...e,index:e.above})}toJson(){return super.toJson()}serialize(e){let r="";return this.above&&(r+=`[${this.aboveToLatex(e)}]`),r+=`{${this.bodyToLatex(e)}}`,this.command+r}render(e){var r;const n=new W(e,this.style,"cramp"),i=(r=C.createBox(n,this.body,{style:this.style,newList:!0}))!==null&&r!==void 0?r:new B(null),o=n.scalingFactor,a=n.metrics.defaultRuleThickness/o,s=e.isDisplayStyle?.431:a,l=new B(null,{classes:"ML__sqrt-line",style:this.style,height:a});let u=o*(a+s/4);const c=Math.max(2*o*s,i.height+i.depth)+u+a,d=new W(e,this.style),p=this.isSelected?" ML__selected":"",f=this.bind(d,new B(Ps("","\\surd",c,!1,d,{classes:p}),{classes:"ML__sqrt-sign"+p,style:this.style}));if(!f)return null;const g=f.height+f.depth-a;g>i.height+i.depth+u&&(u=(u+g-(i.height+i.depth))/2),f.setTop(f.height-i.height-u);const v=this.bind(e,new $e({firstBaseline:[{box:new B(i)},u-2*a,{box:l},a]}).wrap(e)),k=C.createBox(new W(e,this.style,"scriptscriptstyle"),this.above,{style:this.style,newList:!0});if(!k){const m=new B([f,v],{classes:this.containsCaret?"ML__contains-caret":"",type:"mord"});return this.caret&&(m.caret=this.caret),this.bind(e,m.wrap(e))}const b=new $e({shift:-.6*(Math.max(f.height,v.height)-Math.max(f.depth,v.depth)),children:[{box:k}]}),y=new B([new B(b,{classes:"ML__sqrt-index"}),f,v],{type:"mord",classes:this.containsCaret?"ML__contains-caret":""});return y.height=f.height,y.depth=f.depth,this.caret&&(y.caret=this.caret),this.bind(e,y.wrap(e))}}const lp={"p@":"1pt ","z@":"0pt",maxdimen:"16383.99999pt",hfuzz:"0.1pt",vfuzz:"0.1pt",overfullrule:"5pt",hsize:"6.5in",vsize:"8.9in",parindent:"20pt",maxdepth:"4pt",splitmaxdepth:"\\maxdimen",boxmaxdepth:"\\maxdimen",delimitershortfall:"5pt",nulldelimiterspace:"1.2pt",scriptspace:"0.5pt",topskip:"10pt",splittopskip:"10pt",normalbaselineskip:"12pt",normallineskip:"1pt",normallineskiplimit:"0pt",jot:"3pt",doublerulesep:"2pt",arrayrulewidth:"0.4pt",arraycolsep:"5pt",fboxsep:"3pt",fboxrule:"0.4pt"},up={"z@skip":"0pt plust0pt minus0pt",hideskip:"-1000pt plust 1fill","@flushglue":"0pt plust 1fill",parskip:"0pt plus 1pt",abovedisplayskip:"12pt plus 3pt minus 9pt",abovedisplayshortskip:"0pt plus 3pt",belowdisplayskip:"12pt plus 3pt minus 9pt",belowdisplayshortskip:"7pt plus 3pt minus 4pt",parfillskip:"0pt plus 1fil",thinmuskip:"3mu",medmuskip:"4mu plus 2mu minus 4mu",thickmuskip:"5mu plus 5mu",smallskipamount:"3pt plus1pt minus1pt",medskipamount:"6pt plus2pt minus2pt",bigskipamount:"12pt plus4pt minus4pt"},Gy={pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:"",month:new Date().getMonth()+1,day:new Date().getDate(),year:new Date().getFullYear()};let jr;function s1(t){var e,r;if(jr)return jr;jr={...Gy};for(const n of Object.keys(lp))jr[n]=(e=ml(lp[n],t,jr))!==null&&e!==void 0?e:0;for(const n of Object.keys(up))jr[n]=(r=Jy(up[n],t,jr))!==null&&r!==void 0?r:0;return jr}function l1(){const t={registers:{},smartFence:!1,fractionNavigationOrder:"numerator-denominator",placeholderSymbol:"",letterShapeStyle:le.locale.startsWith("fr")?"french":"tex",colorMap:cl,backgroundColorMap:Bc,getDefinition:Pc,getMacro:e=>u1(e,e1())};return{...t,registers:s1(t)}}function Pc(t,e="math"){if(!t||t.length===0)return null;let r=null;if(t.startsWith("\\")){if(r=Tr[t],r)return r;e==="math"?r=zr[t]:rn[t]&&(r={definitionType:"symbol",type:"mord",codepoint:rn[t]})}else if(e==="math"){if(r=zr[t],!r&&t.length===1){const n=Es("math",t.codePointAt(0));return n.startsWith("\\")?{...Pc(n,"math"),command:n}:null}}else rn[t]?r={definitionType:"symbol",type:"mord",codepoint:rn[t]}:e==="text"&&(r={definitionType:"symbol",type:"mord",codepoint:t.codePointAt(0)});return!r||r.definitionType!=="symbol"||r.type!=="mord"||r.codepoint!==102&&r.codepoint!==103&&r.codepoint!==104||(r.isFunction=!0),r??null}function u1(t,e){return t.startsWith("\\")?e[t.slice(1)]:null}class Zo extends C{constructor(e,r,n,i){super("tooltip",n,{command:i==null?void 0:i.command,mode:"math",serialize:i==null?void 0:i.serialize,style:i==null?void 0:i.style,displayContainsHighlight:!0}),this.body=e;const o=l1();this.tooltip=new C("root",o,{style:{}}),this.tooltip.body=r,this.skipBoundary=!0,this.captureSelection=!1}static fromJson(e,r){return new Zo(e.body,ir(e.tooltip,r),r,e)}toJson(){var e;const r=(e=this.tooltip.body)===null||e===void 0?void 0:e.filter(n=>n.type!=="first").map(n=>n.toJson());return{...super.toJson(),tooltip:r}}render(e){const r=C.createBox(e,this.body,{style:this.style});if(!r)return null;const n=Nc(sa(new B(this.tooltip.render(new W({registers:e.registers},{fontSize:5},"displaystyle")),{classes:"ML__tooltip-content"}))),i=new B([n,r],{classes:"ML__tooltip-container"});return this.caret&&(i.caret=this.caret),this.bind(e,i)}serialize(e){return`${this.command}{${this.bodyToLatex(e)}}{${C.serialize(this.tooltip.body,e)}}`}}function ir(t,e){if(je(t))return t.map(i=>ir(i,e));t={...t};for(const i of Fn)t[i]&&(t[i]=ir(t[i],e));t.array&&(t.array=ir(t.array,e));const r=t.type;let n;r==="accent"&&(n=Li.fromJson(t,e)),r==="array"&&(n=pe.fromJson(t,e)),r==="box"&&(n=nn.fromJson(t,e)),r==="composition"&&(n=fl.fromJson(t,e)),r==="chem"&&(n=yl.fromJson(t,e)),r==="choice"&&(n=kl.fromJson(t,e)),r==="delim"&&(n=gl.fromJson(t,e)),r==="enclose"&&(n=Nn.fromJson(t,e)),r==="error"&&(n=dl.fromJson(t,e)),r==="genfrac"&&(n=Gr.fromJson(t,e)),r==="group"&&(n=Ke.fromJson(t,e)),r==="latex"&&(n=ze.fromJson(t,e)),r==="latexgroup"&&(n=Dr.fromJson(t,e)),r==="leftright"&&(n=Je.fromJson(t,e)),r==="line"&&(n=Go.fromJson(t,e)),r==="macro"&&(n=pl.fromJson(t,e)),r==="msubsup"&&(n=Ii.fromJson(t,e)),r==="overlap"&&(n=Sr.fromJson(t,e)),r==="overunder"&&(n=_t.fromJson(t,e)),r==="placeholder"&&(t.defaultValue&&(t.defaultValue=ir(t.defaultValue,e)),n=ve.fromJson(t,e)),r==="phantom"&&(n=Zr.fromJson(t,e)),r==="rule"&&(n=vl.fromJson(t,e)),r==="sizeddelim"&&(n=bl.fromJson(t,e)),r==="spacing"&&(n=fn.fromJson(t,e)),r==="surd"&&(n=xl.fromJson(t,e)),r==="text"&&(n=Gn.fromJson(t,e)),r==="tooltip"&&(n=Zo.fromJson(t,e)),r==="mop"&&(n=$t.fromJson(t,e)),n||(n=C.fromJson(t,e));for(const i of Fn)t[i]&&n.setChildren(t[i],i);return t.verbatimLatex!==void 0&&(n.verbatimLatex=t.verbatimLatex),t.subsupPlacement&&(n.subsupPlacement=t.subsupPlacement),t.explicitSubsupPlacement&&(n.explicitSubsupPlacement=!0),t.isFunction&&(n.isFunction=!0),t.isExtensibleSymbol&&(n.isExtensibleSymbol=!0),t.skipBoundary&&(n.skipBoundary=!0),t.captureSelection&&(n.captureSelection=!0),n}class kl extends C{constructor(e,r){super("choice",r),this.choices=e,this.skipBoundary=!0}static fromJson(e,r){return new kl([ir(e.choices[0],r),ir(e.choices[1],r),ir(e.choices[2],r),ir(e.choices[3],r)],r)}toJson(){const e=[];for(const r of this.choices)e.push(r.filter(n=>n.type!=="first").map(n=>n.toJson()));return{...super.toJson(),choices:e}}render(e){const r=C.createBox(e,this.choices[Math.floor(e.mathstyle.id/2)]);return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}serialize(e){return`\\mathchoice{${C.serialize(this.choices[0],e)}}{${C.serialize(this.choices[1],e)}}{${C.serialize(this.choices[2],e)}}{${C.serialize(this.choices[3],e)}}`}}z("mathtip","{:math}{:math}",{createAtom:(t,e,r,n)=>new Zo(e[0],e[1],n,{command:t,content:"math",style:r})}),z("texttip","{:math}{:text}",{createAtom:(t,e,r,n)=>new Zo(e[0],e[1],n,{command:t,content:"text",style:r})}),z("error","{:math}",{createAtom:(t,e,r,n)=>new Ke(e[0],n,{mode:"math",command:"\\error",customClass:"ML__error",style:r,serialize:(i,o)=>`\\error{${i.bodyToLatex(o)}}`})}),z("ensuremath","{:math}",{createAtom:(t,e,r,n)=>new Ke(e[0],n,{mode:"math",latexOpen:"\\ensuremath{",latexClose:"}",style:r})}),z("color","{:string}",{applyStyle:(t,e,r)=>{var n,i;const o=e[0];return{verbatimColor:e[0],color:(i=(n=r.colorMap)===null||n===void 0?void 0:n.call(r,o))!==null&&i!==void 0?i:o}}}),z("textcolor","{:string}{content:auto*}",{applyStyle:(t,e,r)=>{var n,i;const o=e[0];return{verbatimColor:o,color:(i=(n=r.colorMap)===null||n===void 0?void 0:n.call(r,o))!==null&&i!==void 0?i:o}}}),z("boxed","{content:math}",{createAtom:(t,e,r,n)=>new nn(t,e[0],n,{framecolor:"black",style:r})}),z("colorbox","{:string}{content:auto*}",{applyMode:"text",applyStyle:(t,e,r)=>{var n,i;const o=e[0];return{verbatimBackgroundColor:e[0],backgroundColor:(i=(n=r.backgroundColorMap)===null||n===void 0?void 0:n.call(r,o))!==null&&i!==void 0?i:o}}}),z("fcolorbox","{frame-color:string}{background-color:string}{content:auto}",{applyMode:"text",createAtom:(t,e,r,n)=>{var i,o,a,s;const l=e[0],u=e[1];return new nn(t,e[2],n,{verbatimFramecolor:l,framecolor:(o=(i=n.colorMap)===null||i===void 0?void 0:i.call(n,l))!==null&&o!==void 0?o:l,verbatimBackgroundcolor:e[1],backgroundcolor:(s=(a=n.backgroundColorMap)===null||a===void 0?void 0:a.call(n,u))!==null&&s!==void 0?s:u,style:r,serialize:(c,d)=>{var p,f;return`${c.command}{${(p=c.verbatimFramecolor)!==null&&p!==void 0?p:c.framecolor}{${(f=c.verbatimBackgroundcolor)!==null&&f!==void 0?f:c.backgroundcolor}}{${c.bodyToLatex(d)}}`}})}}),z("bbox","[:bbox]{body:auto}",{createAtom:(t,e,r,n)=>{if(e[0]){const i=e[0];return new nn(t,e[1],n,{padding:i.padding,border:i.border,backgroundcolor:i.backgroundcolor,style:r,serialize:(o,a)=>{var s;let l=t;if(Number.isFinite(o.padding)||o.border!==void 0||o.backgroundcolor!==void 0){const u=[];o.padding&&u.push(o.padding),o.border&&u.push(`border: ${o.border}`),(o.verbatimBackgroundcolor||o.backgroundcolor)&&u.push((s=o.verbatimBackgroundcolor)!==null&&s!==void 0?s:o.backgroundcolor),l+=`[${u.join(",")}]`}return l+`{${o.bodyToLatex(a)}}`}})}return new nn(t,e[1],n,{style:r})}}),z(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:(t,e,r,n)=>new Ke(e[0],n,{latexOpen:`{${t} `,latexClose:"}",style:r,mathstyleName:t.slice(1)})}),z(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:(t,e)=>({fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[t]})}),z("fontseries","{:string}",{ifMode:"text",applyStyle:(t,e)=>({fontSeries:e[0]})}),z("fontshape","{:string}",{ifMode:"text",applyStyle:(t,e)=>({fontShape:e[0]})}),z("fontfamily","{:string}",{ifMode:"text",applyStyle:(t,e)=>({fontFamily:e[0]})}),z("selectfont","",{ifMode:"text",applyStyle:(t,e)=>({})}),z("bf","",{applyStyle:(t,e)=>({fontSeries:"b",fontShape:"n",fontFamily:"cmr"})}),z(["boldsymbol","bm"],"{:math*}",{applyMode:"math",createAtom:(t,e,r,n)=>new Ke(e[0],n,{latexOpen:`${t}{`,latexClose:"}",style:r,customClass:"ML__boldsymbol"})}),z("bold","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variantStyle:"bold"})}),z("bfseries","",{applyMode:"text",applyStyle:(t,e)=>({fontSeries:"b"})}),z("mdseries","",{applyMode:"text",applyStyle:(t,e)=>({fontSeries:"m"})}),z("upshape","",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"n"})}),z("slshape","",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"sl"})}),z("scshape","",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"sc"})}),z("textbf","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontSeries:"b"})}),z("textmd","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontSeries:"m"})}),z("textup","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"n"})}),z("textnormal","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"n",fontSeries:"m"})}),z("textsl","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"sl"})}),z("textit","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"it"})}),z("textsc","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"sc"})}),z("textrm","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontFamily:"roman"})}),z("textsf","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontFamily:"sans-serif"})}),z("texttt","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontFamily:"monospace"})}),z("mathbf","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"normal",variantStyle:"bold"})}),z("mathit","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"main",variantStyle:"italic"})}),z("mathnormal","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"normal",variantStyle:"italic"})}),z("mathbfit","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"main",variantStyle:"bolditalic"})}),z("mathrm","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"normal",variantStyle:"up"})}),z("mathsf","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"sans-serif",variantStyle:"up"})}),z("mathtt","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"monospace",variantStyle:"up"})}),z("it","",{applyStyle:(t,e)=>({fontSeries:"m",fontShape:"it",fontFamily:"cmr",variantStyle:"italic"})}),z("rmfamily","",{applyStyle:(t,e)=>({fontFamily:"roman"})}),z("sffamily","",{applyStyle:(t,e)=>({fontFamily:"sans-serif"})}),z("ttfamily","",{applyStyle:(t,e)=>({fontFamily:"monospace"})}),z(["Bbb","mathbb"],"{:math*}",{applyStyle:(t,e)=>({variant:"double-struck",variantStyle:"up"})}),z(["frak","mathfrak"],"{:math*}",{applyStyle:(t,e)=>({variant:"fraktur",variantStyle:"up"})}),z("mathcal","{:math*}",{applyStyle:(t,e)=>({variant:"calligraphic",variantStyle:"up"})}),z("mathscr","{:math*}",{applyStyle:(t,e)=>({variant:"script",variantStyle:"up"})}),z("mbox","{:text}",{ifMode:"math",createAtom:(t,e,r,n)=>new Ke(e[0],n,{changeMode:!0,style:r,mode:"text",command:t,serialize:(i,o)=>`\\mbox{${i.bodyToLatex({...o,skipModeCommand:!0})}}`})}),z("text","{:text}",{ifMode:"math",applyMode:"text"}),z("class","{name:string}{content:auto*}",{createAtom:(t,e,r,n)=>new Ke(e[1],n,{customClass:e[0],style:r})}),z("cssId","{id:string}{content:auto}",{createAtom:(t,e,r,n)=>new Ke(e[1],n,{cssId:e[0],style:r})}),z("htmlData","{data:string}{content:auto}",{createAtom:(t,e,r,n)=>new Ke(e[1],n,{htmlData:e[0],style:r})}),z("htmlStyle","{data:string}{content:auto}",{createAtom:(t,e,r,n)=>new Ke(e[1],n,{htmlStyle:e[0],style:r})}),z("em","{:auto*}",{createAtom:(t,e,r,n)=>new Ke(e[0],n,{latexOpen:"\\em",latexClose:"",customClass:"ML__emph",style:r})}),z("emph","{:auto}",{createAtom:(t,e,r,n)=>new Ke(e[0],n,{latexOpen:"\\emph{",latexClose:"}",customClass:"ML__emph",style:r})});const cp={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};z(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:(t,e,r,n)=>new bl(t,e[0],n,{size:cp[t].size,delimClass:cp[t].mclass,style:r})}),z(["hspace","hspace*"],"{width:glue}",{createAtom:(t,e,r,n)=>{var i;return new fn(t,r,n,(i=e[0])!==null&&i!==void 0?i:{glue:{dimension:0}})}}),z(["mkern","kern"],"{width:glue}",{createAtom:(t,e,r,n)=>{var i;return new fn(t,r,n,(i=e[0])!==null&&i!==void 0?i:{glue:{dimension:0}})}}),z("mspace","{width:glue}",{createAtom:(t,e,r,n)=>{var i;return new fn(t,r,n,(i=e[0])!==null&&i!==void 0?i:{glue:{dimension:0}})}}),z("mathop","{:auto}",{createAtom:(t,e,r,n)=>new $t(t,e[0],n,{type:"mop",captureSelection:!0,limits:"over-under",isFunction:!0,hasArgument:!0,style:r})}),z("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:(t,e,r,n)=>new kl(e,n)}),z(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:(t,e,r,n)=>new $t(t,e[0],n,{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[t],captureSelection:!0,hasArgument:!0,style:r})}),z(["operatorname","operatorname*"],"{operator:math}",{createAtom:(t,e,r,n)=>{const i=new $t(t,e[0],n,{isFunction:!0,hasArgument:!0,limits:t==="\\operatorname"?"adjacent":"over-under",style:r});return i.captureSelection=!0,i.body&&i.body.forEach(o=>{var a;o.type!=="first"&&(o.type="mord",o.value=(a={"":"*","":"-"}[o.value])!==null&&a!==void 0?a:o.value,o.isFunction=!1,o.style.variant||o.style.variantStyle||(o.style.variant="main",o.style.variantStyle="up"))}),i}});class Zy extends C{constructor(e,r,n){let i=Number.parseInt(e);Number.isFinite(i)||(i=10067),super("mord",n,{value:String.fromCodePoint(i),style:r}),this.codepoint=i}serialize(e){return'\\unicode"'+("000000"+this.codepoint.toString(16)).toUpperCase().slice(-6)}}function Za(t){if(t.length===1){const e=t[0];if(e.type==="mbin")return"mbin";if(e.type==="mrel")return"mrel"}return"mord"}z("unicode","{charcode:number}",{createAtom:(t,e,r,n)=>new Zy(e[0],r,n)}),z("rule","[raise:dimen]{width:dimen}{thickness:dimen}",{createAtom:(t,e,r,n)=>new vl(t,n,{shift:e[0],width:e[1],height:e[2],style:r})}),z("overline","{:auto}",{createAtom:(t,e,r,n)=>new Go(t,e[0],n,{position:"overline",style:r})}),z("underline","{:auto}",{createAtom:(t,e,r,n)=>new Go(t,e[0],n,{position:"underline",style:r})}),z("overset","{above:auto}{base:auto}",{createAtom:(t,e,r,n)=>new _t(t,n,{above:e[0],body:e[1],skipBoundary:!1,style:r,boxType:Za(e[1]),serialize:(i,o)=>`${i.command}{${i.aboveToLatex(o)}}{${i.bodyToLatex(o)}}`})}),z("underset","{below:auto}{base:auto}",{createAtom:(t,e,r,n)=>new _t(t,n,{below:e[0],body:e[1],skipBoundary:!1,style:r,boxType:Za(e[1]),serialize:(i,o)=>`${t}{${i.belowToLatex(o)}}{${i.bodyToLatex(o)}}`})}),z("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:(t,e,r,n)=>new _t(t,n,{above:e[0],below:e[1],body:e[2],skipBoundary:!1,style:r,boxType:Za(e[2]),serialize:(i,o)=>`${i.command}{${i.aboveToLatex(o)}}{${i.bodyToLatex(o)}}`})}),z(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:(t,e,r,n)=>new _t(t,n,{body:e[2],above:e[1],below:e[0],skipBoundary:!1,style:r,boxType:t==="\\stackrel"?"mrel":"mbin",serialize:(i,o)=>`${i.command}{${i.aboveToLatex(o)}}{${i.bodyToLatex(o)}}`})}),z("smash","[:string]{:auto}",{createAtom:(t,e,r,n)=>e[0]?new Zr(t,e[1],n,{smashHeight:e[0].includes("t"),smashDepth:e[0].includes("b"),style:r}):new Zr(t,e[1],n,{smashHeight:!0,smashDepth:!0,style:r})}),z(["vphantom"],"{:auto*}",{createAtom:(t,e,r,n)=>new Zr(t,e[1],n,{isInvisible:!0,smashWidth:!0,style:r})}),z(["hphantom"],"{:auto*}",{createAtom:(t,e,r,n)=>new Zr(t,e[1],n,{isInvisible:!0,smashHeight:!0,smashDepth:!0,style:r})}),z(["phantom"],"{:auto*}",{createAtom:(t,e,r,n)=>new Zr(t,e[1],n,{isInvisible:!0,style:r})}),z("not","{:math}",{createAtom:(t,e,r,n)=>{if(e.length<1||e[0]===null)return new C("mrel",n,{command:t,style:r,value:""});const i=e[0];return new Ke([new Sr(t,"",n,{align:"right",style:r,boxType:"mrel"}),...i],n,{boxType:"mrel",captureSelection:!0,command:"\\not",serialize:(o,a)=>{const s=C.serialize(i,a);return s.length!==1||/[a-zA-Z]/.test(s)?`\\not{${s}}`:"\\not"+s}})}}),z(["ne","neq"],"",{createAtom:(t,e,r,n)=>new Ke([new Sr(t,"",n,{align:"right",style:r,boxType:"mrel"}),new C("mrel",n,{style:r,value:"="})],n,{boxType:"mrel",captureSelection:!0,serialize:()=>t,command:t})}),z("rlap","{:auto}",{createAtom:(t,e,r,n)=>new Sr(t,e[0],n,{align:"right",style:r})}),z("llap","{:auto}",{createAtom:(t,e,r,n)=>new Sr(t,e[0],n,{style:r})}),z("mathllap","{:auto}",{createAtom:(t,e,r,n)=>new Sr(t,e[0],n,{style:r})}),z("mathrlap","{:auto}",{createAtom:(t,e,r,n)=>new Sr(t,e[0],n,{align:"right",style:r})});const dp={acute:714,grave:715,dot:729,ddot:168,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};function At(t){for(const e of t)for(const r of e)if(r.length>0)return!1;return!0}z(Object.keys(dp),"{body:auto}",{createAtom:(t,e,r,n)=>new Li(t,e[0],n,{accentChar:dp[t.slice(1)],style:r})}),z(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:(t,e,r,n)=>{const i=ep(e[0]);return new Li(t,e[0],n,{style:r,svgAccent:t.slice(1)+(i.length>5?"4":["1","1","2","2","3","3"][i.length])})}}),z(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:(t,e,r,n)=>new Li(t,e[0],n,{style:r,svgAccent:"overarc"})}),z(["underarc","underparen"],"{body:auto}",{createAtom:(t,e,r,n)=>new _t(t,n,{body:e[0],style:r,svgBelow:"underarc"})}),z("utilde","{body:auto}",{createAtom:(t,e,r,n)=>{const i=ep(e[0]),o="widetilde"+(i.length>5?"4":["1","1","2","2","3","3"][i.length]);return new _t(t,n,{body:e[0],svgBelow:o,style:r,boxType:Za(e[0])})}}),z("^","{:string}",{createAtom:(t,e,r,n)=>{var i;return new C("mord",n,{command:t,isFunction:!1,limits:"adjacent",style:r,value:e[0]&&(i={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[e[0]])!==null&&i!==void 0?i:"^"})}}),z("`","{:string}",{createAtom:(t,e,r,n)=>{var i;return new C("mord",n,{command:t,isFunction:!1,limits:"adjacent",style:r,value:e[0]&&(i={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[e[0]])!==null&&i!==void 0?i:"`"})}}),z("'","{:string}",{createAtom:(t,e,r,n)=>{var i;return new C("mord",n,{command:t,isFunction:!1,limits:"adjacent",style:r,value:e[0]&&(i={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[e[0]])!==null&&i!==void 0?i:"^"})}}),z("~","{:string}",{createAtom:(t,e,r,n)=>{var i;return new C("mord",n,{command:t,isFunction:!1,limits:"adjacent",style:r,value:e[0]&&(i={n:"",N:"",a:"",o:"",A:"",O:""}[e[0]])!==null&&i!==void 0?i:""})}}),z("c","{:string}",{createAtom:(t,e,r,n)=>{var i;return new C("mord",n,{command:t,isFunction:!1,limits:"adjacent",style:r,value:e[0]&&(i={c:"",C:""}[e[0]])!==null&&i!==void 0?i:""})}}),z("enclose","{notation:string}[style:string]{body:auto}",{createAtom:(t,e,r,n)=>{var i;const o={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"auto",svgStrokeStyle:void 0,borderStyle:void 0,style:r};if(e[1]){const s=e[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(const l of s){const u=l.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(u)o.strokeWidth=u[1],o.strokeStyle=u[2],o.strokeColor=u[3];else{const c=l.match(/\s*([a-z]*)\s*=\s*"(.*)"/);c&&(c[1]==="mathbackground"?o.backgroundcolor=c[2]:c[1]==="mathcolor"?o.strokeColor=c[2]:c[1]==="padding"?o.padding=c[2]:c[1]==="shadow"&&(o.shadow=c[2]))}}o.strokeStyle==="dashed"?o.svgStrokeStyle="5,5":o.strokeStyle==="dotted"&&(o.svgStrokeStyle="1,5")}o.borderStyle=`${o.strokeWidth} ${o.strokeStyle} ${o.strokeColor}`;const a={};return((i=e[0])!==null&&i!==void 0?i:"").split(/[, ]/).filter(s=>s.length>0).forEach(s=>{a[s.toLowerCase()]=!0}),new Nn(t,e[2],a,n,o)}}),z("cancel","{body:auto}",{createAtom:(t,e,r,n)=>new Nn(t,e[0],{updiagonalstrike:!0},n,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:r})}),z("bcancel","{body:auto}",{createAtom:(t,e,r,n)=>new Nn(t,e[0],{downdiagonalstrike:!0},n,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:r})}),z("xcancel","{body:auto}",{createAtom:(t,e,r,n)=>new Nn(t,e[0],{updiagonalstrike:!0,downdiagonalstrike:!0},n,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:r})}),Xa("math","",(t,e,r,n)=>(At(r)&&(r=[[[new C("first",t),new ve(t)]]]),new pe(t,e,r,n,{mathstyleName:"textstyle"}))),Xa("displaymath","",(t,e,r,n)=>(At(r)&&(r=[[[new C("first",t),new ve(t)]]]),new pe(t,e,r,n,{mathstyleName:"textstyle"}))),pr("array","{columns:colspec}",(t,e,r,n,i)=>(At(r)&&(r=[[[new C("first",t),new ve(t)]]]),new pe(t,e,r,n,{columns:i[0],mathstyleName:"textstyle"}))),pr(["equation","equation*","subequations"],"",(t,e,r,n)=>(At(r)&&(r=[[[new C("first",t),new ve(t)]]]),new pe(t,e,r,n,{columns:[{align:"c"}]}))),pr("multline","",(t,e,r,n)=>(At(r)&&(r=[[[new C("first",t),new ve(t)]]]),new pe(t,e,r,n,{columns:[{align:"m"}]}))),pr(["align","align*","aligned","eqnarray"],"",(t,e,r,n)=>{let i=0;At(r)&&(r=[[[new C("first",t),new ve(t)],[new C("first",t),new ve(t)]]]);for(const s of r)i=Math.max(i,s.length);const o=[{gap:0},{align:"r"},{gap:.25},{align:"l"}];let a=2;for(;a<i;)o.push({gap:1}),o.push({align:"r"}),o.push({gap:.25}),o.push({align:"l"}),a+=2;return o.push({gap:0}),new pe(t,e,r,n,{arraycolsep:0,columns:o,colSeparationType:"align",jot:.3,minColumns:2})}),pr("split","",(t,e,r,n)=>(At(r)&&(r=[[[new C("first",t),new ve(t)],[new C("first",t),new ve(t)]]]),new pe(t,e,r,n,{columns:[{align:"r"},{align:"l"}],minColumns:2}))),pr(["gather","gathered"],"",(t,e,r,n)=>(At(r)&&(r=[[[new C("first",t),new ve(t)]]]),new pe(t,e,r,n,{columns:[{gap:.25},{align:"c"},{gap:0}],colSeparationType:"gather"}))),pr(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",(t,e,r,n,i)=>{var o;At(r)&&(r=[[[new C("first",t),new ve(t)]]]);let a=".",s=".";switch(e){case"pmatrix":case"pmatrix*":a="(",s=")";break;case"bmatrix":case"bmatrix*":a="[",s="]";break;case"Bmatrix":case"Bmatrix*":a="\\lbrace",s="\\rbrace";break;case"vmatrix":case"vmatrix*":a="\\vert",s="\\vert";break;case"Vmatrix":case"Vmatrix*":a="\\Vert",s="\\Vert";break;case"matrix":case"matrix*":a=".",s="."}return new pe(t,e,r,n,{mathstyleName:"textstyle",leftDelim:a,rightDelim:s,columns:(o=i[0])!==null&&o!==void 0?o:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}]})}),pr(["smallmatrix","smallmatrix*"],"[columns:colspec]",(t,e,r,n,i)=>{var o;return At(r)&&(r=[[[new C("first",t),new ve(t)]]]),new pe(t,e,r,n,{mathstyleName:"scriptstyle",columns:(o=i[0])!==null&&o!==void 0?o:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}],colSeparationType:"small",arraystretch:.5})}),pr(["cases","dcases"],"",(t,e,r,n)=>(At(r)&&(r=[[[new C("first",t),new ve(t)]]]),new pe(t,e,r,n,{mathstyleName:e==="dcases"?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]}))),pr("rcases","",(t,e,r,n)=>(At(r)&&(r=[[[new C("first",t),new ve(t)]]]),new pe(t,e,r,n,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]}))),Xa("center","",(t,e,r,n)=>(At(r)&&(r=[[[new C("first",t),new ve(t)]]]),new pe(t,e,r,n,{columns:[{align:"c"}]}))),z(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:(t,e,r,n)=>new _t(t,n,{body:e[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mrel",style:r,svgAbove:t.slice(1)})}),z("overbrace","{:auto}",{createAtom:(t,e,r,n)=>new _t(t,n,{body:e[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mord",style:r,svgAbove:t.slice(1)})}),z(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:(t,e,r,n)=>new _t(t,n,{body:e[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mrel",style:r,svgBelow:t.slice(1)})}),z(["underbrace"],"{:auto}",{createAtom:(t,e,r,n)=>new _t(t,n,{body:e[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mord",style:r,svgBelow:t.slice(1)})}),z(["xrightarrow","xleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","xLeftrightarrow","xrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xrightleftarrows","xrightequilibrium","xleftequilibrium"],"[:auto]{:auto}",{createAtom:(t,e,r,n)=>{var i,o;return new _t(t,n,{style:r,svgBody:t.slice(1),above:((i=e[1])===null||i===void 0?void 0:i.length)===0?void 0:e[1],below:(o=e[0])!==null&&o!==void 0?o:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"mrel",serialize:(a,s)=>t+(a.hasEmptyBranch("below")?"":`[${a.belowToLatex(s)}]`)+`{${a.aboveToLatex(s)}}${a.supsubToLatex(s)}`})}}),z(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","cotg","coth","ctg","cth","csc","cosec","dim","exp","hom","inf","ker","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th","arcsec","arccsc","arsinh","arcosh","artanh","arcsech","arccsch"],"",{isFunction:!0,createAtom:(t,e,r,n)=>new $t(t,t.slice(1),n,{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up",style:r})}),z(["liminf","limsup"],"",{createAtom:(t,e,r,n)=>new $t(t,{"\\liminf":"lim inf","\\limsup":"lim sup"}[t],n,{limits:"over-under",variant:"main",style:r})}),z(["lim","mod"],"",{createAtom:(t,e,r,n)=>new $t(t,t.slice(1),n,{limits:"over-under",variant:"main",style:r})}),z(["det","max","min"],"",{isFunction:!0,createAtom:(t,e,r,n)=>new $t(t,t.slice(1),n,{limits:"over-under",isFunction:!0,variant:"main",style:r})}),z(["ang"],"{:math}",{isFunction:!0,createAtom:(t,e,r,n)=>new Ke([...e[0],new C("mord",n,{value:"",style:r})],n,{mode:"math",latexOpen:"\\ang{",latexClose:"}",style:r})}),z("sqrt","[index:auto]{radicand:auto}",{createAtom:(t,e,r,n)=>new xl(t,n,{body:e[1],index:e[0],style:r})}),z(["frac","dfrac","tfrac","cfrac","binom","dbinom","tbinom"],"{numerator}{denominator}",{createAtom:(t,e,r,n)=>{const i={style:r};switch(t){case"\\dfrac":case"\\frac":case"\\tfrac":i.hasBarLine=!0;break;case"\\atopfrac":i.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":i.hasBarLine=!1,i.leftDelim="(",i.rightDelim=")"}switch(t){case"\\dfrac":case"\\dbinom":i.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":i.mathstyleName="textstyle";break;case"\\cfrac":i.hasBarLine=!0,i.continuousFraction=!0}return new Gr(t,e[0],e[1],n,i)}}),z(["brace","brack"],"",{infix:!0,createAtom:(t,e,r,n)=>new Gr(t,e[0],e[1],n,{hasBarLine:!1,leftDelim:t==="\\brace"?"\\lbrace":"\\lbrack",rightDelim:t==="\\brace"?"\\rbrace":"\\rbrack",style:r,serialize:(i,o)=>xe([i.aboveToLatex(o),i.command,i.belowToLatex(o)])})}),z(["over","atop","choose"],"",{infix:!0,createAtom:(t,e,r,n)=>{let i,o;return t==="\\choose"&&(i="(",o=")"),new Gr(t,e[0],e[1],n,{hasBarLine:t==="\\over",leftDelim:i,rightDelim:o,style:r,serialize:(a,s)=>xe([a.aboveToLatex(s),a.command,a.belowToLatex(s)])})}}),z(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:(t,e,r,n)=>new Gr(t,e[0],e[1],n,{leftDelim:e[2],rightDelim:e[3],hasBarLine:!1,style:r,serialize:(i,o)=>`${i.aboveToLatex(o)} ${i.command}${i.leftDelim}${i.rightDelim}${i.belowToLatex(o)}`})}),z("pdiff","{numerator}{denominator}",{createAtom:(t,e,r,n)=>new Gr(t,e[0],e[1],n,{hasBarLine:!0,numerPrefix:"",denomPrefix:"",style:r})}),z(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","smallint","intop"],"",{createAtom:(t,e,r,n)=>new $t(t,{coprod:"",bigvee:"",bigwedge:"",biguplus:"",bigcap:"",bigcup:"",intop:"",prod:"",sum:"",bigotimes:"",bigoplus:"",bigodot:"",bigsqcup:"",smallint:""}[t.slice(1)],n,{isExtensibleSymbol:!0,limits:"auto",variant:"main",style:r})});const nu={int:"",iint:"",iiint:"",oint:"",oiint:"",oiiint:"",intclockwise:"",varointclockwise:"",ointctrclockwise:"",intctrclockwise:"",sqcup:"",sqcap:"",uplus:"",wr:"",amalg:"",Cap:"",Cup:"",doublecap:"",doublecup:""};function Qy(t,e){return t[0]===e[0]&&t[1]===e[1]?"equal":"different"}function Xt(t){let e=1/0,r=-1/0;for(const n of t.ranges)e=Math.min(e,n[0],n[1]),r=Math.max(r,n[0],n[1]);return[e,r]}function Oc(t,e,r){return r?function(n,i){if(!i)return"";if(typeof i=="string")return i;if(!n||i.after===void 0)return i.value;let o=!1,a=!1,s=!1,l=!1,u=!1,c=!1,d=!1,p=!1,f=!1,g=!1,v=!1,k=!1,b=!1,y=!1,m=!1,h=n[0],w=0;for(;h&&/msubsup|placeholder/.test(h.type);)w+=1,h=n[w];return o=!h||h.type==="first",h&&(y=h.mode==="text",a=!y&&h.type==="mord"&&Ty.test(h.value),s=!y&&h.type==="mord"&&/\d+$/.test(h.value),l=!y&&h.isFunction,u=h.type==="genfrac",c=h.type==="surd",d=h.type==="mbin",p=h.type==="mrel",f=h.type==="mop",g=h.type==="mpunct"||h.type==="minner",v=h.type==="array",k=h.type==="mopen",b=h.type==="mclose"||h.type==="leftright",m=h.type==="space"),i.after.includes("nothing")&&o||i.after.includes("letter")&&a||i.after.includes("digit")&&s||i.after.includes("function")&&l||i.after.includes("frac")&&u||i.after.includes("surd")&&c||i.after.includes("binop")&&d||i.after.includes("relop")&&p||i.after.includes("operator")&&f||i.after.includes("punct")&&g||i.after.includes("array")&&v||i.after.includes("openfence")&&k||i.after.includes("closefence")&&b||i.after.includes("text")&&y||i.after.includes("space")&&m?i.value:""}(t,r[e]):""}z(Object.keys(nu),"",{createAtom:(t,e,r,n)=>new $t(t,nu[t.slice(1)],n,{limits:"adjacent",isExtensibleSymbol:!0,style:r,variant:{"":"ams","":"ams"}[nu[t.slice(1)]]})}),z(["Re","Im"],"",{createAtom:(t,e,r,n)=>new $t(t,{"\\Re":"","\\Im":""}[t],n,{limits:"adjacent",style:r,isFunction:!0,variant:"fraktur"})}),z("middle","{:delim}",{createAtom:(t,e,r,n)=>new gl(t,e[0],n,{size:1,style:r})}),He("0123456789/@.?!"),Qd(65,90),Qd(97,122),He([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]),He([["\\sharp",9839],["\\flat",9837],["\\natural",9838],["\\#",35],["\\&",38],["\\clubsuit",9827],["\\heartsuit",9825],["\\spadesuit",9824],["\\diamondsuit",9826],["\\parallelogram",9649]]),He([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\Q",81,"mord","double-struck"],["\\C",67,"mord","double-struck"],["\\P",80,"mord","double-struck"],["\\pounds",163],["\\euro",8364]]),He([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel"),He([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]),He([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nrightarrow",8603],["\\nleftarrow",8602],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams"),He([["+",43],["-",8722],["",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin"),He([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams"),He([["\\surd",8730],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\emptyset",8709]]),He([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",8869],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel"),He([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams"),He([["\\wp",8472],["\\aleph",8501]]),He([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams"),He([["\\ ",160],["~",160],["\\space",160]],"space"),z(["!",",",":",";","enskip","enspace","quad","qquad"],"",{createAtom:(t,e,r,n)=>new fn(t,r,n)}),He([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct"),He([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner"),He([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);const c1={"&":"\\&","%":"\\%","''":"^{\\doubleprime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"":"\\sum",sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","":"\\differentialD","":"\\differentialD",arcsin:"\\arcsin",arccos:"\\arccos",arctan:"\\arctan",arcsec:"\\arcsec",arccsc:"\\arccsc",arsinh:"\\arsinh",arcosh:"\\arcosh",artanh:"\\artanh",arcsech:"\\arcsech",arccsch:"\\arccsch",arg:"\\arg",ch:"\\ch",cosec:"\\cosec",cosh:"\\cosh",cot:"\\cot",cotg:"\\cotg",coth:"\\coth",csc:"\\csc",ctg:"\\ctg",cth:"\\cth",sec:"\\sec",sinh:"\\sinh",sh:"\\sh",tanh:"\\tanh",tg:"\\tg",th:"\\th",sin:"\\sin",cos:"\\cos",tan:"\\tan",lg:"\\lg",lb:"\\lb",log:"\\log",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",xx:"\\times","+-":"\\pm","":"\\ne","!=":"\\ne","":"\\ge",">=":"\\ge","":"\\le","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","":"\\approx","?=":"\\questeq","":"\\div","":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},:"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega",:"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\mod",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",gcd:"\\operatorname{gcd}",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","->":"\\to","|->":"\\mapsto","-->":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\Leftrightarrow","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","{":"\\{","}":"\\}","*":"\\cdot"};function pp(t,e){var r;let n=(r=e==null?void 0:e.format)!==null&&r!==void 0?r:"auto";return n==="auto"&&([n,t]=function(i){if((i=i.trim()).length<=1)return["latex",i];let o;return[o,i]=w0(i),o?["latex",i]:i.startsWith("`")&&i.endsWith("`")?["ascii-math",i=i.substring(1,i.length-1)]:i.includes("\\")?["latex",i]:/\$.+\$/.test(i)?["latex",`\\text{${i}}`]:[void 0,i]}(t)),n==="ascii-math"?["ascii-math",mt(t=(t=(t=(t=(t=(t=t.replace(/\u2061/gu,"")).replace(/\u3016/gu,"{")).replace(/\u3017/gu,"}")).replace(/([^\\])sinx/g,"$1\\sin x")).replace(/([^\\])cosx/g,"$1\\cos x ")).replace(/\u2013/g,"-"),{inlineShortcuts:e==null?void 0:e.inlineShortcuts})]:["latex",t]}function mt(t,e){var r,n,i;if(!t)return"";let o,a=!1;const s=(r=e.inlineShortcuts)!==null&&r!==void 0?r:c1;if(a||!t.startsWith("^")&&!t.startsWith("_")||(o=Mn(t.slice(1),{inlineShortcuts:s,noWrap:!0}),t=t[0]+"{"+o.match+"}",t+=mt(o.rest,e),a=!0),!a&&(o=t.match(/^(sqrt|\u221A)(.*)/),o)&&(o=Mn(o[2],{inlineShortcuts:s,noWrap:!0}),t="\\sqrt{"+((n=o.match)!==null&&n!==void 0?n:"\\placeholder{}")+"}",t+=mt(o.rest,e),a=!0),!a&&(o=t.match(/^(\\cbrt|\u221B)(.*)/),o)&&(o=Mn(o[2],{inlineShortcuts:s,noWrap:!0}),t="\\sqrt[3]{"+((i=o.match)!==null&&i!==void 0?i:"\\placeholder{}")+"}",t+=mt(o.rest,e),a=!0),a||(o=t.match(/^abs(.*)/),o&&(o=Mn(o[1],{inlineShortcuts:s,noWrap:!0}),t="\\left|"+o.match+"\\right|",t+=mt(o.rest,e),a=!0)),a||(o=t.match(/^["\u201d\u201c](.*?)["\u201d\u201c](.*)/),o&&(t="\\text{"+o[1]+"}",t+=mt(o[2],e),a=!0)),a||(o=t.match(/^([^a-zA-Z\(\{\[\_\^\\\s"]+)(.*)/),o&&(t=hp(o[1],s),t+=mt(o[2],e),a=!0)),!a&&/^([fgh])[^a-zA-Z]/.test(t)&&(o=Mn(t.slice(1),{inlineShortcuts:s,noWrap:!0}),t=t[1]==="("?t[0]+"\\left("+o.match+"\\right)":t[0]+o.match,t+=mt(o.rest,e),a=!0),a||(o=t.match(/^([a-zA-Z]+)(.*)/),o&&(t=hp(o[1],s),t+=mt(o[2],e),a=!0)),!a)if(o=Mn(t,{inlineShortcuts:s,noWrap:!0}),o.match&&o.rest[0]==="/"){const l=Mn(o.rest.slice(1),{inlineShortcuts:s,noWrap:!0});l.match&&(t="\\frac{"+o.match+"}{"+l.match+"}"+mt(l.rest,e)),a=!0}else o.match&&(t=t.startsWith("(")?"\\left("+o.match+"\\right)"+mt(o.rest,e):o.match+mt(o.rest,e),a=!0);return a||(o=t.match(/^(\s+)(.*)$/),o&&(t=" "+mt(o[2],e),a=!0)),t}function Mn(t,e){let r="",n=t=t.trim(),i=t.charAt(0),o={"(":")","{":"}","[":"]"}[i];if(o){let a=1,s=1;for(;s<t.length&&a>0;)t[s]===i&&a++,t[s]===o&&a--,s++;a===0?(e.noWrap&&i==="("?r=mt(t.substring(1,s-1),e):(i==="{"&&o==="}"&&(i="\\{",o="\\}"),r="\\left"+i+mt(t.substring(1,s-1),e)+"\\right"+o),n=t.slice(Math.max(0,s))):(r=t.substring(1,s),n="")}else{let a=t.match(/^([a-zA-Z]+)/);if(a){let s=Oc(null,t,e.inlineShortcuts);if(s)return s=s.replace("_{#?}",""),s=s.replace("^{#?}",""),{match:s,rest:t.slice(s.length)}}if(a=t.match(/^([a-zA-Z])/),a)return{match:a[1],rest:t.slice(1)};if(a=t.match(/^(-)?\d+(\.\d*)?/),a)return{match:a[0],rest:t.slice(a[0].length)};/^\\(left|right)/.test(t)||(a=t.match(/^(\\[a-zA-Z]+)/),a&&(n=t.slice(a[1].length),r=a[1]))}return{match:r,rest:n}}function hp(t,e){let r=Oc(null,t,e);return r?(r=r.replace("_{#?}",""),r=r.replace("^{#?}",""),r+=" "):r=t,r}const d1=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function w0(t){const e=t.trim();for(const r of d1)if(e.startsWith(r[0])&&e.endsWith(r[1]))return[!0,e.substring(r[0].length,e.length-r[1].length)];return[!1,t]}const Yy=(t,e,r)=>(d1.some(n=>e.startsWith(n[0])&&e.endsWith(n[1]))||(e=`$$ ${e} $$`),e);class ae{constructor(e){ae._registry[e]=this}static onPaste(e,r,n){var i;const o=new ClipboardEvent("paste",{clipboardData:n.clipboardData,cancelable:!0});return!!(!((i=r.host)===null||i===void 0)&&i.dispatchEvent(o))&&ae._registry[e].onPaste(r,n)}static onCopy(e,r){if(!r.clipboardData)return;const n=e.model,i=n.selectionIsCollapsed?[0,n.lastOffset]:Xt(n.selection);let o=n.getAtoms(i);if(o.every(a=>a.mode==="text"||!a.mode))r.clipboardData.setData("text/plain",o.filter(a=>a instanceof Gn).map(a=>a.value).join(""));else if(o.every(a=>a.mode==="latex"))r.clipboardData.setData("text/plain",n.getAtoms(i,{includeChildren:!0}).map(a=>{var s;return(s=a.value)!==null&&s!==void 0?s:""}).join(""));else{let a;a=o.length===1&&o[0].verbatimLatex!==void 0?o[0].verbatimLatex:n.getValue(i,"latex-expanded"),r.clipboardData.setData("application/x-latex",a);try{r.clipboardData.setData("text/plain",e.options.onExport(e,a,i))}catch{}o.length!==1||o[0].type!=="root"&&o[0].type!=="group"||(o=o[0].body.filter(l=>l.type!=="first"));try{r.clipboardData.setData("application/json+mathlive",JSON.stringify(o.map(l=>l.toJson())))}catch{}const s=e.computeEngine;if(s)try{s.jsonSerializationOptions={metadata:["latex"]};const l=s.parse(a),u=JSON.stringify(l.json);u&&r.clipboardData.setData("application/json",u)}catch{}}r.preventDefault()}static insert(e,r,n,i={}){return ae._registry[e].insert(r,n,i)}onPaste(e,r){return!1}insert(e,r,n){return!1}}ae._registry={};const Tt={"\\ne":"<mo>&ne;</mo>","\\neq":"<mo>&neq;</mo>","\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"","\\mid":"","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"","\\rangle":"","\\lfloor":"","\\rfloor":"","\\lceil":"","\\rceil":"","\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};function Qa(t){return t.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function de(t,e){return t&&e.generateID?` extid="${t}"`:""}function e3(t,e,r){let n=!1;e=e??t.atoms.length;let i="",o="";const a=t.atoms[t.index];return t.index<e&&(a.type==="mord"||a.type==="macro")&&!a.isDigit()&&(o=Os(a,r),t.index+=1),o.length>0&&(n=!0,i=o,t.lastType!=="mi"&&t.lastType!=="mn"&&t.lastType!=="mtext"&&t.lastType!=="fence"||/^<mo>(.*)<\/mo>$/.test(i)||(i=`<mo>&#8290;</mo>${i}`),o.endsWith(">f</mi>")||o.endsWith(">g</mi>")?(i+="<mo>&#x2061;</mo>",t.lastType="applyfunction"):t.lastType=/^<mo>(.*)<\/mo>$/.test(i)?"mo":"mi",la(o,t,r)||(t.mathML+=i)),n}function p1(t){return t.index<t.atoms.length&&t.atoms[t.index].superscript&&t.atoms[t.index].type==="msubsup"}function la(t,e,r){let n=e.atoms[e.index-1];if(!n||(n.superscript||n.subscript||(p1(e)||function(s){return s.index<s.atoms.length&&s.atoms[s.index].subscript&&s.atoms[s.index].type==="msubsup"}(e))&&(n=e.atoms[e.index],e.index+=1),!n))return!1;const i=ne(n.superscript,r),o=ne(n.subscript,r);if(!i&&!o)return!1;let a="";return i&&o?a=`<msubsup>${t}${o}${i}</msubsup>`:i?a=`<msup>${t}${i}</msup>`:o&&(a=`<msub>${t}${o}</msub>`),e.mathML+=a,e.lastType="",!0}function t3(t,e,r){e=e??t.atoms.length;const n=t.index;let i="";for(;t.index<e&&t.atoms[t.index].mode==="text";)i+=t.atoms[t.index].value?t.atoms[t.index].value:" ",t.index+=1;return i.length>0&&(t.mathML+=`<mtext ${de(t.atoms[n].id,r)}
      >${i}</mtext>`,t.lastType="mtext",!0)}function r3(t,e,r){e=e??t.atoms.length;const n=t.index;let i="",o=function(a){let s=-1,l=a.index,u=!1,c=!1;for(;l<a.atoms.length&&!u&&!c;){const d=a.atoms[l];u=!d.isDigit(),c=!u&&d.superscript!==void 0,l++}return c&&(s=l-1),s}(t);for(o>=0&&o<e&&(e=o);t.index<e&&t.atoms[t.index].isDigit();)i+=t.atoms[t.index].asDigit(),t.index+=1;return!(i.length<=0||(i="<mn"+de(t.atoms[n].id,r)+">"+i+"</mn>",o<0&&p1(t)&&(o=t.index,t.index+=1),la(i,t,r)||(t.mathML+=i,t.lastType="mn"),0))}function n3(t,e,r){let n=!1;e=e??t.atoms.length;let i="",o="";if(t.index<e&&t.atoms[t.index].type==="mopen"){let a=!1,s=0;const l=t.index;let u=-1,c=l+1;for(;c<e&&!a;)t.atoms[c].type==="mopen"?s+=1:t.atoms[c].type==="mclose"&&(s-=1),s===-1&&(a=!0,u=c),c+=1;a&&(i="<mrow>",i+=Ki(t.atoms[l],r),i+=ne(t.atoms,r,l+1,u),i+=Ki(t.atoms[u],r),i+="</mrow>",t.lastType!=="mi"&&t.lastType!=="mn"&&t.lastType!=="mfrac"&&t.lastType!=="fence"||(i=`<mo>&#8290;</mo>${i}`),t.index=u+1,la(i,t,r)&&(n=!0,t.lastType="",i=""),o="fence")}return i.length>0&&(n=!0,t.mathML+=i,t.lastType=o),n}function i3(t,e,r){let n=!1;e=e??t.atoms.length;let i="",o="";const a=t.atoms[t.index];if(t.index<e&&(a.type==="mbin"||a.type==="mrel"))i+=Os(t.atoms[t.index],r),t.index+=1,o="mo";else if(t.index<e&&a.type==="mop"){if(a.subsupPlacement==="over-under"&&(a.superscript||a.subscript)){const s=Ki(a,r);a.superscript&&a.subscript?(i+="<munderover>"+s,i+=ne(a.subscript,r),i+=ne(a.superscript,r),i+="</munderover>"):a.superscript?(i+="<mover>"+s,i+=ne(a.superscript,r),i+="</mover>"):a.subscript&&(i+="<munder>"+s,i+=ne(a.subscript,r),i+="</munder>"),o="mo"}else{const s=t.atoms[t.index],l=s.value==="\\operatorname",u=l?'<mi class="MathML-Unit"'+de(s.id,r)+">"+Kc(s.value)+"</mi>":Ki(s,r);i+=u,l||/^<mo>(.*)<\/mo>$/.test(u)?o=l?"mi":"mo":(i+="<mo>&#x2061;</mo>",o="applyfunction")}t.lastType!=="mi"&&t.lastType!=="mn"||/^<mo>(.*)<\/mo>$/.test(i)||(i=`<mo>&#8290;</mo>${i}`),t.index+=1}return la(i,t,r)||i.length>0&&(n=!0,t.mathML+=i,t.lastType=o),n}function ne(t,e,r,n){const i={atoms:[],index:r??0,mathML:"",lastType:""};if(typeof t=="number"||typeof t=="boolean")i.mathML=t.toString();else if(typeof t=="string")i.mathML=t;else if(t instanceof C)i.mathML=Os(t,e);else if(Array.isArray(t)){i.atoms=t;let o=0;for(n=n||(t?t.length:0);i.index<n;)if(t3(i,n,e)||r3(i,n,e)||e3(i,n,e)||i3(i,n,e)||n3(i,n,e))o+=1;else if(i.index<n){let a=Os(i.atoms[i.index],e);i.lastType==="mn"&&a.length>0&&i.atoms[i.index].type==="genfrac"&&(a="<mo>&#x2064;</mo>"+a),i.atoms[i.index].type==="genfrac"?i.lastType="mfrac":i.lastType="",i.index+=1,la(a,i,e)?o+=2:a.length>0&&(i.mathML+=a,o+=1)}o>1&&(i.mathML="<mrow>"+i.mathML+"</mrow>")}return i.mathML}function Ki(t,e){let r="";const n=Kc(t.value);return n&&(r="<mo"+de(t.id,e)+">"+n+"</mo>"),r}function Kc(t){if(!t)return"";if(typeof t=="string")return Qa(t);if(!Array.isArray(t)&&typeof t.body=="string")return Qa(t.body);let e="";for(const r of t)typeof r.value=="string"&&(e+=r.value);return Qa(e)}function Os(t,e){var r,n,i,o,a,s,l,u,c,d,p,f,g,v,k,b,y,m,h,w,x,S,M,D,A;const F={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:""},H={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"","\\cdotp":"","\\ldots":"","\\cdots":"","\\ddots":"","\\vdots":"","\\ldotp":"."},Ve={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5};let ct,Ne,Z,J,E,O,L="",ee="",Q=(n={cal:"script",frak:"fraktur",bb:"double-struck",scr:"script",cmtt:"monospace",cmss:"sans-serif"}[(r=t.fontFamily)!==null&&r!==void 0?r:t.font])!==null&&n!==void 0?n:"";Q&&(Q=` mathvariant="${Q}"`);const{command:ce}=t;if(t.mode==="text")L=`<mi${de(t.id,e)}>${t.value}</mi>`;else switch(t.type){case"first":case"line":case"overlap":case"msubsup":case"phantom":case"composition":case"rule":case"chem":case"error":break;case"group":case"root":L=Tt[t.command]?Tt[t.command]:ne(t.body,e);break;case"array":if((t.leftDelim&&t.leftDelim!=="."||t.rightDelim&&t.rightDelim!==".")&&(L+="<mrow>",t.leftDelim&&t.leftDelim!=="."&&(L+="<mo>"+(Tt[t.leftDelim]||t.leftDelim)+"</mo>")),L+="<mtable",t.colFormat){for(L+=' columnalign="',Z=0;Z<t.colFormat.length;Z++)t.colFormat[Z].align&&(L+={l:"left",c:"center",r:"right"}[t.colFormat[Z].align]+" ");L+='"'}for(L+=">",Ne=0;Ne<t.array.length;Ne++){for(L+="<mtr>",ct=0;ct<t.array[Ne].length;ct++)L+="<mtd>"+ne(t.array[Ne][ct],e)+"</mtd>";L+="</mtr>"}L+="</mtable>",(t.leftDelim&&t.leftDelim!=="."||t.rightDelim&&t.rightDelim!==".")&&(t.rightDelim&&t.rightDelim!=="."&&(L+="<mo>"+(Tt[t.leftDelim]||t.rightDelim)+"</mo>"),L+="</mrow>");break;case"genfrac":(t.leftDelim||t.rightDelim)&&(L+="<mrow>"),t.leftDelim&&t.leftDelim!=="."&&(L+="<mo"+de(t.id,e)+">"+(Tt[t.leftDelim]||t.leftDelim)+"</mo>"),t.hasBarLine?(L+="<mfrac>",L+=ne(t.above,e)||"<mi>&nbsp;</mi>",L+=ne(t.below,e)||"<mi>&nbsp;</mi>",L+="</mfrac>"):(L+="<mtable"+de(t.id,e)+">",L+="<mtr>"+ne(t.above,e)+"</mtr>",L+="<mtr>"+ne(t.below,e)+"</mtr>",L+="</mtable>"),t.rightDelim&&t.rightDelim!=="."&&(L+="<mo"+de(t.id,e)+">"+(Tt[t.rightDelim]||t.rightDelim)+"</mo>"),(t.leftDelim||t.rightDelim)&&(L+="</mrow>");break;case"surd":t.hasEmptyBranch("above")?(L+="<msqrt"+de(t.id,e)+">",L+=ne(t.body,e),L+="</msqrt>"):(L+="<mroot"+de(t.id,e)+">",L+=ne(t.body,e),L+=ne(t.above,e),L+="</mroot>");break;case"leftright":L="<mrow>",t.leftDelim&&t.leftDelim!=="."&&(L+="<mo"+de(t.id,e)+">"+((i=Tt[t.leftDelim])!==null&&i!==void 0?i:t.leftDelim)+"</mo>"),t.body&&(L+=ne(t.body,e)),t.rightDelim&&t.rightDelim!=="."&&(L+="<mo"+de(t.id,e)+">"+((o=Tt[t.rightDelim])!==null&&o!==void 0?o:t.rightDelim)+"</mo>"),L+="</mrow>";break;case"sizeddelim":case"delim":L+='<mo separator="true"'+de(t.id,e)+">"+(Tt[t.delim]||t.delim)+"</mo>";break;case"accent":L+='<mover accent="true"'+de(t.id,e)+">",L+=ne(t.body,e),L+="<mo>"+(Tt[ce]||t.accent)+"</mo>",L+="</mover>";break;case"overunder":E=t.above,J=t.below,(t.svgAbove||E)&&(t.svgBelow||J)?O=t.body:E&&E.length>0?(O=t.body,!((s=(a=t.body)===null||a===void 0?void 0:a[0])===null||s===void 0)&&s.below?(J=t.body[0].below,O=t.body[0].body):((u=(l=t.body)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.type)==="first"&&(!((d=(c=t.body)===null||c===void 0?void 0:c[1])===null||d===void 0)&&d.below)&&(J=t.body[1].below,O=t.body[1].body)):J&&J.length>0&&(O=t.body,!((f=(p=t.body)===null||p===void 0?void 0:p[0])===null||f===void 0)&&f.above?(E=t.body[0].above,O=t.body[0].body):((v=(g=t.body)===null||g===void 0?void 0:g[0])===null||v===void 0?void 0:v.type)==="first"&&(!((b=(k=t.body)===null||k===void 0?void 0:k[1])===null||b===void 0)&&b.above)&&(E=t.body[1].overscript,O=t.body[1].body)),(t.svgAbove||E)&&(t.svgBelow||J)?(L+=`<munderover ${Q} ${de(t.id,e)}>`,L+=(y=F[t.svgBody])!==null&&y!==void 0?y:ne(O,e),L+=(m=F[t.svgBelow])!==null&&m!==void 0?m:ne(J,e),L+=(h=F[t.svgAbove])!==null&&h!==void 0?h:ne(E,e),L+="</munderover>"):t.svgAbove||E?(L+=`<mover ${Q} ${de(t.id,e)}>`+((w=F[t.svgBody])!==null&&w!==void 0?w:ne(O,e)),L+=(x=F[t.svgAbove])!==null&&x!==void 0?x:ne(E,e),L+="</mover>"):(t.svgBelow||J)&&(L+=`<munder ${Q} ${de(t.id,e)}>`+((S=F[t.svgBody])!==null&&S!==void 0?S:ne(O,e)),L+=(M=F[t.svgBelow])!==null&&M!==void 0?M:ne(J,e),L+="</munder>");break;case"placeholder":case"mord":{L=H[ce]||ce||(typeof t.value=="string"?t.value:"");const _e=ce?ce.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null;_e?L="&#x"+_e[1]+";":L.length>0&&L.startsWith("\\")&&(L=typeof t.value=="string"&&t.value.charCodeAt(0)>255?"&#x"+("000000"+t.value.charCodeAt(0).toString(16)).slice(-4)+";":typeof t.value=="string"?t.value.charAt(0):"");const Rr=/\d/.test(L)?"mn":"mi";L=`<${Rr}${Q}${de(t.id,e)}>${Qa(L)}</${Rr}>`;break}case"mbin":case"mrel":case"minner":L=ce&&H[ce]?"<mi"+de(t.id,e)+">"+H[ce]+"</mi>":ce&&Tt[ce]?"<mo"+de(t.id,e)+">"+Tt[ce]+"</mo>":Ki(t,e);break;case"mpunct":L='<mo separator="true"'+de(t.id,e)+">"+((D=Tt[ce])!==null&&D!==void 0?D:ce)+"</mo>";break;case"mop":t.body!==""&&(L="<mo"+de(t.id,e)+">",L+=ce==="\\operatorname"?t.body:ce||t.body,L+="</mo>");break;case"box":L='<menclose notation="box"',t.backgroundcolor&&(L+=' mathbackground="'+t.backgroundcolor+'"'),L+=de(t.id,e)+">"+ne(t.body,e)+"</menclose>";break;case"spacing":L+='<mspace width="'+((A=Ve[ce])!==null&&A!==void 0?A:0)+'em"/>';break;case"enclose":L='<menclose notation="';for(const _e in t.notation)Object.prototype.hasOwnProperty.call(t.notation,_e)&&t.notation[_e]&&(L+=ee+_e,ee=" ");L+=de(t.id,e)+'">'+ne(t.body,e)+"</menclose>";break;case"space":L+="&nbsp;";break;case"mopen":case"mclose":L+=Ki(t,e);break;case"macro":{const _e=t.command+Kc(t.macroArgs);_e&&(L+=`<mo ${de(t.id,e)}>${_e}</mo>`)}break;case"latexgroup":case"tooltip":L+=ne(t.body,e);break;case"latex":L+="<mtext"+de(t.id,e)+">"+t.value+"</mtext>"}return L}const ei={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"eye ","\\sum":"Summation ","\\prod":"Product ",a:'<phoneme alphabet="ipa" ph="e">a</phoneme>',A:'capital <phoneme alphabet="ipa" ph="e">A</phoneme>',"+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","":"","":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"};function no(t){let e=0;if(je(t))for(const r of t)r.type!=="first"&&(e+=1);return e===1}function mp(t){let e="";if(je(t))for(const r of t)r.type!=="first"&&typeof r.value=="string"&&(e+=r.value);return e}function fe(t,e,r){var n,i,o,a;function s(d){return"<emphasis>"+d+"</emphasis>"}if(!e)return"";let l="";if(je(e)){let d=!1,p=!1;for(let f=0;f<e.length;f++)e[f].mode!=="text"&&(p=!1),f<e.length-2&&e[f].type==="mopen"&&e[f+2].type==="mclose"&&e[f+1].type==="mord"?(l+=" of ",l+=s(fe(t,e[f+1],r)),f+=2):e[f].mode==="text"?p?l+=(n=e[f].value)!==null&&n!==void 0?n:" ":(p=!0,l+=fe("text",e[f],r)):e[f].isDigit()?d?l+=e[f].asDigit():(d=!0,l+=fe(t,e[f],r)):(d=!1,l+=fe(t,e[f],r))}else if(e.mode==="text")e.id&&t==="math"&&(l+='<mark name="'+e.id.toString()+'"/>'),l+=e.value;else{e.id&&t==="math"&&(l+='<mark name="'+e.id.toString()+'"/>');let d="",p="",f="",g=!1;switch(e.type){case"group":case"root":l+=fe("math",e.body,r);break;case"genfrac":if(d=fe("math",e.above,r),p=fe("math",e.below,r),no(e.above)&&no(e.below)){const v={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[mp(e.above)+"/"+mp(e.below)];v?l=v:l+=d+" over "+p}else l+=' the fraction <break time="150ms"/>'+d+', over <break time="150ms"/>'+p+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(f=fe("math",e.body,r),e.hasEmptyBranch("above"))l+=no(e.body)?" the square root of "+f+" , ":' the square root of <break time="200ms"/>'+f+'. <break time="200ms"/> End square root';else{let v=fe("math",e.above,r);v=v.trim();const k=v.replace(/<mark([^/]*)\/>/g,"");l+=k==="3"?' the cube root of <break time="200ms"/>'+f+'. <break time="200ms"/> End cube root':k==="n"?' the nth root of <break time="200ms"/>'+f+'. <break time="200ms"/> End root':' the root with index: <break time="200ms"/>'+v+', of <break time="200ms"/>'+f+'. <break time="200ms"/> End root'}break;case"leftright":{const v=e;l+=(i=v.leftDelim?ei[v.leftDelim]:void 0)!==null&&i!==void 0?i:v.leftDelim,l+=fe("math",e.body,r),l+=(o=v.rightDelim?ei[v.rightDelim]:void 0)!==null&&o!==void 0?o:v.rightDelim}break;case"rule":case"overunder":case"overlap":break;case"placeholder":l+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{const{command:v}=e;if(v==="\\mathbin"||v==="\\mathrel"||v==="\\mathopen"||v==="\\mathclose"||v==="\\mathpunct"||v==="\\mathord"||v==="\\mathinner"){l=fe(t,e.body,r);break}let k=e.isDigit()?e.asDigit():e.value,b=e.command;if(e.type!=="delim"&&e.type!=="sizeddelim"||(b=e.value,k=b),t==="text")l+=k;else{if(e.type==="mbin"&&(l+='<break time="150ms"/>'),k){const y=ei[k]||(b?ei[b.trim()]:"");if(y)l+=" "+y;else{const m=b?function(h){let w="";return h.startsWith("\\")&&(w=" "+h.replace("\\","")+" "),w}(b.trim()):"";l+=m||(c=k,r.textToSpeechMarkup?/[a-z]/.test(c)?` <say-as interpret-as="character">${c}</say-as>`:/[A-Z]/.test(c)?`capital <say-as interpret-as="character">${c.toLowerCase()}</say-as>`:c:/[a-z]/.test(c)?" '"+c.toUpperCase()+"'":/[A-Z]/.test(c)?" 'capital "+c.toUpperCase()+"'":c)}}else l+=fe("math",e.body,r);e.type==="mbin"&&(l+='<break time="150ms"/>')}break}case"mop":if(e.value!==""){const v=e.command;if(v==="\\sum")if(e.hasEmptyBranch("superscript")||e.hasEmptyBranch("subscript"))if(e.hasEmptyBranch("subscript"))l+=" the summation of";else{let k=fe("math",e.subscript,r);k=k.trim(),l+=' the summation from <break time="200ms"/>'+k+'<break time="200ms"/> of <break time="150ms"/>',g=!0}else{let k=fe("math",e.superscript,r);k=k.trim();let b=fe("math",e.subscript,r);b=b.trim(),l+=' the summation from <break time="200ms"/>'+b+'<break time="200ms"/> to  <break time="200ms"/>'+k+'<break time="200ms"/> of <break time="150ms"/>',g=!0}else if(v==="\\prod")if(e.hasEmptyBranch("superscript")||e.hasEmptyBranch("subscript"))if(e.hasEmptyBranch("subscript"))l+=" the product  of ";else{let k=fe("math",e.subscript,r);k=k.trim(),l+=' the product from <break time="200ms"/>'+k+'<break time="200ms"/> of <break time="150ms"/>',g=!0}else{let k=fe("math",e.superscript,r);k=k.trim();let b=fe("math",e.subscript,r);b=b.trim(),l+=' the product from <break time="200ms"/>'+b+'<break time="200ms"/> to <break time="200ms"/>'+k+'<break time="200ms"/> of <break time="150ms"/>',g=!0}else if(v==="\\int")if(e.hasEmptyBranch("superscript")||e.hasEmptyBranch("subscript"))l+=' the integral of <break time="200ms"/> ';else{let k=fe("math",e.superscript,r);k=k.trim();let b=fe("math",e.subscript,r);b=b.trim(),l+=' the integral from <break time="200ms"/>'+s(b)+'<break time="200ms"/> to <break time="200ms"/>'+s(k)+' <break time="200ms"/> of ',g=!0}else typeof e.value=="string"?l+=((a=ei[e.value])!==null&&a!==void 0?a:e.command?ei[e.command]:void 0)||" "+e.value:e.command&&(e.command==="\\mathop"?l+=fe("math",e.body,r):e.command==="\\operatorname"?l+=(u=e.body)?u.map(k=>k.value).join(""):"":l+=e.command.startsWith("\\")?" "+e.command.slice(1):" "+e.command)}break;case"enclose":f=fe("math",e.body,r),l+=" crossed out "+f+". End crossed out."}if(!g&&!e.hasEmptyBranch("superscript")){let v=fe(t,e.superscript,r);v=v.trim();const k=v.replace(/<[^>]*>/g,"");if(no(e.superscript)){if(t==="math"){const b=function(y){if(je(y)){for(const m of y)if(m.type!=="first"&&m.id)return m.id.toString()}return""}(e.superscript);b&&(l+='<mark name="'+b+'"/>')}k===""?l+=" prime ":k==="2"?l+=" squared ":k==="3"?l+=" cubed ":Number.isNaN(Number.parseInt(k))?l+=" to the "+v+"; ":l+=' to the <say-as interpret-as="ordinal">'+k+"</say-as> power; "}else Number.isNaN(Number.parseInt(k))?l+=" raised to the "+v+"; ":l+=' raised to the <say-as interpret-as="ordinal">'+k+"</say-as> power; "}if(!g&&!e.hasEmptyBranch("subscript")){let v=fe("math",e.subscript,r);v=v.trim(),l+=no(e.subscript)?" sub "+v:" subscript "+v+". End subscript. "}}var u,c;return l}function Co(t,e){var r;const n={...e,textToSpeechRulesOptions:{...e.textToSpeechRulesOptions}};if(n.textToSpeechRules==="sre"&&"sre"in globalThis){const o=ne(t,n);return o?(n.textToSpeechMarkup&&(n.textToSpeechRulesOptions=(r=n.textToSpeechRulesOptions)!==null&&r!==void 0?r:{},n.textToSpeechRulesOptions.markup=n.textToSpeechMarkup,n.textToSpeechRulesOptions.markup==="ssml"&&(n.textToSpeechRulesOptions.markup="ssml_step"),n.textToSpeechRulesOptions.rate=n.speechEngineRate),n.textToSpeechRulesOptions&&globalThis.sre.System.getInstance().setupEngine(n.textToSpeechRulesOptions),globalThis.sre.System.getInstance().toSpeech(o)):""}let i=fe("math",t,n);if(n.textToSpeechMarkup==="ssml"){let o="";n.speechEngineRate&&(o='<prosody rate="'+n.speechEngineRate+'">'),i='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+o+"<p><s>"+i+"</s></p>"+(o?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else i=n.textToSpeechMarkup==="mac"&&Xo()==="macos"?i.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):i.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return i}function Ue(t,e,r,n){const i=e.split(" ");for(const o of i){const a=o.match(/(.*):(.*)/);if(a){const s=n??{};a[2]==="active"?s.passive=!1:s[a[2]]=!0,t.addEventListener(a[1],r,s)}else t.addEventListener(o,r,n)}}function er(t,e,r,n){const i=e.split(" ");for(const o of i){const a=o.match(/(.*):(.*)/);if(a){const s=n??{};a[2]==="active"?s.passive=!1:s[a[2]]=!0,t.removeEventListener(a[1],r,s)}else t.removeEventListener(o,r,n)}}function h1(t){var e;Fr();let r=document.getElementById(t);return r?r.dataset.refcount=Number(Number.parseInt((e=r.getAttribute("data-refcount"))!==null&&e!==void 0?e:"0")+1).toString():(r=document.createElement("div"),r.setAttribute("aria-hidden","true"),r.dataset.refcount="1",r.id=t,document.body.append(r)),r}function fp(t){var e;if(!t)return;const r=Number.parseInt((e=t.getAttribute("data-refcount"))!==null&&e!==void 0?e:"0");r<=1?t.remove():t.dataset.refcount=Number(r-1).toString()}function Tn(t){var e;return((e=t.element)===null||e===void 0?void 0:e.mathfield)===t}function zo(t){const e=function(n){var i,o;return(o=(i=n.querySelector(".ML__caret"))!==null&&i!==void 0?i:n.querySelector(".ML__text-caret"))!==null&&o!==void 0?o:n.querySelector(".ML__latex-caret")}(t);if(!e)return null;const r=e.getBoundingClientRect();return{x:r.right,y:r.bottom,height:r.height}}function o3(t){var e;if(!t.parent)return"root";let r=(e=t.parent.id)!==null&&e!==void 0?e:"";return r+=typeof t.treeBranch=="string"?"-"+t.treeBranch:`-${t.treeBranch[0]}/${t.treeBranch[0]}`,r}function m1(t,e){if(!e)return null;const r=t.field.getBoundingClientRect(),n=e.right-e.left,i=e.bottom-e.top,o=Math.ceil(e.left-r.left+t.field.scrollLeft),a=Math.ceil(e.top-r.top);return{left:o,right:o+n,top:a,bottom:a+i}}function f1(t){const e=t.getBoundingClientRect(),r=parseInt(getComputedStyle(t).marginRight),n={top:e.top-1,bottom:e.bottom,left:e.left,right:e.right-1+r};if(t.children.length===0||t.tagName.toUpperCase()==="SVG")return n;for(const i of t.children)if(i.nodeType===1&&"atomId"in i.dataset&&!i.classList.contains("pstrut")){const o=f1(i);n.left=Math.min(n.left,o.left),n.right=Math.max(n.right,o.right),n.top=Math.min(n.top,o.top),n.bottom=Math.max(n.bottom,o.bottom)}return n}function ua(t,e){var r,n;if(!e.id)return null;let i=(n=(r=t.atomBoundsCache)===null||r===void 0?void 0:r.get(e.id))!==null&&n!==void 0?n:null;if(i!==null)return i;const o=t.field.querySelector(`[data-atom-id="${e.id}"]`);return i=o?f1(o):null,t.atomBoundsCache&&(i?t.atomBoundsCache.set(e.id,i):t.atomBoundsCache.delete(e.id)),i??null}function y1(t,e){return t.model.selection.ranges.reduce((r,n)=>r.concat(...function(i,o,a){const s=new Map;for(const l of i.model.getAtoms(o,{includeChildren:!0})){if(a!=null&&a.excludeAtomsWithBackground&&l.style.backgroundColor)break;const u=m1(i,ua(i,l));if(u){const c=o3(l);if(s.has(c)){const d=s.get(c);s.set(c,{left:Math.min(d.left,u.left),right:Math.max(d.right,u.right),top:Math.min(d.top,u.top),bottom:Math.max(d.bottom,u.bottom)})}else s.set(c,u)}}return[...s.values()]}(t,n,e)),[])}function a3(t,e){return t==="*"||e==="none"||(e==="same-origin"?!globalThis.origin||t===globalThis.origin:typeof e=="function"&&e(t))}function yp(t){let e=0,r=0;const n=t.offsetWidth,i=t.offsetHeight;for(;t instanceof HTMLElement;)e+=t.offsetTop,r+=t.offsetLeft,t=t.offsetParent;return new DOMRect(r,e,n,i)}const s3={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams"],"ams-italic":["AMS-Regular","ML__ams"],"ams-bolditalic":["AMS-Regular","ML__ams"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak"],"fraktur-italic":["Fraktur-Regular","ML__frak"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb"],"double-struck-italic":["AMS-Regular","ML__bb"],"double-struck-bolditalic":["AMS-Regular","ML__bb"]},gp={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^\u2019\u2018]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},g1=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,l3=[/^[a-z]$/,/^[A-Z]$/,g1,/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/],u3={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]};function iu(t){if(!t)return"";const{style:e}=t;if(e.variant===void 0)return"";let r=e.variant;return e.variantStyle&&e.variantStyle!=="up"&&(r+="-"+e.variantStyle),r}function ti(t){return[xe(t.map(e=>e[0])),t.map(e=>e[1]).some(e=>e===!0)]}new class extends Nt{constructor(){super("math")}createAtom(t,e,r){var n,i,o,a,s;const l=e.getDefinition(t,"math");if(l===null)return new C("mord",e,{mode:"math",command:t,value:t,style:r});if(l.definitionType==="symbol"){const c=new C((n=l.type)!==null&&n!==void 0?n:"mord",e,{mode:"math",command:(i=l.command)!==null&&i!==void 0?i:t,value:String.fromCodePoint(l.codepoint),style:r});return(o=l.isFunction)!==null&&o!==void 0&&o&&(c.isFunction=!0),t.startsWith("\\")&&(c.verbatimLatex=t),c}const u=new C("mord",e,{mode:"math",command:(a=l.command)!==null&&a!==void 0?a:t,value:t,style:r});return(s=l.isFunction)!==null&&s!==void 0&&s&&(u.isFunction=!0),t.startsWith("\\")&&(u.verbatimLatex=t),u}serialize(t,e){const{parent:r}=t[0],n=r==null?void 0:r.computedStyle.fontSize;return xe(Ut(t,"fontSize").map(i=>{const o=function(s,l){const{parent:u}=s[0],c=u==null?void 0:u.computedStyle.backgroundColor;return xe(Ut(s,"backgroundColor").map(d=>{var p,f;let g=function(k,b){const{parent:y}=k[0],m=y==null?void 0:y.computedStyle.color;return xe(Ut(k,"color").map(h=>{var w,x;const S=function(D,A){var F;const{parent:H}=D[0],Ve=iu(H),ct=(F=H==null?void 0:H.mode)!==null&&F!==void 0?F:"math";return xe(Ut(D,"variant").map(Ne=>{const Z=iu(Ne[0]);if(Ne.every(E=>{const O=E.context.getDefinition(E.command,ct);return!(!O||O.definitionType==="function"||!O.variant)&&iu(E)===Z}))return xe(Ne.map(E=>C.serialize(E,A)));let J="";return Z&&Z!==Ve&&(J={calligraphic:"\\mathcal{",fraktur:"\\mathfrak{","double-struck":"\\mathbb{",script:"\\mathscr{",monospace:"\\mathtt{","sans-serif":"\\mathsf{",normal:"\\mathrm{","normal-italic":"\\mathnormal{","normal-bold":"\\mathbf{","normal-bolditalic":"\\mathbfit{",ams:"","ams-italic":"\\mathit{","ams-bold":"\\mathbf{","ams-bolditalic":"\\mathbfit{",main:"","main-italic":"\\mathit{","main-bold":"\\mathbf{","main-bolditalic":"\\mathbfit{"}[Z]),J?J+xe(Ne.map(E=>C.serialize(E,A)))+"}":xe(Ne.map(E=>C.serialize(E,A)))}))}(h,b),M=h[0].computedStyle;return(w=b.skipStyles)!==null&&w!==void 0&&w||!M.color||y&&m===M.color?S:"\\textcolor{"+((x=M.verbatimColor)!==null&&x!==void 0?x:M.color)+"}{"+S+"}"}))}(d,l);const v=d[0].computedStyle;return(p=l.skipStyles)!==null&&p!==void 0&&p||!g.trim()||!v.backgroundColor||u&&c===v.backgroundColor||!(d.length>0)&&d[0]instanceof nn||(g=`\\ensuremath{${g}}`,g=`\\colorbox{${(f=v.verbatimBackgroundColor)!==null&&f!==void 0?f:v.backgroundColor}}{${g}}`),g}))}(i,e),a=i[0].computedStyle.fontSize;return!a||r&&n===a?o:"\\"+["","tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"][a]+" "+o}))}applyStyle(t,e){if(e.variant===void 0)return"";const r=e.letterShapeStyle!=="auto"&&e.letterShapeStyle?e.letterShapeStyle:"tex";let{variant:n}=e,{variantStyle:i}=e;n==="normal"&&!i&&/[\u00A3\u0131\u0237]/.test(t.value)&&(n="main",i="italic"),n!=="normal"||i||t.value.length!==1||l3.forEach((l,u)=>{l.test(t.value)&&u3[r][u]==="it"&&(i="italic")}),i==="up"&&(i=void 0);const o=i?n+"-"+i:n,[a,s]=s3[o];return gp[n]&&!gp[n].test(t.value)?(t.value=function(l,u,c){if(!/[A-Za-z\d]/.test(l)||!u&&!c)return l;const d=l.codePointAt(0);if(d===void 0)return l;for(const p of Ym)if((!u||p.variant===u)&&(!c||p.style===c)&&d>=p.offset&&d<p.offset+p.len){const f=p.start+d-p.offset;return String.fromCodePoint(y0[f]||f)}return l}(t.value,n,i),null):(g1.test(t.value)&&(t.classes+=" lcGreek"),s&&(t.classes+=" "+s),a)}};const bp={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"};function bn(t){let e=0;for(let r=0;r<t.length;r++)e=Math.imul(31,e)+t.charCodeAt(r)|0;return Math.abs(e)}function vn(t,e,r){var n,i;if(Fr(),!e)return null;let o=(n=t==null?void 0:t.getRootNode())!==null&&n!==void 0?n:document==null?void 0:document.head;if(!o)return null;o===document&&(o=document.head);const a=o.querySelector(`style[data-id="${r}"]`);if(a){const s=Number.parseFloat((i=a.getAttribute("data-refcount"))!==null&&i!==void 0?i:"0");a.dataset.refcount=Number(s+1).toString()}else{const s=document.createElement("style");s.dataset.id=r,s.dataset.refcount="1",s.append(document.createTextNode(e)),o.appendChild(s)}return{release:()=>{var s;const l=document.head.querySelector(`style[data-id="${r}"]`);if(l){const u=Number.parseFloat((s=l.getAttribute("data-refcount"))!==null&&s!==void 0?s:"0");u===1?l.remove():l.dataset.refcount=Number(u-1).toString()}}}}function b1(t){const e=t.split("+"),r={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:e.pop()};return e.includes("shift")&&(r.shift=!0),e.includes("alt")&&(r.alt=!0),e.includes("ctrl")&&(r.ctrl=!0),e.includes("cmd")&&(r.cmd=!0),e.includes("win")&&(r.win=!0),e.includes("meta")&&(r.meta=!0),r}function Ya(t){let e="";return t.shift&&(e+="shift+"),t.alt&&(e+="alt+"),t.ctrl&&(e+="ctrl+"),t.cmd&&(e+="cmd+"),t.win&&(e+="win+"),t.meta&&(e+="meta+"),e+t.key}new class extends Nt{constructor(){super("text")}createAtom(t,e,r){const n=e.getDefinition(t,"text");return n&&n.definitionType==="symbol"?new Gn(t,String.fromCodePoint(n.codepoint),r??{},e):null}serialize(t,e){var r;let[n,i]=function(o,a){return ti(Ut(o,"backgroundColor").map(s=>{var l,u;const[c,d]=function(f,g){var v;if(!f||f.length===0)return["",!1];const k=(v=f[0].parent)===null||v===void 0?void 0:v.style.color;return ti(Ut(f,"color").map(b=>{var y,m;const[h,w]=function(x,S){return function(M,D){return ti(Ut(M,"fontFamily").map(A=>{var F,H;const[Ve,ct]=function(Z,J){return ti(Ut(Z,"fontSize").map(E=>{var O,L;const[ee,Q]=function(_e,Rr){return ti(Ut(_e,"fontSeries").map(ur=>{const[cr,I1]=function(j1,V1){return ti(Ut(j1,"fontShape").map(Ml=>{const[Zn,H1]=function(U1,W1){return[xe(U1.map(J1=>C.serialize(J1,W1))),!0]}(Ml,V1),{fontShape:Ui}=Ml[0].style;return Ui==="it"?["\\textit{"+Zn+"}",!1]:Ui==="sl"?["\\textsl{"+Zn+"}",!1]:Ui==="sc"?["\\textsc{"+Zn+"}",!1]:Ui==="n"?["\\textup{"+Zn+"}",!1]:Ui?[`{\\fontshape{${Ml[0].style.fontShape}}${Zn}`,!1]:[Zn,H1]}))}(ur,Rr),{fontSeries:Hi}=ur[0].style;return Hi==="b"?[`\\textbf{${cr}}`,!1]:Hi==="l"?[`\\textlf{${cr}}`,!1]:Hi==="m"?[`\\textmd{${cr}}`,!1]:Hi?[`\\fontseries{${Hi}}${cr}`,!1]:[cr,I1]}))}(E,J),ce=(L=["","tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"][(O=E[0].style.fontSize)!==null&&O!==void 0?O:""])!==null&&L!==void 0?L:"";return ce?[`{\\${ce} ${ee}}`,Q]:[ee,Q]}))}(A,D),Ne=(H={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[(F=A[0].style.fontFamily)!==null&&F!==void 0?F:""])!==null&&H!==void 0?H:"";return Ne?[`\\${Ne}{${Ve}}`,!1]:A[0].style.fontFamily?[`\\fontfamily{${A[0].style.fontFamily}}${Ve}`,ct]:[Ve,ct]}))}(x,S)}(b,g);return(y=g.skipStyles)!==null&&y!==void 0&&y||!b[0].style.color||b[0].style.color==="none"||k===b[0].style.color?[h,w]:[`\\textcolor{${(m=b[0].style.verbatimColor)!==null&&m!==void 0?m:b[0].style.color}}{${h}}`,!1]}))}(s,a),p=s[0].computedStyle;return(l=a.skipStyles)!==null&&l!==void 0&&l||!p.backgroundColor||p.backgroundColor==="none"?[c,d]:[`\\colorbox{${(u=p.verbatimBackgroundColor)!==null&&u!==void 0?u:p.backgroundColor}}{${c}}`,!1]}))}(t,e);return((r=e.skipModeCommand)!==null&&r!==void 0&&r)===!0&&(i=!1),i&&(n=`\\text{${n}}`),n}applyStyle(t,e){var r,n,i,o,a,s;const{fontFamily:l}=e;if(bp[l]?t.classes+=(r=" "+bp[l])!==null&&r!==void 0?r:"":l&&t.setStyle("font-family",l),e.fontShape&&(t.classes+=" ",t.classes+=(n={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[e.fontShape])!==null&&n!==void 0?n:""),e.fontSeries){const u=e.fontSeries.match(/(.?[lbm])?(.?[cx])?/);u&&(t.classes+=" ",t.classes+=(o={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[(i=u[1])!==null&&i!==void 0?i:""])!==null&&o!==void 0?o:"",t.classes+=" ",t.classes+=(s={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[(a=u[2])!==null&&a!==void 0?a:""])!==null&&s!==void 0?s:"")}return"Main-Regular"}},new class extends Nt{constructor(){super("latex")}createAtom(t,e,r){return new ze(t,e)}serialize(t,e){return t.filter(r=>r instanceof ze&&!r.isSuggestion).map(r=>r.value).join("")}applyStyle(){return null}};const v1=_0()==="apple"?{id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","&","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," "," "," "],Minus:["-","_","",""],Equal:["=","+","",""],BracketLeft:["[","{","",""],BracketRight:["]","}","",""],Backslash:["\\","|","",""],Semicolon:[";",":","",""],Quote:["'",'"',"",""],Backquote:["`","","`","`"],Comma:[",","<","",""],Period:[".",">","",""],Slash:["/","?","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["","","",""],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}}:_0()==="windows"?{id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","&","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," ","",""],Minus:["-","_","",""],Equal:["=","+","",""],BracketLeft:["[","{","",""],BracketRight:["]","}","",""],Backslash:["\\","|","",""],Semicolon:[";",":","",""],Quote:["'",'"',"",""],Backquote:["`","~","",""],Comma:[",","<","",""],Period:[".",">","",""],Slash:["/","?","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}}:{id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|",""],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},c3={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},Ks=[];function _0(){switch(Xo()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function hr(t){t.platform&&t.platform!==_0()||Ks.push(t)}function Qo(){return Ks[0]}hr(v1),hr({id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","","|"],KeyM:[",","?","",""],KeyN:["n","N","~",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["","2","",""],Digit3:['"',"3","",""],Digit4:["'","4","",""],Digit5:["(","5","{","["],Digit6:["","6","",""],Digit7:["","7","",""],Digit8:["!","8","",""],Digit9:["","9","",""],Digit0:["","0","",""],Space:[" "," "," "," "],Minus:[")","","}","]"],Equal:["-","_","",""],BracketLeft:["^","","",""],BracketRight:["$","*","",""],Backslash:["`","","@","#"],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["<",">","",""],Comma:[";",".","",""],Period:[":","/","","\\"],Slash:["=","+","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","",""],NumpadEqual:["=","=","=","="]}}),hr({id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C",""," "],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H",""," "],KeyI:["i","I"," "," "],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L"," ",""],KeyM:["m","M","",""],KeyN:["n","N"," ",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R",""," "],KeyS:["s","S",""," "],KeyT:["t","T","",""],KeyU:["u","U"," "," "],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y",""," "],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&",""," "],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," "," "," "],Minus:["'","?","",""],Equal:["","","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","~",""],Quote:["","","{",""],Backquote:["<",">","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["","","\\",""]}}),hr({id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","~",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["","","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","",""],Quote:["","","{",""],Backquote:["","","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),hr({id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","&"],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","n","N"],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",">"],KeyY:["y","Y","",""],KeyZ:["z","Z","","<"],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","~","$"],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["'","?","\\",""],Equal:["","","","~"],BracketLeft:["","","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","~",""],Quote:["","","{","{"],Backquote:["","","\\","\\"],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|",""],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}}),hr({id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","&"],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","n","N"],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","","<"],KeyX:["x","X","",">"],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{","$"],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["","7","`",""],Digit8:["_","8","\\",""],Digit9:["","9","^",""],Digit0:["","0","@",""],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:[")","","]",""],Equal:["=","+","}",""],BracketLeft:["","","",""],BracketRight:["$","","",""],Backslash:["*","","",""],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["","~","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","","",""],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|",""]}}),hr({id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["","7","`",""],Digit8:["_","8","\\",""],Digit9:["","9","^",""],Digit0:["","0","@",""],Space:[" "," ","",""],Minus:[")","","]",""],Equal:["=","+","}",""],BracketLeft:["^","","",""],BracketRight:["$","","",""],Backslash:["*","","",""],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),hr({id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"",""],Digit3:["3","","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["","?","\\",""],Equal:["","`","",""],BracketLeft:["","","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["","","",""],Quote:["","","",""],Backquote:["^","","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}}),hr({id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","@",""],KeyM:["m","M","",""],KeyN:["n","N","~",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"",""],Digit3:["3","","","#"],Digit4:["4","$","",""],Digit5:["5","%","[",""],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{",""],Digit9:["9",")","}",""],Digit0:["0","=","",""],Space:[" "," "," "," "],Minus:["","?","",""],Equal:["","`","'",""],BracketLeft:["","","",""],BracketRight:["+","*","",""],Backslash:["#","'","",""],Semicolon:["","","",""],Quote:["","","",""],Backquote:["<",">","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","","",""],NumpadEqual:["=","=","=","="]}}),hr({id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","",""],KeyB:["x","X","",""],KeyC:["j","J","",""],KeyD:["e","E","",""],KeyE:[".",">","",""],KeyF:["u","U","",""],KeyG:["i","I","",""],KeyH:["d","D","",""],KeyI:["c","C","",""],KeyJ:["h","H","",""],KeyK:["t","T","",""],KeyL:["n","N","",""],KeyM:["m","M","",""],KeyN:["b","B","",""],KeyO:["r","R","",""],KeyP:["l","L","",""],KeyQ:["'",'"',"",""],KeyR:["p","P","",""],KeyS:["o","O","",""],KeyT:["y","Y","",""],KeyU:["g","G","",""],KeyV:["k","K","",""],KeyW:[",","<","",""],KeyX:["q","Q","",""],KeyY:["f","F","",""],KeyZ:[";",":","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","&","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," "," "," "],Minus:["[","{","",""],Equal:["]","}","",""],BracketLeft:["/","?","",""],BracketRight:["=","+","",""],Backslash:["\\","|","",""],Semicolon:["s","S","",""],Quote:["-","_","",""],Backquote:["`","~","`","`"],Comma:["w","W","",""],Period:["v","V","",""],Slash:["z","Z","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["","","",""],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}});const d3=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Space]",ifMode:"math",command:"moveAfterParent"},{key:"shift+[Space]",ifMode:"math",command:"moveBeforeParent"},{key:"[Home]",command:"moveToMathFieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathFieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathFieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathFieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",ifMode:"math",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"math",command:"moveToPreviousPlaceholder"},{key:"[Tab]",ifMode:"text",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"text",command:"moveToPreviousPlaceholder"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"\\",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"[Undo]",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathFieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathFieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+w",ifMode:"math",command:["insert","\\sum_{i=#?}^{#?}"]},{key:"alt+b",command:["insert","\\int_{#?}^{#?}"]},{key:"alt+u",ifMode:"math",command:["insert","\\cup"]},{key:"alt+n",ifMode:"math",command:["insert","\\cap"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"shift+alt+p",ifMode:"math",command:["insert","\\prod_{i=#?}^{#?}"]},{key:"shift+alt+u",ifMode:"math",command:["insert","\\bigcup"]},{key:"shift+alt+n",ifMode:"math",command:["insert","\\bigcap"]},{key:"shift+alt+a",ifMode:"math",command:["insert","\\forall"]},{key:"shift+alt+e",ifMode:"math",command:["insert","\\exists"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"alt+[Equal]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["applyStyle",{mode:"text"}]},{key:"alt+[Equal]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["applyStyle",{mode:"math"}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"ctrl+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"cmd+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"shift+ctrl+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnBefore"},{key:"shift+cmd+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit6]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\wedge"]},{key:"shift+alt+[Digit6]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\vee"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]}],p3={"\\theta":"alt+q","\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\prod":"shift+alt+p","\\sum":"alt+w","\\int":"alt+b","\\cup":"alt+u","\\cap":"alt+n","\\bigcup":"shift+alt+u","\\bigcap":"shift+alt+n","\\forall":"shift+alt+a","\\exists":"shift+alt+e","\\infty":"alt+[Digit5]","\\wedge":"alt+[Digit6]","\\vee":"shift+alt+[Digit6]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function vp(t){let e=t;return je(e)&&(e=e.length>0?e[0]+"("+e.slice(1).join("")+")":""),e}function h3(t,e){let r=[];if(typeof e=="string"){const o=p3[e];je(o)?r=o.slice():o&&r.push(o)}const n=vp(e),i=new RegExp("^"+n.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(const o of t)i.test(vp(o.command))&&r.push(o.key);return r.map(x1)}function x1(t){var e;const r=/macos|ios|/.test(Xo()),n=t.split("+");let i="";for(const o of n)!r&&i&&(i+='<span class="ML__shortcut-join">+</span>'),o.startsWith("[Key")?i+=o.slice(4,5):o.startsWith("Key")?i+=o.slice(3,4):o.startsWith("[Digit")?i+=o.slice(6,7):o.startsWith("Digit")?i+=o.slice(5,6):i+=(e={cmd:"",meta:r?"":"command",shift:r?"":"shift",alt:r?"":"alt",ctrl:r?"":"control","\n":r?"":"return","[return]":r?"":"return","[enter]":r?"":"enter","[tab]":r?"":"tab","[escape]":"esc","[backspace]":r?"":"backspace","[delete]":r?"":"del","[pageup]":r?"":"page up","[pagedown]":r?"":"page down","[home]":r?"":"home","[end]":r?"":"end","[space]":"space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",bracketLeft:"[",bracketRight:"]",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"",up:"",right:"",down:"","[arrowleft]":"","[arrowup]":"","[arrowright]":"","[arrowdown]":"","[digit0]":"0","[digit1]":"1","[digit2]":"2","[digit3]":"3","[digit4]":"4","[digit5]":"5","[digit6]":"6","[digit7]":"7","[digit8]":"8","[digit9]":"9"}[o.toLowerCase()])!==null&&e!==void 0?e:o.toUpperCase();return i}function m3(t,e){if(t.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(t.ifPlatform))throw new Error(`Unexpected platform "${t.ifPlatform}" for keybinding ${t.key}`);if(t.ifLayout!==void 0&&(e.score===0||!t.ifLayout.includes(e.id)))return;const r=b1(t.key);let n=t.ifPlatform;if(r.cmd){if(n&&n!=="macos"&&n!=="ios")throw new Error('Unexpected "cmd" modifier with platform "'+n+`"
"cmd" modifier can only be used with macOS or iOS platform.`);n||(n=Xo()==="ios"?"ios":"macos"),r.win=!1,r.cmd=!1,r.meta=!0}if(r.win){if(n&&n!=="windows")throw new Error('Unexpected "win" modifier with platform "'+n+`"
"win" modifier can only be used with Windows platform.`);n="windows",r.win=!1,r.cmd=!1,r.meta=!0}if(n&&!function(o){if(ue()){const a=Xo(),s=o.startsWith("!"),l=o.endsWith(a);if(s&&!l||!s&&l)return!0}return o!=="!other"&&o==="other"}(n))return;if(/^\[.+\]$/.test(r.key))return{...t,ifPlatform:n,key:Ya(r)};const i=function(o,a){var s;const l={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!o)return l;for(const[u,c]of Object.entries(a.mapping)){if(c[0]===o)return l.key=`[${u}]`,l;if(c[1]===o)return l.shift=!0,l.key=`[${u}]`,l;if(c[2]===o)return l.alt=!0,l.key=`[${u}]`,l;if(c[3]===o)return l.shift=!0,l.alt=!0,l.key=`[${u}]`,l}return l.key=(s=c3[o])!==null&&s!==void 0?s:"",l}(r.key,e);if(!i)throw new Error('Invalid keybinding key "'+t.key+'"');if(i.shift&&r.shift||i.alt&&r.alt)throw new Error(`The keybinding ${t.key} (${S0(t.command)}) is conflicting with the key combination ${Ya(i)} using the ${e.displayName} keyboard layout`);return i.shift=i.shift||r.shift,i.alt=i.alt||r.alt,i.meta=r.meta,i.ctrl=r.ctrl,{...t,ifPlatform:n,key:Ya(i)}}function S0(t){if(Array.isArray(t)){const e=[...t];return e.shift()+"("+e.map(r=>typeof r=="string"?`"${r}"`:r.toString()).join(", ")+")"}return t}var xp='#mathlive-popover-panel{background-color:rgba(97,97,97,.95);border-radius:8px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);color:#fff;display:flex;flex-direction:column;justify-content:center;position:fixed;text-align:center;transition:all .2s cubic-bezier(.64,.09,.08,1);visibility:hidden;z-index:1}#mathlive-popover-panel:after{border-bottom:5px solid rgba(97,97,97,.9);border-left:5px solid transparent;border-right:5px solid transparent;content:"";font-size:1rem;height:0;left:calc(50% - 3px);position:absolute;top:-5px;width:0}#mathlive-popover-panel.is-visible{animation:ML__fade-in .15s cubic-bezier(0,0,.2,1);visibility:inherit}@keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}#mathlive-popover-panel ul{align-items:flex-start;display:flex;flex-flow:column;justify-content:center;list-style:none;margin:0;padding:0}#mathlive-popover-panel li{border-radius:8px;column-gap:1em;cursor:pointer;display:flex;flex-direction:row;justify-content:space-between;margin:8px;padding:8px;width:calc(100% - 32px)}#mathlive-popover-panel li a{color:#5ea6fd;display:block;margin-top:.4em;padding-top:.3em}#mathlive-popover-panel li a:hover{color:#5ea6fd;text-decoration:underline}#mathlive-popover-panel li.is-active,#mathlive-popover-panel li.is-pressed,#mathlive-popover-panel li:hover{background:hsla(0,0%,100%,.1)}.ML__popover__command{font-family:KaTeX_Main;font-size:1.6rem}.ML__popover__latex{align-self:center;font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace}.ML__popover__keybinding{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:.8em;opacity:.7}.ML__shortcut-join{opacity:.5}',xn='.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1>span{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4>span{font-family:KaTeX_Size4}.ML__accent-body>span{font-family:KaTeX_Main;width:0}.ML__accent-vec>span{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist>span{display:block;height:0;position:relative}.ML__mathlive .vlist>span>span{display:inline-block}.ML__mathlive .vlist>span>.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap>.inner,.ML__mathlive .rlap>.inner{position:absolute}.ML__mathlive .llap>.fix,.ML__mathlive .rlap>.fix{display:inline-block}.ML__mathlive .llap>.inner{right:0}.ML__mathlive .rlap>.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent>.vlist>span{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m>.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c>.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l>.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r>.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error>.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__container{min-height:auto!important}';function k1(t){var e;typeof((e=t.listeners)===null||e===void 0?void 0:e.onSelectionDidChange)!="function"||t.suppressChangeNotifications||(t.suppressChangeNotifications=!0,t.listeners.onSelectionDidChange(t),t.suppressChangeNotifications=!1)}function ye(t,e={}){if(t.suppressChangeNotifications||!t.mathfield.host)return!0;t.suppressChangeNotifications=!0;const r=t.mathfield.host.dispatchEvent(new InputEvent("beforeinput",{...e,cancelable:!0,bubbles:!0,composed:!0}));return t.suppressChangeNotifications=!1,r}function we(t,e){!t.suppressChangeNotifications&&t.mathfield.host&&(t.suppressChangeNotifications=!0,t.mathfield.host.dispatchEvent(new InputEvent("input",{...e,bubbles:!0,composed:!0})),t.suppressChangeNotifications=!1)}function Yo(t){var e,r;const n=t.atoms.find(i=>i instanceof Dr);return n&&(r=(e=n.body)===null||e===void 0?void 0:e.filter(i=>i instanceof ze))!==null&&r!==void 0?r:[]}function w1(t,e){var r;let n=0,i=!1;const o=Number.isFinite(e==null?void 0:e.before)?(r=e==null?void 0:e.before)!==null&&r!==void 0?r:0:t.lastOffset;for(;n<=o&&!i;){const l=t.at(n);i=l instanceof ze&&l.isSuggestion,i||n++}if(!i)return[void 0,void 0];let a=n,s=!1;for(;a<=o&&!s;){const l=t.at(a);s=!(l instanceof ze&&l.isSuggestion),s||a++}return[n-1,a-1]}function Fc(t){const e=Yo(t.model).filter(r=>r.isSuggestion);if(e.length!==0){t.model.position=t.model.offsetOf(e[0].leftSibling);for(const r of e)r.parent.removeChild(r)}}function Fs(t,e){var r;const{model:n}=t;Fc(t);for(const u of Yo(n))u.isError=!1;if(!n.selectionIsCollapsed)return void Ao(t);const i=[];let o=n.at(n.position);for(;o&&o instanceof ze&&/^[a-zA-Z\*]$/.test(o.value);)o=o.leftSibling;if(o&&o instanceof ze&&o.value==="\\")for(i.push(o),o=o.rightSibling;o&&o instanceof ze&&/^[a-zA-Z\*]$/.test(o.value);)i.push(o),o=o.rightSibling;const a=i.map(u=>u.value).join(""),s=a?function(u,c){var d,p;if(c==="\\")return[];if(!c.startsWith("\\"))return[];const f=[];for(const v in Tr)v.startsWith(c)&&!Tr[v].infix&&f.push({match:v,frequency:(d=Tr[v].frequency)!==null&&d!==void 0?d:0});for(const v in zr)v.startsWith(c)&&f.push({match:v,frequency:(p=zr[v].frequency)!==null&&p!==void 0?p:0});const g=c.substring(1);for(const v of Object.keys(u.options.macros))v.startsWith(g)&&f.push({match:"\\"+v,frequency:0});return f.sort((v,k)=>{var b,y;return v.frequency===k.frequency?v.match.length===k.match.length?v.match<k.match?-1:1:v.match.length-k.match.length:((b=k.frequency)!==null&&b!==void 0?b:0)-((y=v.frequency)!==null&&y!==void 0?y:0)}),f.map(v=>v.match)}(t,a):[];if(s.length===0)return/^\\[a-zA-Z\*]+$/.test(a)&&i.forEach(u=>{u.isError=!0}),void Ao(t);t.suggestionIndex=(r=e==null?void 0:e.atIndex)!==null&&r!==void 0?r:0,t.suggestionIndex<0&&(t.suggestionIndex=s.length-1);const l=s[t.suggestionIndex%s.length];if(l!==a){const u=i[i.length-1];u.parent.addChildrenAfter([...l.slice(a.length-l.length)].map(c=>new ze(c,t,{isSuggestion:!0})),u),Ee(t)}(function(u,c){if(c.length===0||u.options.enablePopover===!1)return void Ao(u);c=c.slice(0,10);let d="<ul>";for(const f of c){const g=f,v=f3(u,f),k=h3(u.keybindings,g).join("<br>");d+=`<li role="button" data-command="${g}"><span class="ML__popover__latex">${g}</span><span class="ML__popover__command">${v}</span>`,k&&(d+=`<span class="ML__popover__keybinding">${k}</span>`),d+="</li>"}d+="</ul>",u.popover=function(f,g){return f.popover?(f.popover.innerHTML=f.options.createHTML(g),f.popover):(f.popover=h1("mathlive-popover-panel"),ou===void 0&&(ou=bn(xp).toString(36)),M0=vn(null,xp,ou),L0=vn(null,xn,bn(xn).toString(36)),f.popover.innerHTML=f.options.createHTML(g),f.popover)}(u,d);const p=u.popover.querySelectorAll("ul li");for(const f of p)f.addEventListener("pointerdown",g=>{g.preventDefault()}),f.addEventListener("click",g=>{Rn(u,"reject"),ae.insert("math",u.model,f.dataset.command,{selectionMode:"placeholder",format:"latex"}),u.dirty=!0,u.scrollIntoView(),u.focus()});setTimeout(()=>{const f=zo(u.field);f&&_1(u,f),u.popover&&(u.popover.classList.add("is-visible"),u.popoverVisible=!0)},32)})(t,s)}function kp(t){const[e,r]=w1(t,{before:t.position});if(e===void 0||r===void 0)return!1;let n=!1;return t.getAtoms([e,r]).forEach(i=>{i.isSuggestion&&(i.isSuggestion=!1,n=!0)}),n}function Rn(t,e="accept",r){var n,i;Ao(t);const o=t.model.atoms.find(l=>l instanceof Dr);if(!o)return!1;if(e==="accept-suggestion"){const l=Yo(t.model).filter(u=>u.isSuggestion);if(l.length===0)return!1;for(const u of l)u.isSuggestion=!1;return t.model.position=t.model.offsetOf(l[l.length-1]),!0}const a=Yo(t.model).filter(l=>!l.isSuggestion).map(l=>l.value).join(""),s=o.leftSibling;return o.parent.removeChild(o),t.model.position=t.model.offsetOf(s),t.mode=(n=r==null?void 0:r.mode)!==null&&n!==void 0?n:"math",e==="reject"||(ae.insert("math",t.model,a,{selectionMode:(i=r==null?void 0:r.selectItem)!==null&&i!==void 0&&i?"item":"placeholder",format:"latex"}),t.snapshot(),t.model.announce("replacement")),!0}let ou;new class extends ae{constructor(){super("latex")}createAtom(t,e,r){return new ze(t,e)}onPaste(t,e){if(!e.clipboardData)return!1;let r=e.clipboardData.getData("text/x-latex");return r||(r=e.clipboardData.getData("text/plain")),!(!r||!ye(t.model,{inputType:"insertFromPaste",data:r})||(t.snapshot(),this.insert(t.model,r)&&(we(t.model,{inputType:"insertFromPaste"}),Ee(t)),e.preventDefault(),e.stopPropagation(),0))}insert(t,e,r){if(!ye(t,{data:e,inputType:"insertText"}))return!1;r||(r={}),r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder");const{suppressChangeNotifications:n}=t;r.suppressChangeNotifications&&(t.suppressChangeNotifications=!0);const i=t.suppressChangeNotifications;t.suppressChangeNotifications=!0,r.insertionMode!=="replaceSelection"||t.selectionIsCollapsed?r.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward"):t.deleteAtoms(Xt(t.selection));const o=[];for(const l of e)Ay.test(l)&&o.push(new ze(l,t.mathfield));let a=t.at(t.position);if(a instanceof Dr&&(a=a.lastChild),!(a.parent instanceof Dr)){const l=new Dr("",t.mathfield);a.parent.addChildAfter(l,a),a=l.firstChild}const s=a.parent.addChildrenAfter(o,a);return t.suppressChangeNotifications=i,r.selectionMode==="before"||(r.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(s)):s&&(t.position=t.offsetOf(s))),we(t,{data:e,inputType:"insertText"}),t.suppressChangeNotifications=n,!0}};let M0=null,L0=null;function f3(t,e){const r=t,n=new C("root",r);return n.body=sr(e,r,{parseMode:"math"}),Un(Nc(sa(new B(n.render(new W({registers:r.registers},{fontSize:5},"displaystyle")),{classes:"ML__base"}))),{classes:"ML__mathlive"}).toMarkup()}function Rs(t,e){var r;if(t.element&&t.element.mathfield===t&&t.popover&&t.popoverVisible)if(e!=null&&e.deferred)setTimeout(()=>Rs(t),100);else if(((r=t.model.at(t.model.position))===null||r===void 0?void 0:r.type)!=="latex")Ao(t);else{const n=zo(t.field);n&&_1(t,n)}}function _1(t,e){if(Fr(),!t.popover||!t.popoverVisible)return;const r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerWidth-document.documentElement.clientWidth,o=window.innerHeight-document.documentElement.clientHeight,a=t.virtualKeyboard.height;e.x+t.popover.offsetWidth/2>n-i?t.popover.style.left=n-t.popover.offsetWidth-i+"px":e.x-t.popover.offsetWidth/2<0?t.popover.style.left="0":t.popover.style.left=e.x-t.popover.offsetWidth/2+"px",e.y+t.popover.offsetHeight+5>r-o-a?(t.popover.classList.add("ML__popover--reverse-direction"),t.popover.style.top=e.y-e.height-t.popover.offsetHeight-5+"px"):(t.popover.classList.remove("ML__popover--reverse-direction"),t.popover.style.top=`${e.y+5}px`)}function Ao(t){t.suggestionIndex=0,t.popoverVisible=!1,t.popover&&(t.popover.classList.remove("is-visible"),t.popover.innerHTML="")}function y3(t){let e=0;for(let r=0;r<t.length;r++)e=31*e+t.charCodeAt(r),e|=0;return Math.abs(e)}function Ee(t,e){t.dirty||(t.dirty=!0,requestAnimationFrame(()=>{Tn(t)&&t.dirty&&(t.atomBoundsCache=new Map,Pn(t,e),t.atomBoundsCache=void 0)}))}function Pn(t,e){var r;if(Fr(),!Tn(t))return;e=e??{};const{model:n}=t;n.root.caret="",n.root.isSelected=!1,n.root.containsCaret=!0;for(const l of n.atoms)l.caret="",l.isSelected=!1,l.containsCaret=!1;const i=!t.options.readOnly&&t.hasFocus();if(n.selectionIsCollapsed)n.at(n.position).caret=i?t.mode:"";else{const l=n.getAtoms(n.selection,{includeChildren:!0});for(const u of l)u.isSelected=!0}if(i){let l=n.at(n.position).parent;for(;l;)l.containsCaret=!0,l=l.parent}const o=function(l,u){var c;return u=u??{},Un(sa(l.model.root.render(new W({registers:l.registers,atomIdsSettings:{seed:u.forHighlighting?y3(C.serialize(l.model.root,{expandMacro:!1,defaultMode:l.options.defaultMode})):"random",groupNumbers:(c=u.forHighlighting)!==null&&c!==void 0&&c},renderPlaceholder:l.options.readOnly?(d,p)=>{if(p.placeholderId){const f=l.getPlaceholderField(p.placeholderId);return p.createMathfieldBox(d,f,p.placeholderId)}return p.createBox(d)}:void 0},{fontSize:5,letterShapeStyle:l.options.letterShapeStyle},l.options.defaultMode==="inline-math"?"textstyle":"displaystyle")),l.options.horizontalSpacingScale),{classes:"ML__mathlive",attributes:{translate:"no","aria-hidden":"true"}})}(t,e),a=t.field,s=a.classList.contains("ML__focused");s&&!i?a.classList.remove("ML__focused"):!s&&i&&a.classList.add("ML__focused"),a.innerHTML=t.options.createHTML(o.toMarkup()),t.fieldContent=a.querySelector(".ML__mathlive"),t.accessibleNode.innerHTML=t.options.createHTML('<math xmlns="http://www.w3.org/1998/Math/MathML">'+ne(n.root,t.options)+"</math>"),wp(t),t.options.readOnly&&t.attachNestedMathfield(),(r=e.interactive)!==null&&r!==void 0&&r||setTimeout(()=>wp(t),32),t.dirty=!1}function wp(t){Fr();const e=t.field;if(!e)return;for(const o of e.querySelectorAll(".ML__selection, .ML__contains-highlight"))o.remove();if(!t.hasFocus())return;const r=t.model,n=parseFloat(getComputedStyle(e).width);let i=e.getBoundingClientRect().width/n;if(i=isNaN(i)?1:i,r.selectionIsCollapsed){setTimeout(()=>Rs(t),32);let o=r.at(r.position);for(;o&&(!o.containsCaret||!o.displayContainsHighlight);)o=o.parent;if(o!=null&&o.containsCaret&&o.displayContainsHighlight){const a=m1(t,ua(t,o));if(a){a.left/=i,a.right/=i,a.top/=i,a.bottom/=i;const s=document.createElement("div");s.classList.add("ML__contains-highlight"),s.style.position="absolute",s.style.left=`${a.left}px`,s.style.top=`${a.top}px`,s.style.width=`${Math.ceil(a.right-a.left)}px`,s.style.height=`${Math.ceil(a.bottom-a.top-1)}px`,e.insertBefore(s,e.childNodes[0])}}}else for(const o of function(a){let s=[];for(const l of a){let u=!1;for(const c of s)if(l.left===c.left&&l.right===c.right&&l.top===c.top&&l.bottom===c.bottom){u=!0;break}u||s.push(l)}a=s,s=[];for(const l of a){let u=0;for(const c of a)if(l.left>=c.left&&l.right<=c.right&&l.top>=c.top&&l.bottom<=c.bottom&&(u+=1,u>1))break;u===1&&s.push(l)}return s}(y1(t,{excludeAtomsWithBackground:!0}))){o.left/=i,o.right/=i,o.top/=i,o.bottom/=i;const a=document.createElement("div");a.classList.add("ML__selection"),a.style.position="absolute",a.style.left=`${o.left}px`,a.style.top=`${o.top}px`,a.style.width=`${Math.ceil(o.right-o.left)}px`,a.style.height=`${Math.ceil(o.bottom-o.top-1)}px`,e.insertBefore(a,e.childNodes[0])}}const on={};function yt(t,e){e=e??{target:"mathfield",canUndo:!1};for(const r of Object.keys(t))on[r]={...e,fn:t[r]}}function C0(t){var e;let r;return r=je(t)?t[0]:t,r=r.replace(/-\w/g,n=>n[1].toUpperCase()),(e=on[r])===null||e===void 0?void 0:e.target}function ri(t,e,r){return e+Co(r,{...t,textToSpeechMarkup:"",textToSpeechRulesOptions:{...t.textToSpeechRulesOptions,markup:"none"}})}function g3(t,e){var r,n,i;if(ue()&&(e!=null||(e=(r=tt().config)!==null&&r!==void 0?r:{}),e))if(e.speechEngine&&e.speechEngine!=="local")if(e.speechEngine==="amazon"){if("AWS"in window){const o=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),a={OutputFormat:"mp3",VoiceId:(n=e.speechEngineVoice)!==null&&n!==void 0?n:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes((i=e.speechEngineVoice)!==null&&i!==void 0?i:"Joanna")?"neural":"standard",Text:t,TextType:"ssml"};o.synthesizeSpeech(a,(s,l)=>{if(!s){if(l!=null&&l.AudioStream){const u=new Uint8Array(l.AudioStream),c=new Blob([u.buffer],{type:"audio/mpeg"}),d=URL.createObjectURL(c);new Audio(d).play().catch(p=>{})}}})}}else e.speechEngine;else{const o=new SpeechSynthesisUtterance(t);window.speechSynthesis.speak(o)}}function S1(t){if(t&&(t.classList.remove("ML__highlight"),t.children))for(const e of t.children)S1(e)}function z0(t,e){var r;t&&(e&&((r=t.dataset)===null||r===void 0?void 0:r.atomId)!==e?(t.classList.remove("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(n=>{n instanceof HTMLElement&&z0(n,e)})):(t.classList.add("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(n=>{n instanceof HTMLElement&&z0(n)})))}function b3(t,e,r){var n;if(!ue())return;if(r!=null||(r=tt().config),r.speechEngine!=="amazon")return void(r.speakHook&&r.speakHook(e,r));if(!globalThis.AWS)return;const i=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),o={OutputFormat:"json",VoiceId:(n=r.speechEngineVoice)!==null&&n!==void 0?n:"Joanna",Engine:"standard",Text:e,TextType:"ssml",SpeechMarkTypes:["ssml"]};tt().readAloudElement=t,i.synthesizeSpeech(o,(a,s)=>{if(a||!(s!=null&&s.AudioStream))return;const l=new TextDecoder("utf-8").decode(new Uint8Array(s.AudioStream));tt().readAloudMarks=l.split(`
`).map(u=>u?JSON.parse(u):{}),tt().readAloudTokens=[];for(const u of tt().readAloudMarks)u.value&&tt().readAloudTokens.push(u.value);tt().readAloudCurrentMark="",o.OutputFormat="mp3",o.SpeechMarkTypes=[],i.synthesizeSpeech(o,(u,c)=>{if(u||!(c!=null&&c.AudioStream))return;const d=new Uint8Array(c.AudioStream),p=new Blob([d.buffer],{type:"audio/mpeg"}),f=URL.createObjectURL(p),g=tt();g.readAloudAudio?g.readAloudAudio.pause():(g.readAloudAudio=new Audio,g.readAloudAudio.addEventListener("ended",()=>{const v=g.readAloudMathField;g.readAloudStatus="ended",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),v?(Pn(v),g.readAloudElement=null,g.readAloudMathField=null,g.readAloudTokens=[],g.readAloudMarks=[],g.readAloudCurrentMark=""):S1(g.readAloudElement)}),g.readAloudAudio.addEventListener("timeupdate",()=>{let v="";const k=1e3*g.readAloudAudio.currentTime+100;for(const b of g.readAloudMarks)b.time<k&&(v=b.value);g.readAloudCurrentMark!==v&&(g.readAloudCurrentToken=v,v&&v===g.readAloudFinalToken?g.readAloudAudio.pause():(g.readAloudCurrentMark=v,z0(g.readAloudElement,g.readAloudCurrentMark)))})),g.readAloudAudio.src=f,g.readAloudStatus="playing",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),g.readAloudAudio.play()})})}function A0(t,e){var r,n,i;const o=Ci(t,Object.keys(t));for(const a of Object.keys(e))switch(a){case"scriptDepth":if(je(e.scriptDepth))o.scriptDepth=[e.scriptDepth[0],e.scriptDepth[1]];else{if(typeof e.scriptDepth!="number")throw new TypeError("Unexpected value for scriptDepth");o.scriptDepth=[e.scriptDepth,e.scriptDepth]}break;case"locale":e.locale==="auto"?o.locale=ue()?navigator.language.slice(0,5):"en":o.locale=e.locale,le.locale=o.locale;break;case"strings":le.merge(e.strings),o.strings=le.strings;break;case"virtualKeyboardLayout":o.virtualKeyboardLayout=e.virtualKeyboardLayout;break;case"virtualKeyboardMode":const s=e.virtualKeyboardMode.toLowerCase();o.virtualKeyboardMode=s==="auto"?m0()?"onfocus":"off":s;break;case"customVirtualKeyboardLayers":o.customVirtualKeyboardLayers={...o.customVirtualKeyboardLayers,...e.customVirtualKeyboardLayers};break;case"customVirtualKeyboards":o.customVirtualKeyboards={...o.customVirtualKeyboards,...e.customVirtualKeyboards};break;case"letterShapeStyle":e.letterShapeStyle==="auto"?le.locale.startsWith("fr")?o.letterShapeStyle="french":o.letterShapeStyle="tex":o.letterShapeStyle=e.letterShapeStyle;break;case"plonkSound":e.plonkSound!==void 0&&(o.plonkSound=e.plonkSound);break;case"keypressSound":e.keypressSound===null?o.keypressSound={default:null,delete:null,return:null,spacebar:null}:typeof e.keypressSound=="string"?o.keypressSound={delete:e.keypressSound,return:e.keypressSound,spacebar:e.keypressSound,default:e.keypressSound}:typeof e.keypressSound=="object"&&"default"in e.keypressSound&&(o.keypressSound={...e.keypressSound},o.keypressSound.delete=(r=o.keypressSound.delete)!==null&&r!==void 0?r:e.keypressSound.default,o.keypressSound.return=(n=o.keypressSound.return)!==null&&n!==void 0?n:e.keypressSound.default,o.keypressSound.spacebar=(i=o.keypressSound.spacebar)!==null&&i!==void 0?i:e.keypressSound.default);break;case"computeEngine":o.computeEngine=e.computeEngine;break;case"virtualKeyboardContainer":o.virtualKeyboardContainer=e.virtualKeyboardContainer;break;case"macros":o.macros=g0(e.macros);break;default:je(e[a])?o[a]=[...e[a]]:typeof e[a]=="object"?o[a]={...e[a]}:o[a]=e[a]}return o}function Ci(t,e){let r;r=typeof e=="string"?[e]:e===void 0?Object.keys(t):e;const n={};for(const i of r)t[i]===null?n[i]=null:je(t[i])?n[i]=[...t[i]]:typeof t[i]!="object"||t[i]instanceof Element||i==="computeEngine"?n[i]=t[i]:n[i]={...t[i]};return typeof e=="string"?n[e]:n}yt({performWithFeedback:(t,e)=>function(r,n){r.focus(),r.options.keypressVibration&&$c()&&navigator.vibrate(3),(n=n.replace(/-\w/g,o=>o[1].toUpperCase()))==="moveToNextPlaceholder"||n==="moveToPreviousPlaceholder"||n==="complete"?r.playSound("return"):n==="deleteBackward"||n==="deleteForward"||n==="deletePreviousWord"||n==="deleteNextWord"||n==="deleteToGroupStart"||n==="deleteToGroupEnd"||n==="deleteToMathFieldStart"||n==="deleteToMathFieldEnd"?r.playSound("delete"):r.playSound("keypress");const i=r.executeCommand(n);return r.scrollIntoView(),i}(t,e)}),yt({complete:Rn,nextSuggestion:function(t){return Fs(t,{atIndex:t.suggestionIndex+1}),!1},previousSuggestion:function(t){return Fs(t,{atIndex:t.suggestionIndex-1}),!1}},{target:"mathfield",category:"autocomplete"}),yt({speak:(t,e,r)=>function(n,i,o){var a,s;o=o??{withHighlighting:!1};const{model:l}=n,u=function(p){let f=null;switch(p){case"all":default:f=l.root;break;case"selection":f=l.getAtoms(l.selection);break;case"left":f=l.getAtoms(l.offsetOf(l.at(l.position).leftSibling),l.position);break;case"right":f=l.getAtoms(l.position,l.offsetOf(l.at(l.position).rightSibling));break;case"group":f=l.getAtoms(l.getSiblingsRange(l.position));break;case"parent":{const{parent:g}=l.at(l.position);f=g&&g.type!=="root"?g:l.root;break}}return f}(i);if(u===null)return(s=(a=n.options).speakHook)===null||s===void 0||s.call(a,function(p){let f="";switch(p){case"all":case"group":default:break;case"selection":f="no selection";break;case"left":f="at start";break;case"right":f="at end";break;case"parent":f="no parent"}return f}(i),n.options),!1;const c={...n.options};(o.withHighlighting||c.speechEngine==="amazon")&&(c.textToSpeechMarkup=globalThis.sre&&c.textToSpeechRules==="sre"?"ssml_step":"ssml"),c.textToSpeechMarkup||/firefox/i.test(navigator.userAgent)||(c.textToSpeechMarkup="ssml");const d=Co(u,c);return ue()&&o.withHighlighting?(tt().readAloudMathField=n,Pn(n,{forHighlighting:!0}),n.options.readAloudHook&&n.options.readAloudHook(n.field,d,n.options)):n.options.speakHook&&n.options.speakHook(d,c),!1}(t,e,r)},{target:"mathfield",category:"speech"});const M1='<span style="width: 21px; margin-top: 4px;"><svg style="width: 21px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg></span>';function T0(){var t,e,r;return{readOnly:!1,createHTML:n=>n,fontsDirectory:"./fonts",soundsDirectory:"./sounds",computeEngine:void 0,defaultMode:"math",macros:e1(),registers:{},colorMap:cl,backgroundColorMap:Bc,horizontalSpacingScale:1,letterShapeStyle:le.locale.startsWith("fr")?"french":"tex",smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,mathModeSpace:"",decimalSeparator:".",fractionNavigationOrder:"numerator-denominator",placeholderSymbol:"",enablePopover:!0,locale:le.locale,strings:le.strings,keybindings:d3,inlineShortcuts:c1,inlineShortcutTimeout:0,virtualKeyboardToggleGlyph:M1,virtualKeyboardMode:"auto",virtualKeyboards:"all",virtualKeyboardLayout:"auto",customVirtualKeyboardLayers:{},customVirtualKeyboards:{},virtualKeyboardTheme:ue()&&/android|cros/i.test(navigator.userAgent)?"material":"apple",keypressVibration:!0,keypressSound:null,plonkSound:null,virtualKeyboardToolbar:"default",virtualKeyboardContainer:(e=(t=globalThis.document)===null||t===void 0?void 0:t.body)!==null&&e!==void 0?e:null,useSharedVirtualKeyboard:!1,sharedVirtualKeyboardTargetOrigin:(r=globalThis.window)===null||r===void 0?void 0:r.origin,originValidator:"same-origin",textToSpeechRules:"mathlive",textToSpeechMarkup:"",textToSpeechRulesOptions:{},speechEngine:"local",speechEngineVoice:"Joanna",speechEngineRate:"100%",speakHook:g3,readAloudHook:b3,onInlineShortcut:()=>"",onExport:Yy,value:""}}function au(t){return t.defaultMode==="inline-math"?"math":t.defaultMode}var su,lu,_p='@keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}.ML__caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:2px;border-right:2px solid var(--caret-color,var(--ML__caret-color));content:"";left:-1px;margin-right:-2px;position:relative}.ML__text-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:1px;border-right:1px solid var(--caret-color,var(--ML__caret-color));content:"";left:0;margin-right:-1px;position:relative}.ML__latex-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;color:var(--caret-color,var(--ML__caret-color));content:"_";margin-right:calc(-1ex - 2px);position:relative}.ML__container{--ML__selection-background-color:hsl(var(--hue,212),97%,85%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.1);--ML__contains-highlight-background-color:hsl(var(--hue,212),40%,95%);--ML__selection-color:currentColor;--ML__caret-color:hsl(var(--hue,212),40%,49%);--ML__smart-fence-color:currentColor;--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),40%,49%);align-items:flex-end;display:flex;flex-flow:row;isolation:isolate;justify-content:space-between;min-height:39px;touch-action:none;width:100%}@media (prefers-color-scheme:dark){.ML__container{--ML__selection-background-color:hsl(var(--hue,212),25%,45%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.2);--ML__contains-highlight-background-color:hsl(var(--hue,212),5%,34%);--ML__caret-color:hsl(var(--hue,212),60%,69%);--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),60%,69%)}}.ML__content{align-items:center;align-self:center;display:flex;overflow:hidden;padding:2px 0 2px 1px;position:relative;width:100%}.ML__virtual-keyboard-toggle{box-sizing:border-box;display:none}.ML__virtual-keyboard-toggle>span{align-items:center;align-self:center;display:flex}.ML__virtual-keyboard-toggle.is-visible{fill:currentColor;align-items:center;align-self:center;background:transparent;border:1px solid transparent;border-radius:8px;color:var(--primary,hsl(var(--hue,212),40%,50%));cursor:pointer;display:flex;flex-direction:column;flex-shrink:0;height:34px;justify-content:center;margin-right:4px;padding:0;transition:background .2s cubic-bezier(.64,.09,.08,1);width:34px}.ML__virtual-keyboard-toggle.is-visible:hover{fill:currentColor;background:hsla(0,0%,70%,.5);border-radius:8px;color:#333}.ML__textarea__textarea{clip:rect(0 0 0 0);border:none;display:inline-block;font-family:KaTeX_Main;font-size:1em;height:1px;outline:none;position:absolute;resize:none;transform:scale(0);width:1px}.ML__focused .ML__text{background:var(--highlight-text,var(--ML__text-highlight-background-color))}.ML__smart-fence__close{color:var(--smart-fence-color,var(--ML__smart-fence-color));opacity:var(--smart-fence-opacity,.5)}.ML__focused .ML__selection{background:var(--selection-background-color-focused,var(--selection-background-color,var(--ML__selection-background-color)))!important}.ML__focused .ML__selected,.ML__focused .ML__selected .ML__contains-caret,.ML__focused .ML__selected .ML__placeholder,.ML__focused .ML__selected .ML__smart-fence__close{color:var(--selection-color-focused,var(--selection-color,var(--ML__selection-color)))!important}.ML__selection{background:var(--selection-background-color,var(--ML__selection-background-color))!important;box-sizing:border-box}.ML__selected,.ML__selected .ML__contains-caret,.ML__selected .ML__placeholder,.ML__selected .ML__smart-fence__close{color:var(--selection-color,var(--ML__selection-color));opacity:1}.ML__contains-caret .ML__sqrt-line,.ML__contains-caret .ML__sqrt-sign,.ML__contains-caret.ML__close,.ML__contains-caret.ML__open,.ML__contains-caret>.ML__close,.ML__contains-caret>.ML__open{color:var(--caret-color,var(--ML__caret-color))}.ML__contains-highlight{background:var(--contains-highlight-backround-color,var(--ML__contains-highlight));box-sizing:border-box}.ML__latex{color:var(--latex-color,var(--ML__latex-color));font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace;font-weight:400}.ML__suggestion{opacity:.5}.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__virtual-keyboard-toggle:focus{border:2px solid var(--primary,hsl(var(--hue,212),40%,50%));border-radius:8px;outline:none}.ML__virtual-keyboard-toggle.is-active,.ML__virtual-keyboard-toggle.is-active:hover,.ML__virtual-keyboard-toggle.is-pressed{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__tooltip-container{position:relative;transform:scale(0)}.ML__tooltip-container .ML__tooltip-content{background:#616161;border-radius:8px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;display:inline-table;max-width:400px;opacity:0;padding:12px;position:fixed;transition:opacity .15s cubic-bezier(.4,0,1,1);visibility:hidden;width:max-content;z-index:2}.ML__tooltip-container .ML__tooltip-content .ML__text{white-space:normal}.ML__tooltip-container .ML__tooltip-content .ML__base{display:contents}.ML__tooltip-container:hover .ML__tooltip-content{font-size:.75em;opacity:1;transform:scale(1) translateY(3em);visibility:visible}[data-ML__tooltip]{position:relative}[data-ML__tooltip][data-placement=top]:after{bottom:100%;top:inherit}[data-ML__tooltip]:after{background:#616161;border-radius:2px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-ML__tooltip);display:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;right:110%;text-align:center;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1);width:max-content;z-index:2}@media only screen and (max-width:767px){[data-ML__tooltip]:after{font-size:16px;padding:8px 16px}}:not(.tracking) [data-ML__tooltip]:hover{position:relative}:not(.tracking) [data-ML__tooltip]:hover:after{display:inline-table;opacity:1;transform:scale(1);visibility:visible}[data-ML__tooltip][data-delay]:after{transition-delay:0s}[data-ML__tooltip][data-delay]:hover:after{transition-delay:1s}';let Ea=null;function L1(t){if(/^(?:[a-z+]+:)?\/\//i.test(t))return new URL(t).href;if(Ea===null)try{const e=new XMLHttpRequest;e.open("HEAD",v3,!1),e.send(null),e.status===200&&(Ea=e.responseURL)}catch{}return Ea?new URL(t,Ea).href:""}const v3=((lu=(su=globalThis==null?void 0:globalThis.document)===null||su===void 0?void 0:su.currentScript)===null||lu===void 0?void 0:lu.src)||function(){const t=String(new Error().stack).replace(/^Error.*\n/,"").split(`
`);if(t.length===0)return"";let e=t[1],r=e.match(/http.*\.ts[\?:]/);return r&&(e=t[2]),r=e.match(/(https?:.*):[0-9]+:[0-9]+/),r||(r=e.match(/at (.*(\.ts))[\?:]/),r||(r=e.match(/at (.*(\.mjs|\.js))[\?:]/))),r?r[1]:""}();async function C1(t){var e;if(ue()&&!document.body.classList.contains("ML__fonts-loading")&&((e=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))===null||e===void 0||!e)&&(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document)){const r=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Typewriter","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"],n=Array.from(document.fonts).map(a=>a.family);if(r.every(a=>n.includes(a)))return;const i=L1(t??"./fonts");if(!i)return;document.body.classList.add("ML__fonts-loading");const o=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular",{style:"italic"}],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(a=>function(s,l,u={}){return new FontFace(s,`url(${l}.woff2) format('woff2')`,u)}(a[0].replace(/-[a-zA-Z]+$/,""),i+"/"+a[0],a[1]));try{(await Promise.all(o.map(a=>{try{return a.load()}catch{}}))).forEach(a=>document.fonts.add(a))}catch{document.body.classList.add("ML__fonts-did-not-load")}document.body.classList.remove("ML__fonts-loading")}}function Ur(t){return typeof t=="number"&&!Number.isNaN(t)}function qs(t){return Array.isArray(t)&&t.length===2}function es(t){return t!=null&&typeof t=="object"&&"ranges"in t&&Array.isArray(t.ranges)}const io={"\\ne":"","\\neq":"","":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" "},uu={"\\pm":"+-","\\times":"xx","\\colon":":","\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};function De(t){var e,r,n,i,o,a,s,l,u,c,d,p,f;if(!t)return"";if(je(t)){if(t.length===0||(t[0].type==="first"&&(t=t.slice(1)),t.length===0))return"";let b="";if(t[0].mode==="latex")for(const y of t)b+=De(y);else if(t[0].mode==="text"){let y=0;for(b='"';((e=t[y])===null||e===void 0?void 0:e.mode)==="text";)b+=t[y].body?De(t[y].body):t[y].value,y++;b+='"'+De(t.slice(y))}else if(t[0].mode==="math"){let y=0;for(;t[y]&&t[y].mode==="math";)b+=De(t[y]),y++;b+=De(t.slice(y))}return b.trim()}if(t.mode==="text")return'"'+t.value+'"';let g="";const{command:v}=t;let k;switch(t.type){case"first":return"";case"group":case"root":g=(r=io[v])!==null&&r!==void 0?r:De(t.body);break;case"genfrac":{const x=t;(x.leftDelim||x.rightDelim)&&(g+=x.leftDelim!=="."&&x.leftDelim?x.leftDelim:"{:"),x.hasBarLine?(g+="(",g+=De(x.above),g+=")/(",g+=De(x.below),g+=")"):(g+="("+De(x.above)+"),",g+="("+De(x.below)+")"),(x.leftDelim||x.rightDelim)&&(g+=x.rightDelim!=="."&&x.rightDelim?x.rightDelim:"{:")}break;case"surd":g+=t.hasEmptyBranch("above")?"sqrt("+De(t.body)+")":"root("+De(t.above)+")("+De(t.body)+")";break;case"latex":g=t.value;break;case"leftright":{const x=t;g+=x.leftDelim!=="."&&x.leftDelim?x.leftDelim:"{:",g+=De(x.body),g+=x.rightDelim!=="."&&x.rightDelim?x.rightDelim:":}"}break;case"sizeddelim":case"delim":case"overlap":case"overunder":case"box":break;case"mord":g=(i=(n=io[v])!==null&&n!==void 0?n:v)!==null&&i!==void 0?i:typeof t.value=="string"?t.value:"",g.startsWith("\\")&&(g+=" "),k=v?v.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null,k?g=String.fromCodePoint(Number.parseInt("0x"+k[1])):g.length>0&&g.startsWith("\\")&&(g=typeof t.value=="string"?t.value.charAt(0):t.command);break;case"mbin":case"mrel":case"minner":g=(a=(o=io[v])!==null&&o!==void 0?o:uu[v])!==null&&a!==void 0?a:t.value;break;case"mopen":case"mclose":g+=t.value;break;case"mpunct":g=(s=uu[v])!==null&&s!==void 0?s:v;break;case"mop":t.value!==""&&(g="",g+=v==="\\operatorname"?De(t.body):(l=t.value)!==null&&l!==void 0?l:v,g+=" ");break;case"array":const b=t.array,y=t.environmentName,m=(u={bmatrix:["[","]"],"bmatrix*":["[","]"]}[y])!==null&&u!==void 0?u:["(",")"],h=[];for(const x of b){const S=[];for(const M of x)S.push(m[0]+De(M)+m[1]);h.push(S.join(","))}const w=(c={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[y])!==null&&c!==void 0?c:["(",")"];g=w[0]+h.join(",")+w[1];break;case"spacing":g=(d=io[v])!==null&&d!==void 0?d:" ";break;case"enclose":g="("+De(t.body)+")";break;case"space":g=" ";break;case"msubsup":g="";break;case"macro":g=(f=(p=io[v])!==null&&p!==void 0?p:uu[v])!==null&&f!==void 0?f:De(t.body)}if(!t.hasEmptyBranch("subscript")){g+="_";const b=De(t.subscript);g+=b.length>1?"("+b+")":b}if(!t.hasEmptyBranch("superscript")){g+="^";const b=De(t.superscript);g+=b.length>1?"("+b+")":b}return g}function Sp(t){let e;if(t.treeBranch==="body")e={enclose:"cross out",leftright:"delimiter",surd:"square root",root:"math field",mop:"operator"}[t.type];else if(t.parent.type==="genfrac"){if(t.treeBranch==="above")return"numerator";if(t.treeBranch==="below")return"denominator"}else t.parent.type==="surd"?t.treeBranch==="above"&&(e="index"):t.treeBranch==="superscript"?e="superscript":t.treeBranch==="subscript"&&(e="subscript");return e??"parent"}class x3{constructor(e,r,n){this.options=e,this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.mathfield=n,this.suppressChangeNotifications=!1,this.root=new C("root",n,{mode:e.mode}),this.root.body=[],this.setListeners(r)}get atoms(){return this.root.children}get selection(){return this._selection}set selection(e){this.setSelection(e)}setSelection(e,r){return this.deferNotifications({selection:!0},()=>{const n=this.normalizeSelection(e,r);if(n===void 0)throw new TypeError("Invalid selection");if(n.ranges.length===1&&n.ranges[0][0]===n.ranges[0][1]){const i=n.ranges[0][0];this._position=i,this._anchor=i,this._selection=n}else{const i=Xt(n);n.direction==="backward"?[this._position,this._anchor]=i:[this._anchor,this._position]=i;const o=this.at(i[0]+1),a=this.at(i[1]),s=C.commonAncestor(o,a);(s==null?void 0:s.type)==="array"&&o.parent===s&&a.parent,this._selection={ranges:[i],direction:n.direction}}})}setPositionHandlingPlaceholder(e){var r,n,i;((r=this.at(e))===null||r===void 0?void 0:r.type)==="placeholder"?this.setSelection(e-1,e):((i=(n=this.at(e))===null||n===void 0?void 0:n.rightSibling)===null||i===void 0?void 0:i.type)==="placeholder"?this.setSelection(e,e+1):this.position=e}getState(){return{content:this.root.toJson(),selection:this.selection}}setState(e,r){var n;const i=this.suppressChangeNotifications;this.suppressChangeNotifications=(n=r==null?void 0:r.suppressChangeNotifications)===null||n===void 0||n;let o={};(r==null?void 0:r.type)==="undo"&&(o={inputType:"historyUndo"}),(r==null?void 0:r.type)==="redo"&&(o={inputType:"historyRedo"}),ye(this,o)&&(this.root=ir(e.content,this.mathfield),this.selection=e.selection,we(this,o)),this.suppressChangeNotifications=i}get position(){return this._position}set position(e){this.setSelection(e,e)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return Math.abs(this._anchor-this._position)===1&&this.at(Math.max(this._anchor,this._position)).type==="placeholder"}collapseSelection(e="forward"){return this._anchor!==this._position&&(this.position=e==="backward"?Math.min(this._anchor,this._position):Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(e){return this.atoms[e]}offsetOf(e){return this.atoms.indexOf(e)}getSiblingsRange(e){const r=this.at(e),{parent:n}=r;if(!n)return[0,this.lastOffset];const i=r.parent.branch(r.treeBranch);return[this.offsetOf(i[0]),this.offsetOf(i[i.length-1])]}getBranchRange(e,r){const n=this.at(e).branch(r);return[this.offsetOf(n[0]),this.offsetOf(n[n.length-1])]}getAtoms(e,r,n){var i,o;let a,s,l=n??{};if(es(e)){if(l=(i=r)!==null&&i!==void 0?i:{},e.ranges.length>1)return e.ranges.reduce((p,f)=>[...p,...this.getAtoms(f,l)],[]);e=e.ranges[0]}if(Ur(e)){if(a=e,!Ur(r))return[];s=r}else[a,s]=e,l=(o=r)!==null&&o!==void 0?o:{};if(!Number.isFinite(a))return[];l.includeChildren===void 0&&(l.includeChildren=!1),a<0&&(a=this.lastOffset-a+1),s<0&&(s=this.lastOffset-s+1);const u=Math.min(a,s)+1,c=Math.max(a,s);if(u===1&&c===this.lastOffset)return[this.root];let d=[];for(let p=u;p<=c;p++){const f=this.atoms[p];Mp(this,f,u,c)&&d.push(f)}return l.includeChildren||(d=d.filter(p=>{let f=!1,{parent:g}=p;for(;g&&!f;)f=Mp(this,g,u,c),g=g.parent;return!f})),d}getAllAtoms(e){const r=[],n=this.lastOffset;for(let i=e;i<=n;i++)r.push(this.atoms[i]);for(let i=0;i<e;i++)r.push(this.atoms[i]);return r}extractAtoms(e){let r=this.getAtoms(e);r.length===1&&r[0].type==="root"&&(r=r[0].children);for(const n of r)n.parent.removeChild(n);return r}deleteAtoms(e){this.extractAtoms(e),this.position=e[0]}atomToString(e,r){const n=r??"latex";if(n.startsWith("latex"))return Nt.serialize([e],{expandMacro:n==="latex-expanded",skipStyles:n==="latex-unstyled",defaultMode:this.mathfield.options.defaultMode});if(n==="math-ml")return ne(e,this.mathfield.options);if(n==="spoken")return Co(e,this.mathfield.options);if(n==="spoken-text"){const i=this.mathfield.options.textToSpeechMarkup;this.mathfield.options.textToSpeechMarkup="";const o=Co(e,this.mathfield.options);return this.mathfield.options.textToSpeechMarkup=i,o}if(n==="spoken-ssml"||n==="spoken-ssml-with-highlighting"){const i=this.mathfield.options.textToSpeechMarkup;this.mathfield.options.textToSpeechMarkup="ssml";const o=Co(e,this.mathfield.options);return this.mathfield.options.textToSpeechMarkup=i,o}if(n==="math-json"){if(!this.mathfield.computeEngine)return"";try{const i=this.mathfield.computeEngine.parse(C.serialize(e,{expandMacro:!1,defaultMode:"math"}));return JSON.stringify(i.json)}catch(i){return JSON.stringify(["Error","Nothing",`'${i.toString()}'`])}}return n==="ascii-math"?De(e):""}getValue(e,r,n){if(e===void 0)return this.atomToString(this.root,"latex");if(typeof e=="string")return this.atomToString(this.root,e);let i,o;if(Ur(e)&&Ur(r)?(i=[this.normalizeRange([e,r])],o=n??"latex"):qs(e)?(i=[this.normalizeRange(e)],o=r):es(e)?(i=e.ranges,o=r):(i=[],o="latex"),o.startsWith("latex")){const a={expandMacro:o==="latex-expanded",skipStyles:o==="latex-unstyled",defaultMode:this.mathfield.options.defaultMode};return xe(i.map(s=>C.serialize(this.getAtoms(s),a)))}return i.map(a=>this.getAtoms(a).map(s=>this.atomToString(s,o)).join("")).join("")}extendSelection(e){let r=this._anchor;if(e==="forward"){let i=this._position;do{let o=this.at(i+1);if(o!=null&&o.inCaptureSelection){for(;!o.captureSelection;)o=o.parent;i=this.offsetOf(o==null?void 0:o.lastChild)+1}else i+=1}while(i<=this.lastOffset&&this.at(i).isFirstSibling);return i===r-1&&this.at(r).type==="first"&&(i=r),this.extendSelectionTo(r,i)}let n=this._position-1;if(n<0)return!1;for(;n>=0&&this.at(n).isLastSibling;){let i=this.at(n);if(i!=null&&i.inCaptureSelection){for(;!i.captureSelection;)i=i.parent;n=this.offsetOf(i.firstChild)-1}else n-=1}return n<0&&(n=0),n===r+1&&this.at(n).type==="first"&&(r=n),this.extendSelectionTo(r,n)}extendSelectionTo(e,r){return this.deferNotifications({selection:!0},()=>{const n=this.normalizeRange([e,r]);let[i,o]=n,{parent:a}=this.at(o);if(a&&(a.type==="genfrac"||a.type==="msubsup"))for(;a!==this.root&&cu(this,a,[i,o]);)o=this.offsetOf(a),a=a.parent;for(a=this.at(i).parent;a!==this.root&&cu(this,a,[i,o]);)i=this.offsetOf(a.leftSibling),a=a.parent;if(a=this.at(o).parent,(a==null?void 0:a.type)==="genfrac")for(;a!==this.root&&cu(this,a,[i,o]);)o=this.offsetOf(a),a=a.parent;this._position=this.normalizeOffset(r),this._selection={ranges:[[i,o]],direction:"none"}})}setListeners(e){this.listeners=e}announce(e,r,n=[]){var i,o;(o=(i=this.mathfield.host)===null||i===void 0?void 0:i.dispatchEvent(new CustomEvent("announce",{detail:{command:e,previousPosition:r,atoms:n},cancelable:!0,bubbles:!0,composed:!0})))===null||o===void 0||o||function(a,s,l,u){let c="";s==="plonk"?(a.playSound("plonk"),a.flushInlineShortcutBuffer()):s==="delete"?c=ri(a.options,"deleted: ",u):s==="focus"||s.includes("move")?c=function(p,f){if(Number.isNaN(f))return"";const g=p.at(f);if(!g||g.treeDepth<=p.at(p.position).treeDepth)return"";let v="",k=g.parent;const b=p.at(p.position).parent;for(;k!==p.root&&k!==b;)v+=`out of ${Sp(k)};`,k=k.parent;return v}(a.model,l)+(a.model.selectionIsCollapsed?"":"selected: ")+function(p,f){if(!p.selectionIsCollapsed)return ri(f,"",p.getAtoms(p.selection));let g="";const v=p.at(p.position),k=Sp(v);return v.isFirstSibling&&(g=(k?"start of "+k:"unknown")+": "),v.isLastSibling?v.isFirstSibling||(g+=k?"end of "+k:"unknown"):g+=ri(f,"",v),g}(a.model,a.options):s==="replacement"?c=ri(a.options,"",a.model.at(a.model.position)):s==="line"?(c=ri(a.options,"",a.model.root),a.keyboardDelegate.setAriaLabel("after: "+c)):c=u?ri(a.options,s+" ",u):s;const d=a.ariaLiveText.textContent.includes("")?"  ":"  ";a.ariaLiveText.textContent=c+d}(this.mathfield,e,r,n)}deferNotifications(e,r){const n=this._selection,i=this._anchor,o=this._position,a=this.suppressChangeNotifications;this.suppressChangeNotifications=!0;const s=this.root.changeCounter;r();const l=this.root.changeCounter!==s,u=i!==this._anchor||o!==this._position||function(c,d){if(c.direction===d.direction){const p=c.ranges.length;if(d.ranges.length===p){let f=0;for(;f<p&&Qy(c.ranges[f],d.ranges[f])==="equal";)f++;return f===p?"equal":"different"}}return"different"}(this._selection,n)==="different";return this.suppressChangeNotifications=a,e.content&&l&&we(this,{data:e.data,inputType:e.type}),e.selection&&u&&k1(this),l||u}normalizeOffset(e){return e>0?e=Math.min(e,this.lastOffset):e<0&&(e=this.lastOffset+e+1),e}normalizeRange(e){let[r,n]=e;return r=this.normalizeOffset(r),n=this.normalizeOffset(n),r<n?[r,n]:[n,r]}normalizeSelection(e,r){var n;let i;if(Ur(e)){const o=this.normalizeOffset(e);if(Ur(r)){const a=this.normalizeOffset(r);i=o<=a?{ranges:[[o,a]],direction:"none"}:{ranges:[[a,o]],direction:"backward"}}else i={ranges:[[o,o]],direction:"none"}}else if(qs(e)){const o=this.normalizeOffset(e[0]),a=this.normalizeOffset(e[1]);i=o<=a?{ranges:[[o,a]],direction:"none"}:{ranges:[[a,o]],direction:"backward"}}else es(e)&&(i={ranges:e.ranges.map(o=>this.normalizeRange(o)),direction:(n=e.direction)!==null&&n!==void 0?n:"none"});return i}}function Mp(t,e,r,n){const i=t.offsetOf(e);if(i<r||i>n)return!1;if(!e.hasChildren)return!0;const o=t.offsetOf(e.firstChild);if(o>=r&&o<=n){const a=t.offsetOf(e.lastChild);if(a>=r&&a<=n)return!0}return!1}function cu(t,e,r){if(!(e!=null&&e.hasChildren))return!1;const[n,i]=r,o=t.offsetOf(e.firstChild),a=t.offsetOf(e.lastChild);return o>=n&&o<=i&&a>=o&&a<=i}function Is(t,e){let r=t.at(t.position);for(;r&&!(Array.isArray(r.treeBranch)&&r.parent instanceof pe);)r=r.parent;if(Array.isArray(r==null?void 0:r.treeBranch)&&(r==null?void 0:r.parent)instanceof pe){const n=r.parent;let i;switch(e){case"after row":n.addRowAfter(r.treeBranch[0]),i=t.offsetOf(n.getCell(r.treeBranch[0]+1,0)[0]);break;case"after column":if(n.maxColumns<=n.colCount)return void t.announce("plonk");n.addColumnAfter(r.treeBranch[1]),i=t.offsetOf(n.getCell(r.treeBranch[0],r.treeBranch[1]+1)[0]);break;case"before row":n.addRowBefore(r.treeBranch[0]),i=t.offsetOf(n.getCell(r.treeBranch[0]-1,0)[0]);break;case"before column":if(n.maxColumns<=n.colCount)return void t.announce("plonk");n.addColumnBefore(r.treeBranch[1]),i=t.offsetOf(n.getCell(r.treeBranch[0],r.treeBranch[1]-1)[0])}t.setSelection(i,i+1)}}function z1(t){return!!ye(t,{inputType:"insertText"})&&(Is(t,"after row"),we(t,{inputType:"insertText"}),!0)}function A1(t){return!!ye(t,{inputType:"insertText"})&&(Is(t,"after column"),we(t,{inputType:"insertText"}),!0)}function Lp(t,e){let r=t.at(t.position);for(;r&&!(Array.isArray(r.treeBranch)&&r.parent instanceof pe);)r=r.parent;if(Array.isArray(r==null?void 0:r.treeBranch)&&(r==null?void 0:r.parent)instanceof pe){const n=r.parent,i=r.treeBranch;let o;switch(e){case"row":if(n.rowCount>1){n.removeRow(i[0]);const a=n.getCell(Math.max(0,i[0]-1),i[1]);o=t.offsetOf(a[a.length-1])}break;case"column":if(n.colCount>n.minColumns){n.removeColumn(i[1]);const a=n.getCell(i[0],Math.max(0,i[1]-1));o=t.offsetOf(a[a.length-1])}}o&&t.setPositionHandlingPlaceholder(o)}}function oo(t,e,r,n){var i,o,a,s,l,u;const c=r.parent;if(r instanceof Je){const d=!n&&e==="forward"||n==="body"&&e==="backward";let p=d?t.offsetOf(r.firstChild):t.offsetOf(r.lastChild);return d?r.rightDelim!=="?"&&r.rightDelim!=="."?(r.leftDelim=".",r.isDirty=!0):(c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),p--):r.leftDelim!=="?"&&r.leftDelim!=="."?(r.rightDelim=".",r.isDirty=!0):(c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),p--),t.position=p,!0}if(r.type==="surd"){if(e==="forward"&&!n||e==="backward"&&n==="body"){const d=r.leftSibling;r.hasChildren&&c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),t.position=t.offsetOf(d)}else e==="forward"&&n==="body"?t.position=t.offsetOf(r):n||e!=="backward"?n==="above"&&(r.hasEmptyBranch("above")&&r.removeBranch("above"),t.position=e==="backward"?t.offsetOf(r.leftSibling):t.offsetOf(r.body[0])):r.hasChildren?t.position=t.offsetOf(r.lastChild):(t.position=Math.max(0,t.offsetOf(r)-1),c.removeChild(r));return!0}if(r.type==="box"||r.type==="enclose"){const d=n&&e==="backward"||!n&&e==="forward"?r.leftSibling:r.lastChild;return c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),t.position=t.offsetOf(d),!0}if(r.type==="genfrac"||r.type==="overunder"){if(!n)return!(r.type==="overunder"&&r.hasEmptyBranch("body")||r.type==="genfrac"&&r.hasEmptyBranch("below")&&r.hasEmptyBranch("above")||(t.position=t.offsetOf(e==="forward"?r.firstChild:r.lastChild),0));const d=r.context.fractionNavigationOrder==="numerator-denominator"?"above":"below",p=d==="above"?"below":"above";if(e==="forward"&&n===d||e==="backward"&&n===p){const f=r.removeBranch(d),g=r.removeBranch(p);return c.addChildrenAfter([...f,...g],r),c.removeChild(r),t.position=t.offsetOf(f.length>0?f[f.length-1]:g[0]),!0}return e==="backward"?(t.position=t.offsetOf(r.leftSibling),!0):(t.position=t.offsetOf(r),!0)}if(r.isExtensibleSymbol||r.type==="msubsup"){if(!n&&e==="forward")return!1;if(!n){if(r.subscript||r.superscript){const d=e==="forward"?(o=(i=r.superscript)===null||i===void 0?void 0:i[0])!==null&&o!==void 0?o:(a=r.subscript)===null||a===void 0?void 0:a[0]:(l=(s=r.subscript)===null||s===void 0?void 0:s[0].lastSibling)!==null&&l!==void 0?l:(u=r.superscript)===null||u===void 0?void 0:u[0].lastSibling;return d&&(t.position=t.offsetOf(d)),!0}return!1}if(n&&r.hasEmptyBranch(n)&&r.removeBranch(n),!r.hasChildren){const d=e==="forward"?t.offsetOf(r):Math.max(0,t.offsetOf(r)-1);return r.parent.removeChild(r),t.position=d,!0}if(n==="superscript")if(e==="backward"){const d=t.offsetOf(r.firstChild)-1;t.position=d}else r.subscript?t.position=t.offsetOf(r.subscript[0]):t.position=t.offsetOf(r);else n==="subscript"&&(e==="backward"&&r.superscript?t.position=t.offsetOf(r.superscript[0].lastSibling):t.position=e==="backward"?t.offsetOf(r.firstChild)-1:t.offsetOf(r));return!0}return!1}function mr(t,e,r){const n=t.getAtoms(e);if(n.length>0&&n[0].parent){let i=n[0].parent.firstChild;i.type==="first"&&(i=i.rightSibling);const o=n[n.length-1].parent.lastChild;let a=n[0];a.type==="first"&&(a=a.rightSibling);const s=n[n.length-1];if(a===i&&s===o){const l=n[0].parent;l.type!=="root"&&(e=[t.offsetOf(l.leftSibling),t.offsetOf(l.rightSibling)])}}return t.deferNotifications({content:!0,selection:!0,type:r},()=>t.deleteAtoms(e))}function T1(t,e){const r=t.at(e);let n;if(r){n=r.mode;let i=r.parent;for(;!n&&i;)i&&(n=i.mode),i=i.parent}return n}function Wr(t,e){t&&e&&(je(t)?t.forEach(r=>Wr(r,e)):typeof t=="object"&&(t.style.color||t.style.backgroundColor||t.style.fontFamily||t.style.fontShape||t.style.fontSeries||t.style.fontSize||t.style.variant||t.style.variantStyle||(t.applyStyle(e),Wr(t.body,e),Wr(t.above,e),Wr(t.below,e),Wr(t.subscript,e),Wr(t.superscript,e))))}function D0(t,e,r,n){function i(a,s){for(const l of o)if(l.style[a]!==s)return!1;return!0}if((e=t.normalizeRange(e))[0]===e[1])return!1;const o=t.getAtoms(e,{includeChildren:!0});n.operation==="toggle"&&(r.color&&i("color",r.color)&&(r.color="none",r.verbatimColor=void 0),r.backgroundColor&&i("backgroundColor",r.backgroundColor)&&(r.backgroundColor="none",r.verbatimBackgroundColor=void 0),r.fontFamily&&i("fontFamily",r.fontFamily)&&(r.fontFamily="none"),r.fontSeries&&i("fontSeries",r.fontSeries)&&(r.fontSeries="auto"),r.fontShape&&i("fontShape",r.fontShape)&&(r.fontShape="auto"),r.fontSize&&i("fontSize",r.fontSize)&&(r.fontSize=5));for(const a of o)a.applyStyle(r);return!0}function E0(t,e,r){if(t.at(e).mode!=="text")return e;const n=r==="backward"?-1:1;let i;if(Ds.test(t.at(e).value)){let o,a=e;do o=t.at(a).mode==="text"&&Ds.test(t.at(a).value),a+=n;while(t.at(a)&&o);i=t.at(a)?a-2*n:a-n}else if(/\s/.test(t.at(e).value)){let o=e;for(;t.at(o)&&t.at(o).mode==="text"&&/\s/.test(t.at(o).value);)o+=n;if(t.at(o)){let a=!0;do a=t.at(o).mode==="text"&&!/\s/.test(t.at(o).value),o+=n;while(t.at(o)&&a);i=t.at(o)?o-2*n:o-n}else i=o-n}else{let o=e;for(;t.at(o)&&t.at(o).mode==="text"&&!/\s/.test(t.at(o).value);)o+=n;i=t.at(o)?o:o-n;let a=!0;for(;t.at(o)&&a;)a=t.at(o).mode==="text"&&/\s/.test(t.at(o).value),a&&(i=o),o+=n;i=t.at(o)?o-2*n:o-n}return i-(n>0?0:1)}function ni(t,e,r){var n,i,o,a,s,l,u;const c=t.position;(n=r==null?void 0:r.extend)!==null&&n!==void 0&&n||t.collapseSelection(e);let d=t.at(t.position);if(e==="forward"&&(d.type==="msubsup"?(d=d.rightSibling,d||(d=t.at(t.position+1))):d=t.at(t.position+1)),!d)return t.announce("plonk"),!1;let p=t.offsetOf(d);if(d instanceof Gn)p=E0(t,p,e);else if(d instanceof ze)if(d.isSuggestion)for(;d&&d instanceof ze;)d.isSuggestion=!1,p=t.offsetOf(d),d=d.rightSibling;else if(e==="forward"){if(d=d.rightSibling,!(d&&d instanceof ze))return t.announce("plonk"),!1;for(;d&&d instanceof ze&&/[a-zA-Z\*]/.test(d.value);)p=t.offsetOf(d),d=d.rightSibling}else{if(d=d.leftSibling,!(d&&d instanceof ze))return t.announce("plonk"),!1;for(;d&&d instanceof ze&&/[a-zA-Z\*]/.test(d.value);)p=t.offsetOf(d),d=d.leftSibling}else if(e==="forward"&&d.type==="mopen"){let f=0;do d.type==="mopen"?f+=1:d.type==="mclose"&&(f-=1),d=d.rightSibling;while(!d.isLastSibling&&f!==0);p=t.offsetOf(d.leftSibling)}else if(e==="backward"&&d.type==="mclose"){let f=0;do d.type==="mopen"?f+=1:d.type==="mclose"&&(f-=1),d=d.leftSibling;while(!d.isFirstSibling&&f!==0);p=t.offsetOf(d)}else if(e==="backward")if(d.type==="first")for(;p>0&&d.type==="first";)p-=1,d=t.at(p);else{const f=d.type;d.type==="msubsup"&&(p=t.offsetOf(t.at(p).leftSibling)),p-=1;let g=(i=t.at(p))===null||i===void 0?void 0:i.type;for(;p>=0&&g===f;)((o=t.at(p))===null||o===void 0?void 0:o.type)==="msubsup"?p=t.offsetOf(t.at(p).leftSibling):p-=1,g=t.at(p).type}else{const{type:f}=d;let g=(a=t.at(p))===null||a===void 0?void 0:a.type;const{lastOffset:v}=t;for(;p<=v&&(g===f||g==="msubsup");){for(;((s=t.at(p).rightSibling)===null||s===void 0?void 0:s.type)==="msubsup";)p=t.offsetOf(t.at(p).rightSibling);p+=1,g=(l=t.at(p))===null||l===void 0?void 0:l.type}p-=1}if((u=r==null?void 0:r.extend)!==null&&u!==void 0&&u){if(!t.setSelection(t.anchor,p))return t.announce("plonk"),!1}else{if(p===t.position)return t.announce("plonk"),!1;t.position=p}return t.announce("move",c),!0}function Mr(t,e,r){var n,i,o,a,s,l,u,c;if(r=r??{extend:!1},e!=="forward"){const[p,f]=w1(t);p!==void 0&&f!==void 0&&t.deleteAtoms([p,f])}if(e==="upward")return function(p,f){var g,v,k,b;const y=(g=f==null?void 0:f.extend)!==null&&g!==void 0&&g;y||p.collapseSelection("backward");const m=p.at(p.position);let h=m;for(;h&&h.treeBranch!=="below"&&!(Array.isArray(h.treeBranch)&&h.parent instanceof pe);)h=h.parent;if(Array.isArray(h==null?void 0:h.treeBranch)&&h.parent instanceof pe){const w=h.parent,x=Math.max(0,h.treeBranch[0]-1);$a(p,m,w.array[x][h.treeBranch[1]],y,"up")}else{if(!h){let w=!0;return p.suppressChangeNotifications||(w=(b=(k=p.mathfield.host)===null||k===void 0?void 0:k.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))===null||b===void 0||b),p.announce(w?"plonk":"line"),w}$a(p,m,(v=h.parent.branch("above"))!==null&&v!==void 0?v:h.parent.createBranch("above"),y,"up")}return!0}(t,r);if(e==="downward")return function(p,f){var g,v,k,b;const y=(g=f==null?void 0:f.extend)!==null&&g!==void 0&&g;y||p.collapseSelection("forward");const m=p.at(p.position);let h=m;for(;h&&h.treeBranch!=="above"&&!(Array.isArray(h.treeBranch)&&h.parent instanceof pe);)h=h.parent;if(Array.isArray(h==null?void 0:h.treeBranch)&&h.parent instanceof pe){const w=h.parent,x=Math.min(w.array.length-1,h.treeBranch[0]+1);$a(p,m,w.array[x][h.treeBranch[1]],y,"down")}else{if(!h){let w=!0;return p.suppressChangeNotifications||(w=(b=(k=p.mathfield.host)===null||k===void 0?void 0:k.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))===null||b===void 0||b),p.announce(w?"plonk":"line"),w}$a(p,m,(v=h.parent.branch("below"))!==null&&v!==void 0?v:h.parent.createBranch("below"),y,"down")}return!0}(t,r);const d=t.position;if(r.extend)return t.extendSelection(e);if(t.selectionIsPlaceholder)return t.collapseSelection(e),Mr(t,e);if(!t.collapseSelection(e)){let p=t.position+(e==="forward"?1:-1),f=t.at(p);if(p>=0&&p<=t.lastOffset){if(e==="forward")if(f.inCaptureSelection){for(;!f.captureSelection;)f=f.parent;p=t.offsetOf(f)}else if(!f.isFirstSibling&&f.isLastSibling&&(!((n=f.parent)===null||n===void 0)&&n.skipBoundary)){if(p+1!==t.lastOffset)return t.position=p,Mr(t,"forward",r);p+=1}else!((i=f.parent)===null||i===void 0)&&i.skipBoundary&&(!((o=f.rightSibling)===null||o===void 0)&&o.isLastSibling)?p+=2:!((a=f.parent)===null||a===void 0)&&a.skipBoundary&&f.type==="first"?p+=1:f instanceof ze&&f.isSuggestion&&(f.isSuggestion=!1);else if(e==="backward")if(!((s=f.parent)===null||s===void 0)&&s.inCaptureSelection){for(;!f.captureSelection;)f=f.parent;p=Math.max(0,t.offsetOf(f.leftSibling))}else(f.skipBoundary||!((l=f.parent)===null||l===void 0)&&l.skipBoundary&&f.type==="first")&&(p=Math.max(0,t.position-2))}if(p<0||p>t.lastOffset){let g=!0;return t.suppressChangeNotifications||(g=(c=(u=t.mathfield.host)===null||u===void 0?void 0:u.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))===null||c===void 0||c),g&&t.announce("plonk"),g}t.setPositionHandlingPlaceholder(p)}return t.announce("move",d),!0}function $a(t,e,r,n,i){const o=yp(t.mathfield.getHTMLElement(e)).right,a=t.offsetOf(function(s,l,u){let c=1/0,d=0;for(;d<l.length;d++){const p=yp(s.getHTMLElement(l[d])).right,f=Math.abs(u-p);if(!(f<=c))break;c=f}return l[d-1]}(t.mathfield,r,o));if(n){const[s,l]=t.selection.ranges[0];let u;u=a<(i==="up"?s:l)?{ranges:[[a,l]],direction:"backward"}:{ranges:[[s,a]],direction:"forward"},t.setSelection(u)}else t.setPositionHandlingPlaceholder(a);t.announce(`move ${i}`)}function D1(t){const e=t.position,r=t.at(e).parent;return r&&r.type!=="root"?(t.position=t.offsetOf(r),t.announce("move",e),!0):(t.announce("plonk"),!1)}function Cp(t){var e;if(t.collapseSelection(),function(n){let i=0,o=n.at(n.position),a=!1;for(;o;)o.hasEmptyBranch("superscript")&&o.hasEmptyBranch("subscript")||(i+=1),o.hasEmptyBranch("superscript")?o.hasEmptyBranch("subscript")||(a=!1):a=!0,o=o.parent;return a?i:0}(t)>=t.mathfield.options.scriptDepth[1])return t.announce("plonk"),!1;let r=t.at(t.position);return r.subsupPlacement===void 0&&(((e=r.rightSibling)===null||e===void 0?void 0:e.type)!=="msubsup"&&r.parent.addChildAfter(new Ii(t.mathfield,{style:r.computedStyle}),r),r=r.rightSibling),r.createBranch("superscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(r.superscript[0]))),!0}function zp(t){var e;if(t.collapseSelection(),function(n){let i=0,o=n.at(n.position),a=!1;for(;o;)o.hasEmptyBranch("superscript")&&o.hasEmptyBranch("subscript")||(i+=1),o.hasEmptyBranch("superscript")?o.hasEmptyBranch("subscript")||(a=!0):a=!1,o=o.parent;return a?i:0}(t)>=t.mathfield.options.scriptDepth[0])return t.announce("plonk"),!1;let r=t.at(t.position);return r.subsupPlacement===void 0&&(((e=t.at(t.position+1))===null||e===void 0?void 0:e.type)!=="msubsup"&&r.parent.addChildAfter(new Ii(t.mathfield,{style:t.at(t.position).computedStyle}),r),r=t.at(t.position+1)),r.createBranch("subscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(r.subscript[0]))),!0}function Ap(t,e,r=!0){var n,i;const o=e==="forward"?1:-1;t.at(t.anchor).type==="placeholder"&&Mr(t,e);const a=t.getAllAtoms(Math.max(t.position+o,0));e==="backward"&&a.reverse();const s=a.filter(d=>d.type==="placeholder"||d.treeDepth>2&&d.isFirstSibling&&d.isLastSibling);if(s.length===0){if(!r||(i=(n=t.mathfield.host)===null||n===void 0?void 0:n.dispatchEvent(new CustomEvent("focus-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))!==null&&i!==void 0&&!i)return t.announce("plonk"),!1;const d=function(){function f(v){return!((k=v).disabled||k.type==="hidden"&&k.tagName.toUpperCase()==="INPUT"||function(b){if(!ue()||b===document.activeElement||b.contains(document.activeElement))return!1;if(getComputedStyle(b).visibility==="hidden")return!0;const y=b.getBoundingClientRect();if(y.width===0||y.height===0)return!0;for(;b;){if(getComputedStyle(b).display==="none")return!0;b=b.parentElement}return!1}(k)||function(b){return b.tagName.toUpperCase()==="INPUT"&&b.type==="radio"&&!function(y){var m;if(!y.name)return!0;const h=function(w,x){for(const S of w)if(S.checked&&S.form===x)return S;return null}(((m=y.form)!==null&&m!==void 0?m:y.ownerDocument).querySelectorAll('input[type="radio"][name="'+y.name+'"]'),y.form);return!h||h===y}(b)}(v)||g(v)<0);var k}function g(v){var k;const b=Number.parseInt((k=v.getAttribute("tabindex"))!==null&&k!==void 0?k:"NaN",10);return Number.isNaN(b)?v.contentEditable==="true"?0:v.nodeName!=="AUDIO"&&v.nodeName!=="VIDEO"||v.getAttribute("tabindex")!==null?v.tabIndex:0:b}return ue()?function(v){const k=[],b=[];return[...v.querySelectorAll(`input, select, textarea, a[href], button,
        [tabindex], audio[controls], video[controls],
        [contenteditable]:not([contenteditable="false"]), details>summary`)].filter(f).forEach((y,m)=>{const h=g(y);h===0?k.push(y):b.push({documentOrder:m,tabIndex:h,node:y})}),b.sort((y,m)=>y.tabIndex===m.tabIndex?y.documentOrder-m.documentOrder:y.tabIndex-m.tabIndex).map(y=>y.node).concat(k)}(document.body):[]}();if(!document.activeElement||d.length===1)return t.announce("plonk"),!1;let p=d.indexOf(document.activeElement)+o;return!!(document.activeElement instanceof Et&&l(document.activeElement,e,o))||(p<0&&(p=d.length-1),p>=d.length&&(p=0),!!(d[p]instanceof Et&&l(d[p],e,o))||(d[p].focus(),p!==0||(t.announce("plonk"),!1)))}function l(d,p,f){var g,v,k;const b=[...(v=(g=d.shadowRoot)===null||g===void 0?void 0:g.querySelectorAll("math-field"))!==null&&v!==void 0?v:[]];if(b.length){const y=(k=d.shadowRoot)===null||k===void 0?void 0:k.activeElement,m=b.indexOf(y);let h=m+f;if(m<0&&p==="backward"&&(h=b.length-1),h>=0&&h<b.length)return b[h].focus(),!0}return!1}const u=t.position,c=t.offsetOf(s[0]);return s[0].type==="placeholder"?t.setSelection(c-1,c):t.position=c,t.announce("move",u),!0}function E1(t){var e,r,n,i,o,a;if(T1(t,t.position)==="text"){let s=Math.min(t.anchor,t.position),l=Math.max(t.anchor,t.position),u=!1;for(;!u&&s>0;){const c=t.at(s);c.mode==="text"&&Ds.test(c.value)?s-=1:u=!0}for(u=!1;!u&&l<=t.lastOffset;){const c=t.at(l);c.mode==="text"&&Ds.test(c.value)?l+=1:u=!0}if(u&&(l-=1),s>=l)return t.setSelection(l-1,l),!0;t.setSelection(s,l)}else{const s=t.at(t.position);if(s.isDigit()){let l=Math.min(t.anchor,t.position),u=Math.max(t.anchor,t.position);for(;!((e=t.at(l))===null||e===void 0)&&e.isDigit();)l-=1;for(;!((r=t.at(u))===null||r===void 0)&&r.isDigit();)u+=1;t.setSelection(l,u-1)}else if(s.style.variant||s.style.variantStyle){let l=Math.min(t.anchor,t.position),u=Math.max(t.anchor,t.position),c=(n=t.at(l))===null||n===void 0?void 0:n.style;for(;c&&c.variant===s.style.variant&&c.variantStyle===s.style.variantStyle;)l-=1,c=(i=t.at(l))===null||i===void 0?void 0:i.style;for(c=(o=t.at(u))===null||o===void 0?void 0:o.style;c&&c.variant===s.style.variant&&c.variantStyle===s.style.variantStyle;)u+=1,c=(a=t.at(u))===null||a===void 0?void 0:a.style;t.setSelection(l,u-1)}else t.setSelection(t.offsetOf(s.firstSibling),t.offsetOf(s.lastSibling))}return!0}yt({addRowAfter:z1,addColumnAfter:A1,addRowBefore:function(t){return!!ye(t,{inputType:"insertText"})&&(Is(t,"before row"),we(t,{inputType:"insertText"}),!0)},addColumnBefore:function(t){return!!ye(t,{inputType:"insertText"})&&(Is(t,"before column"),we(t,{inputType:"insertText"}),!0)},removeRow:function(t){return!!ye(t,{inputType:"deleteContent"})&&(Lp(t,"row"),we(t,{inputType:"deleteContent"}),!0)},removeColumn:function(t){return!!ye(t,{inputType:"deleteContent"})&&(Lp(t,"column"),we(t,{inputType:"deleteContent"}),!0)}},{target:"model",category:"array-edit"}),yt({deleteAll:t=>ye(t,{inputType:"deleteContent"})&&mr(t,[0,-1],"deleteContent"),deleteForward:t=>function(e){return!!ye(e,{inputType:"deleteContentForward"})&&(e.selectionIsCollapsed?e.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var r,n;let i=e.at(e.position).rightSibling;if(i&&oo(e,"forward",i))return;if(i){if(e.at(e.position).isLastSibling&&oo(e,"forward",i.parent,i.treeBranch))return}else{if(i=e.at(e.position),i.isLastSibling&&oo(e,"forward",i.parent,i.treeBranch))return;i=null}if(e.position===e.lastOffset||!i)return void e.announce("plonk");i.parent.removeChild(i);let o=(r=e.at(e.position))===null||r===void 0?void 0:r.rightSibling;for(;(o==null?void 0:o.type)==="msubsup";)o.parent.removeChild(o),o=(n=e.at(e.position))===null||n===void 0?void 0:n.rightSibling;e.announce("delete",void 0,[i])}):mr(e,Xt(e.selection),"deleteContentForward"))}(t),deleteBackward:t=>function(e){return!!ye(e,{inputType:"deleteContentBackward"})&&(e.selectionIsCollapsed?e.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let r=e.at(e.position);if(!r||!oo(e,"backward",r)){if(r!=null&&r.isFirstSibling){if(oo(e,"backward",r.parent,r.treeBranch))return;r=null}r?(e.position=e.offsetOf(r.leftSibling),r.parent.removeChild(r),e.announce("delete",void 0,[r])):e.announce("plonk")}}):mr(e,Xt(e.selection),"deleteContentBackward"))}(t),deleteNextWord:t=>ye(t,{inputType:"deleteWordForward"})&&mr(t,[t.anchor,E0(t,t.position,"forward")],"deleteWordForward"),deletePreviousWord:t=>ye(t,{inputType:"deleteWordBackward"})&&mr(t,[t.anchor,E0(t,t.position,"backward")],"deleteWordBackward"),deleteToGroupStart:t=>ye(t,{inputType:"deleteSoftLineBackward"})&&mr(t,[t.anchor,t.offsetOf(t.at(t.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:t=>ye(t,{inputType:"deleteSoftLineForward"})&&mr(t,[t.anchor,t.offsetOf(t.at(t.position).lastSibling)],"deleteSoftLineForward"),deleteToMathFieldStart:t=>ye(t,{inputType:"deleteHardLineBackward"})&&mr(t,[t.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:t=>ye(t,{inputType:"deleteHardLineForward"})&&mr(t,[t.anchor,-1],"deleteHardLineForward")},{target:"model",category:"delete"}),yt({moveToOpposite:t=>{const e=t.at(t.position),{parent:r}=e;if(!r)return t.announce("plonk"),!1;const n=e.treeBranch;let i;return typeof n=="string"&&(i={superscript:"subscript",subscript:"superscript",above:"below",below:"above"}[n]),i?(r.branch(i)||r.createBranch(i),t.setSelection(t.getBranchRange(t.offsetOf(r),i))):e.subsupPlacement?zp(t):Cp(t)},moveBeforeParent:t=>{const{parent:e}=t.at(t.position);return e?(t.position=t.offsetOf(e),!0):(t.announce("plonk"),!1)},moveAfterParent:t=>D1(t),moveToNextPlaceholder:t=>Ap(t,"forward"),moveToPreviousPlaceholder:t=>Ap(t,"backward"),moveToNextChar:t=>Mr(t,"forward"),moveToPreviousChar:t=>Mr(t,"backward"),moveUp:t=>Mr(t,"upward"),moveDown:t=>Mr(t,"downward"),moveToNextWord:t=>ni(t,"forward"),moveToPreviousWord:t=>ni(t,"backward"),moveToGroupStart:t=>{const e=t.offsetOf(t.at(t.position).firstSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,!0)},moveToGroupEnd:t=>{const e=t.offsetOf(t.at(t.position).lastSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,!0)},moveToMathFieldStart:t=>t.position===0?(t.announce("plonk"),!1):(t.position=0,!0),moveToMathFieldEnd:t=>t.position===t.lastOffset?(t.announce("plonk"),!1):(t.position=t.lastOffset,!0),moveToSuperscript:t=>Cp(t),moveToSubscript:t=>zp(t)},{target:"model",category:"selection-anchor"}),yt({selectGroup:t=>{const e=E1(t);return e||t.announce("plonk"),e},selectAll:t=>t.setSelection(0,t.lastOffset),extendSelectionForward:t=>{const e=t.extendSelection("forward");return e||t.announce("plonk"),e},extendSelectionBackward:t=>{const e=t.extendSelection("backward");return e||t.announce("plonk"),e},extendToNextWord:t=>ni(t,"forward",{extend:!0}),extendToPreviousWord:t=>ni(t,"backward",{extend:!0}),extendSelectionUpward:t=>Mr(t,"upward",{extend:!0}),extendSelectionDownward:t=>Mr(t,"downward",{extend:!0}),extendToNextBoundary:t=>ni(t,"forward",{extend:!0}),extendToPreviousBoundary:t=>ni(t,"backward",{extend:!0}),extendToGroupStart:t=>{const e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).firstSibling));return e||t.announce("plonk"),e},extendToGroupEnd:t=>{const e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).lastSibling));return e||t.announce("plonk"),e},extendToMathFieldStart:t=>{const e=t.setSelection(t.anchor,0);return e||t.announce("plonk"),e},extendToMathFieldEnd:t=>{const e=t.setSelection(t.anchor,t.lastOffset);return e||t.announce("plonk"),e}},{target:"model",category:"selection-extend"});class bi{constructor(e){var r,n;this.preventOverlayClose=(r=e==null?void 0:e.preventOverlayClose)!==null&&r!==void 0&&r,this.translucent=(n=e==null?void 0:e.translucent)!==null&&n!==void 0&&n,this.state="closed"}get element(){if(this._element)return this._element;const e=document.createElement("div");return e.setAttribute("role","presentation"),e.style.position="fixed",e.style.contain="content",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.zIndex="var(--scrim-zindex, 10099)",e.style.outline="none",this.translucent?(e.style.background="rgba(255, 255, 255, .2)",e.style.backdropFilter="contrast(40%)"):e.style.background="transparent",this._element=e,e}open(e){var r;if(this.state!=="closed")return;this.state="opening",this.savedActiveElement=Tp();const{element:n}=this;((r=e==null?void 0:e.root)!==null&&r!==void 0?r:document.body).appendChild(n),n.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);const i=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";const o=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${o+i}px`,e!=null&&e.child&&n.append(e.child),this.state="open"}close(){var e,r,n,i;if(this.state!=="open")return;this.state="closing",typeof this.onClose=="function"&&this.onClose();const{element:o}=this;o.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),o.remove(),document.body.style.overflow=(e=this.savedOverflow)!==null&&e!==void 0?e:"",document.body.style.marginRight=(r=this.savedMarginRight)!==null&&r!==void 0?r:"",Tp()!==this.savedActiveElement&&((i=(n=this.savedActiveElement)===null||n===void 0?void 0:n.focus)===null||i===void 0||i.call(n)),o.innerHTML="",this.state="closed"}handleEvent(e){this.preventOverlayClose||(e.target===this._element&&e.type==="click"?(this.close(),e.preventDefault(),e.stopPropagation()):e.target!==document||e.type!=="touchmove"&&e.type!=="scroll"||(this.close(),e.preventDefault(),e.stopPropagation()))}}function Tp(){var t;let e=document.activeElement;for(;!((t=e==null?void 0:e.shadowRoot)===null||t===void 0)&&t.activeElement;)e=e.shadowRoot.activeElement;return e}const k3=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function Dp(t){return!t.ctrlKey&&!t.metaKey&&t.key!=="Dead"&&(t.code===""||k3.has(t.code))}function Ep(t){const e=[];return(t=function(r){if(r.code)return r;const n=Object.entries(Qo().mapping);let i=!1,o=!1,a="";for(let s=0;s<4;s++){for(const[l,u]of n)if(u[s]===r.key){a=l,s===3?(i=!0,o=!0):s===2?i=!0:s===1&&(o=!0);break}if(a)break}return new KeyboardEvent(r.type,{...r,altKey:i,shiftKey:o,code:a})}(t)).ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.length===0?"["+t.code+"]":(e.push("["+t.code+"]"),e.join("+"))}function du(){var t;if(!ue())return null;let e=document.activeElement;for(;!((t=e==null?void 0:e.shadowRoot)===null||t===void 0)&&t.activeElement;)e=e.shadowRoot.activeElement;return e}function Ba(t){var e;if(!t)return"";let r;return t.key==="Unidentified"&&t.target&&(r=t.target.value),r=(e=r??t.key)!==null&&e!==void 0?e:t.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(r)&&(r=""),r}class w3{get maximumDepth(){return 1e3}constructor(e){this.recording=!1,this.canCoalesce=!1,this.model=e,this.reset()}reset(){this.stack=[],this.index=-1}startRecording(){this.recording=!0}canUndo(){return this.index>0}canRedo(){return this.index!==this.stack.length-1}undo(){return!!this.canUndo()&&(this.model.setState(this.stack[this.index-1],{suppressChangeNotifications:!1,type:"undo"}),this.index-=1,this.canCoalesce=!1,!0)}redo(){return!!this.canRedo()&&(this.index+=1,this.model.setState(this.stack[this.index],{suppressChangeNotifications:!1,type:"redo"}),this.canCoalesce=!1,!0)}pop(){this.canUndo()&&(this.index-=1,this.stack.pop())}snapshot(){return!!this.recording&&(this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index++,this.stack.length>this.maximumDepth&&this.stack.shift(),this.canCoalesce=!1,!0)}snapshotAndCoalesce(){if(!this.recording)return!1;this.canCoalesce&&this.pop();const e=this.snapshot();return this.canCoalesce=!0,e}}var $p='.ML__keyboard{--hue:206;--keyboard-background:rgba(209,213,217,.97);--keyboard-text:#000;--keyboard-text-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-background-border:#ddd;--keycap-background:#fff;--keycap-background-active:#e5e5e5;--keycap-background-border:#e5e6e9;--keycap-background-border-bottom:#8d8f92;--keycap-text:#000;--keycap-text-active:#fff;--keycap-secondary-text:#000;--keycap-modifier-background:#b9bdc7;--keycap-modifier-border:#c5c9d0;--keycap-modifier-border-bottom:#989da6;--keyboard-alternate-background:#fff;--keyboard-alternate-background-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-alternate-text:var(--keycap-text,#000);--keyboard-alternate-text-active:#fff;--keyboard-alternate-key-length:70px;--keyboard-alternate-key-font-size:30px;--keyboard-alternate-key-aside-font-size:12px;--keyboard-height:276px;--keycap-height:52px;--keycap-font-size:20px;--keycap-small-font-size:calc(var(--keycap-font-size)*0.8);--keycap-extra-small-font-size:calc(var(--keycap-font-size)/1.42);--keycap-tt-font-size:calc(var(--keycap-font-size)*1.5);height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:var(--keyboard-zindex,105)}.ML__keyboard.is-visible .ML__keyboard--plate{opacity:1;transform:translateY(calc(var(--keyboard-height, 276px)*-1));transition-timing-function:cubic-bezier(.4,0,1,1);visibility:visible}.ML__keyboard.alternate-keys{align-content:center;background-color:var(--keyboard-alternate-background);border-radius:6px;bottom:auto;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);box-sizing:content-box;display:flex;flex-direction:row;justify-content:center;max-width:286px;position:fixed;text-align:center;top:0;transform:none;transition:none;visibility:hidden;z-index:calc(var(--keyboard-zindex, 105) + 1)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys{max-width:320px}}.ML__keyboard.alternate-keys.is-visible{visibility:visible}.ML__keyboard.alternate-keys.compact{--keyboard-alternate-key-length:50px;--keyboard-alternate-key-font-size:24px;--keyboard-alternate-key-aside-font-size:10px}.ML__keyboard.alternate-keys ul{display:flex;flex-flow:row wrap-reverse;justify-content:center;list-style:none;margin:3px;padding:0}.ML__keyboard.alternate-keys ul>li{fill:currentColor;align-items:center;background:transparent;border:1px solid transparent;border-radius:5px;box-sizing:border-box;color:var(--keyboard-alternate-text);display:flex;flex-flow:column;font-size:var(--keyboard-alternate-key-font-size);height:var(--keyboard-alternate-key-length);justify-content:center;margin:0;pointer-events:all;width:var(--keyboard-alternate-key-length)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys ul>li{font-size:24px;height:50px;width:50px}}.ML__keyboard.alternate-keys ul>li.is-active,.ML__keyboard.alternate-keys ul>li.is-pressed,.ML__keyboard.alternate-keys ul>li:hover{background:var(--keyboard-alternate-background-active);color:var(--keyboard-alternate-text-active)}.ML__keyboard.alternate-keys ul>li.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard.alternate-keys ul>li.small-button{background:#fbfbfb;height:42px;margin:2px;width:42px}.ML__keyboard.alternate-keys ul>li.small-button:hover{background:var(--keyboard-alternate-background-active)}.ML__keyboard.alternate-keys ul>li.box>div,.ML__keyboard.alternate-keys ul>li.box>span{border:1px dashed rgba(0,0,0,.24)}.ML__keyboard.alternate-keys ul>li .warning{align-items:center;background:#cd0030;border-radius:5px;color:#fff;display:flex;justify-content:center;min-height:60px;min-width:60px;padding:5px}.ML__keyboard.alternate-keys ul>li .warning.is-active,.ML__keyboard.alternate-keys ul>li .warning.is-pressed,.ML__keyboard.alternate-keys ul>li .warning:hover{background:red}.ML__keyboard.alternate-keys ul>li .warning svg.svg-glyph{height:50px;width:50px}.ML__keyboard.alternate-keys ul>li aside{font-size:var(--keyboard-alternate-key-aside-font-size);line-height:12px;opacity:.78;padding-top:2px}.ML__keyboard .ML__keyboard--plate{-webkit-backdrop-filter:grayscale(50%);backdrop-filter:grayscale(50%);background-color:var(--keyboard-background);border:1px solid var(--keyboard-background-border);bottom:calc(var(--keyboard-height, 276px)*-1);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);box-sizing:border-box;cursor:pointer;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:16px;font-weight:400;left:0;margin:0;opacity:0;padding-top:5px;pointer-events:all;position:absolute;text-shadow:none;touch-action:none;transform:translate(0);transition:.28s cubic-bezier(0,0,.2,1);transition-property:transform,opacity;-webkit-user-select:none;user-select:none;visibility:hidden;width:100%}.ML__keyboard .ML__keyboard--plate .tex{font-family:KaTeX_Math,KaTeX_Main,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tex-math{font-family:KaTeX_Math,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tt{font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace!important;font-size:var(--keycap-tt-font-size,30px);font-weight:400}.ML__keyboard .ML__keyboard--plate>div.keyboard-layer{display:none;outline:none}.ML__keyboard .ML__keyboard--plate>div.keyboard-layer.is-visible{display:flex;flex-flow:column}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar{align-self:center;display:flex;flex-flow:row;justify-content:space-between;min-width:736px}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar{min-width:556px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar{max-width:100vw;min-width:365px;width:365px}}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar svg{height:20px;width:20px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar svg{height:13px;width:17px}}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>.left{display:flex;flex-flow:row;justify-content:flex-start;position:relative}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>.right{display:flex;flex-flow:row;justify-content:flex-end}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div{fill:currentColor;align-items:baseline;background:0;border:none;border-bottom:2px solid transparent;box-shadow:none;color:var(--keyboard-text);cursor:pointer;display:flex;font-size:110%;justify-content:center;margin:7px 4px 6px;min-height:0;padding:4px 10px}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.disabled svg,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.disabled.is-pressed svg,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.disabled:hover svg{color:var(--keyboard-text);opacity:.2}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div{font-size:100%;padding:0 6px 0 0}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div{font-size:90%;padding-left:4px;padding-right:4px}}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.is-active,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.is-pressed,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div:active,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div:hover{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.selected{border-bottom:2px solid var(--keyboard-text-active);color:var(--keyboard-text-active);margin-bottom:8px;padding-bottom:0}.ML__keyboard .ML__keyboard--plate [data-tooltip]{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{background:#616161;border-radius:2px;bottom:100%;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-tooltip);display:inline-table;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;text-align:center;top:inherit;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1) 1s;width:max-content;z-index:2}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{font-size:16px;padding:8px 16px}}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover:after{opacity:1;transform:scale(1)}.ML__keyboard .ML__keyboard--plate div .rows{align-items:center;border:0;border-collapse:separate;clear:both;display:flex;flex-flow:column;margin:auto}.ML__keyboard .ML__keyboard--plate div .rows>ul{height:40px;list-style:none;margin:0 0 3px;padding:0}.ML__keyboard .ML__keyboard--plate div .rows>ul>li{fill:currentColor;-webkit-tap-highlight-color:transparent;align-items:center;background:var(--keycap-background);border:1px solid var(--keycap-background-border);border-bottom-color:var(--keycap-background-border-bottom);border-radius:5px;box-sizing:border-box;color:var(--keycap-text);display:flex;flex-flow:column;float:left;font-size:var(--keycap-font-size,20px);height:40px;justify-content:center;margin-right:2px;overflow:hidden;padding:8px 0;position:relative;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:top;width:34px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li:last-child{margin-right:0}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.tt{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.bottom{justify-content:flex-end}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.left{align-items:flex-start;padding-left:4px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.right{align-items:flex-end;padding-right:4px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li svg.svg-glyph{height:20px;width:20px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li .warning{align-items:center;background:#cd0030;border-radius:100%;color:#fff;display:flex;height:25px;justify-content:center;margin-bottom:-2px;min-height:25px;min-width:25px;padding:5px;width:25px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li .warning svg.svg-glyph{height:16px;width:16px}@media only screen and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li .warning{height:16px;min-height:16px;min-width:16px;width:16px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li .warning svg.svg-glyph{height:14px;width:14px}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w0{width:0}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w5{width:16px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w15{width:52px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w20{width:70px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w50{width:178px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.separator{background:transparent;border:none;pointer-events:none}@media only screen and (max-width:560px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li.if-wide{display:none}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.tex-math{font-size:25px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows>ul>li:hover{background:var(--keycap-background-active);color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action:active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.keycap.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.keycap:active{color:var(--keyboard-text-active);transform:translateY(calc(var(--keycap-height, 52px)*-.2)) scale(1.4);z-index:calc(var(--keyboard-zindex, 105) - 5)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier:active{background:var(--keyboard-text-active);color:var(--keycap-text-active)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.font-glyph{font-size:18px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.font-glyph{font-size:16px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li.fnbutton{font-size:12px}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.bigfnbutton{font-size:var(--keycap-extra-small-font-size,14px)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li.bigfnbutton{font-size:calc(var(--keycap-extra-small-font-size, 14px)/1.55)}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier{background-color:var(--keycap-modifier-background);border-color:var(--keycap-modifier-border);border-bottom-color:var(--keycap-modifier-border-bottom);font-size:65%;font-weight:100}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected:active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected:hover,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected:active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected:hover{color:#fff}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.keycap.w50{font-size:80%;font-weight:100;padding-top:10px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li small{color:#555}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li small{font-size:9px}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li aside{color:#666;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:10px;line-height:10px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li aside{display:none}}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li{margin-right:2px;width:calc(10vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w5{width:calc(5vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w15{width:calc(15vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w20{width:calc(20vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w50{width:calc(50vw - 2px)}}@media only screen and (min-width:415px) and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li{margin-right:3px;width:37px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w5{width:17px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w15{width:57px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w20{width:77px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w50{width:197px}}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate div .rows>ul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li{height:var(--keycap-height,52px);margin-right:4px;width:51px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w5{width:23.5px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w15{width:78.5px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w20{width:106px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w50{width:271px}}@media only screen and (min-width:1025px){.ML__keyboard .ML__keyboard--plate div .rows>ul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li{height:var(--keycap-height,52px);margin-right:6px;width:66px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.action,.ML__keyboard .ML__keyboard--plate div .rows>ul>.modifier{font-size:80%}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w5{width:30px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w15{width:102px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w20{width:138px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w50{width:354px}}@media (prefers-color-scheme:dark){body:not([theme=light]) .ML__keyboard{--hue:206;--keyboard-background:#4e6373;--keyboard-background:#4e6073;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}}body[theme=dark] .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}div.ML__keyboard.material{--keyboard-background:rgba(209,213,217,.9);--keyboard-background-border:#ddd;--keycap-background:transparent;--keycap-background-active:#cccfd1;--keycap-background-border:transparent;--keyboard-alternate-background:#efefef;--keyboard-alternate-text:#000;font-family:Roboto,sans-serif}div.ML__keyboard.material.alternate-keys{background:var(--keyboard-alternate-background);border:1px solid transparent;border-radius:5px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}div.ML__keyboard.material.alternate-keys ul li.is-active,div.ML__keyboard.material.alternate-keys ul li.is-pressed,div.ML__keyboard.material.alternate-keys ul li:active,div.ML__keyboard.material.alternate-keys ul li:hover{fill:currentColor;background:#5f97fc;border:1px solid transparent;color:#fff}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar>div>div{font-size:16px}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:hover,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-pressed{fill:currentColor;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar>div>.selected{fill:currentColor;border-bottom:2px solid #5f97fc;color:#5f97fc;margin-bottom:8px;padding-bottom:0}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap{fill:currentColor;background:transparent;border:1px solid transparent;border-radius:5px;color:var(--keycap-text);transition:none}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap.tt{color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "]{background:#e0e0e0;height:20px;margin-bottom:10px;margin-top:10px}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "].is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "].is-pressed,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "]:active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "]:hover{background:#d0d0d0;box-shadow:none;transform:none}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]):hover{background:var(--keycap-background-active);border:1px solid transparent;box-shadow:none}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]):active{background:var(--keyboard-alternate-background);box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);color:var(--keyboard-alternate-text)}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]):active{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);font-size:10px;justify-content:flex-start;margin-left:10px;margin-right:10px;padding:2px 0 0;transform:translateY(-10px) scale(2);transition:none;vertical-align:top;width:19.5px;z-index:calc(var(--ML_keyboard-zindex, 105) - 5)}}@media only screen and (max-width:414px){div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]):active{width:16.5px}}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:last-child.is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:last-child:active{margin-left:14px;margin-right:0}}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier{fill:currentColor;background:transparent;border:0;color:#869096;font-size:16px;transition:none}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.selected{border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:hover{background:var(--keycap-background-active);border:0;box-shadow:none;color:var(--keycap-text)}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton{background:transparent;border:0}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.selected{fill:currentColor;border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:hover{fill:currentColor;background:var(--keycap-background-active);border:0;box-shadow:none;color:#5f97fc}@media (prefers-color-scheme:dark){body:not([theme=light]) div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}}body[theme=dark] div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}';function js(t,e,r){var n;let i,o,a,s,l;typeof(n=r)=="object"&&("default"in n||"pressed"in n)?(r.default&&(e.dataset.command=JSON.stringify(r.default)),r.alt&&(e.dataset.commandAlt=JSON.stringify(r.alt)),r.altshift&&(e.dataset.commandAltshift=JSON.stringify(r.altshift)),r.shift&&(e.dataset.commandShift=JSON.stringify(r.shift)),r.pressed&&(e.dataset.commandPressed=JSON.stringify(r.pressed)),r.pressAndHoldStart&&(e.dataset.commandPressAndHoldStart=JSON.stringify(r.pressAndHoldStart)),r.pressAndHoldEnd&&(e.dataset.commandPressAndHoldEnd=JSON.stringify(r.pressAndHoldEnd))):e.dataset.command=JSON.stringify(r),Ue(e,"mousedown touchstart:passive",u=>{if(u.type!=="mousedown"||u.buttons===1){u.stopPropagation(),u.type!=="touchstart"&&u.preventDefault(),document.body.style["-webkit-user-select"]="none",e.classList.add("is-pressed"),i=Date.now(),u.type==="touchstart"&&(a=u.changedTouches[0].identifier);const c=e.getAttribute("data-command-pressed");c&&t(JSON.parse(c));const d=e.getAttribute("data-command-press-and-hold-start");d&&(o=e,l&&clearTimeout(l),l=setTimeout(()=>{e.classList.contains("is-pressed")&&t(JSON.parse(d))},300))}}),Ue(e,"mouseleave touchcancel",()=>{e.classList.remove("is-pressed")}),Ue(e,"touchmove:passive",u=>{for(let c=0;c<u.changedTouches.length;c++)if(u.changedTouches[c].identifier===a){const d=document.elementsFromPoint(u.changedTouches[c].clientX,u.changedTouches[c].clientY),p=d[d.length-1];p!==s&&s&&(s.dispatchEvent(new MouseEvent("mouseleave"),{bubbles:!0}),s=null),p&&(s=p,p.dispatchEvent(new MouseEvent("mouseenter",{bubbles:!0,buttons:1})))}}),Ue(e,"mouseenter",u=>{u.buttons===1&&e.classList.add("is-pressed")}),Ue(e,"mouseup touchend click",u=>{if(document.body.style["-webkit-user-select"]="",s){u.stopPropagation(),u.preventDefault();const p=s;return s=null,void p.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0}))}if(e.classList.remove("is-pressed"),e.classList.add("is-active"),u.type==="click"&&u.detail!==0)return u.stopPropagation(),void u.preventDefault();setTimeout(()=>e.classList.remove("is-active"),150);let c=e.getAttribute("data-command-press-and-hold-end");const d=Date.now();(e!==o||d<i+300)&&(c=null),!c&&u.altKey&&u.shiftKey&&(c=e.getAttribute("data-command-altshift")),!c&&u.altKey&&(c=e.getAttribute("data-command-alt")),!c&&u.shiftKey&&(c=e.getAttribute("data-command-shift")),c||(c=e.getAttribute("data-command")),c&&t(JSON.parse(c)),u.stopPropagation(),u.preventDefault()})}let pu;function ea(){var t;Fr();const e=document.querySelector("#mathlive-alternate-keys-panel");return e&&(e.classList.remove("is-visible"),e.innerHTML=""),(t=bi.scrim)===null||t===void 0||t.close(),!1}class _3{constructor(e,r){this.originalContainerBottomPadding=null,this.options=e,this.visible=!1,this._mathfield=r,this.coreStylesheet=null,this.virtualKeyboardStylesheet=null}setOptions(e){var r,n;let i="";if(this._element){const o=this._element.querySelector("div.keyboard-layer.is-visible");o&&(i=(r=o.getAttribute("data-layer"))!==null&&r!==void 0?r:""),this._element.remove(),this._element=void 0}if(this.options=e,this.visible){this.buildAndAttachElement(e.virtualKeyboardTheme);const o=this.element.querySelector(`.keyboard-layer[data-layer="${i}"]`);o&&((n=this.element.querySelector(".keyboard-layer.is-visible"))===null||n===void 0||n.classList.remove("is-visible"),o.classList.add("is-visible")),this.element.classList.add("is-visible")}}get element(){return this._element}set element(e){var r;this._element!==e&&((r=this._element)===null||r===void 0||r.remove(),this._element=e)}get visible(){return this._visible}set visible(e){this._visible=e}get height(){var e,r;return(r=(e=this.element)===null||e===void 0?void 0:e.offsetHeight)!==null&&r!==void 0?r:0}buildAndAttachElement(e){var r;this.element=function(n,i){var o,a,s,l;Fr();let u=`<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">

    <symbol id="svg-delete-backward" viewBox="0 0 576 512">
      <path d="M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/>
    </symbol>

    <symbol id="svg-shift" viewBox="0 0 384 512">
      <path d="M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/>
    </symbol>

    <symbol id="svg-commit" viewBox="0 0 512 512">
      <path d="M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/>
    </symbol>

    <symbol id="svg-command" viewBox="0 0 640 512">
      <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>
    </symbol>

    <symbol id="svg-undo" viewBox="0 0 512 512">
      <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>
    </symbol>
    <symbol id="svg-redo" viewBox="0 0 512 512">
      <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>
    </symbol>
    <symbol id="svg-arrow-left" viewBox="0 0 320 512">
      <path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 320 512">
      <path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/>
    </symbol>
    <symbol id="svg-tab" viewBox="0 0 448 512">
      <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>
    </symbol>
    <symbol id="svg-copy" viewBox="0 0 448 512">
      <path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z"/>
    </symbol>
    <symbol id="svg-angle-double-right" viewBox="0 0 320 512">
      <path d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17zm128-17l-117.8-116c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17L255.3 256 153.1 356.4c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l117.8-116c4.6-4.7 4.6-12.3-.1-17z"/>
    </symbol>
    <symbol id="svg-angle-double-left" viewBox="0 0 320 512">
      <path d="M153.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L192.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L153 264.5c-4.6-4.7-4.6-12.3.1-17zm-128 17l117.8 116c4.7 4.7 12.3 4.7 17 0l7.1-7.1c4.7-4.7 4.7-12.3 0-17L64.7 256l102.2-100.4c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L25 247.5c-4.6 4.7-4.6 12.3.1 17z"/>
    </symbol>
    <symbol id="svg-trash" viewBox="0 0 448 512">
      <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>
    </symbol>
</svg>
        `;n.create(),ao["foreground-color"]=[];for(const m of Object.keys(As))ao["foreground-color"].push({class:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; box-sizing: border-box; border: 3px solid '+As[m]+'"></span>',command:["applyStyle",{color:m}]});ao["background-color"]=[];for(const m of Object.keys(zs))ao["background-color"].push({class:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; background:'+zs[m]+'"></span>',command:["applyStyle",{backgroundColor:m}]});oe={...ao};for(const m of Object.keys(oe))oe[m]=oe[m].slice();for(let m=0;m<26;m++){const h="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[m];oe[h]||(oe[h]=[]),oe[h].unshift({latex:"\\mathbb{"+h+"}",aside:"blackboard",insert:"\\mathbb{"+h+"}"}),oe[h].unshift({latex:"\\mathbf{"+h+"}",aside:"bold",insert:"\\mathbf{"+h+"}"}),oe[h].unshift({latex:"\\mathsf{"+h+"}",aside:"sans",insert:"\\mathsf{"+h+"}"}),oe[h].unshift({latex:"\\mathtt{"+h+"}",aside:"monospace",insert:"\\mathtt{"+h+"}"}),oe[h].unshift({latex:"\\mathcal{"+h+"}",aside:"calligraphy",insert:"\\mathcal{"+h+"}"}),oe[h].unshift({latex:"\\mathfrak{"+h+"}",aside:"fraktur",insert:"\\mathfrak{"+h+"}"})}for(let m=0;m<=26;m++){const h="abcdefghijklmnopqrstuvwxyz"[m];oe[h]||(oe[h]=[]),oe[h].unshift({latex:"\\mathsf{"+h+"}",aside:"sans",insert:"\\mathsf{"+h+"}"}),oe[h].unshift({latex:"\\mathbf{"+h+"}",aside:"bold",insert:"\\mathbf{"+h+"}"}),oe[h].unshift({latex:"\\mathtt{"+h+"}",aside:"monospace",insert:"\\mathtt{"+h+"}"}),oe[h].unshift({latex:"\\mathfrak{"+h+"}",aside:"fraktur",insert:"\\mathfrak{"+h+"}"})}for(let m=0;m<10;m++){const h="0123456789"[m];oe[h]||(oe[h]=[]),oe[h].unshift({latex:"\\mathbf{"+h+"}",aside:"bold",insert:"\\mathbf{"+h+"}"}),oe[h].unshift({latex:"\\mathsf{"+h+"}",aside:"sans",insert:"\\mathsf{"+h+"}"}),oe[h].unshift({latex:"\\mathtt{"+h+"}",aside:"monospace",insert:"\\mathtt{"+h+"}"}),oe[h].unshift({latex:"\\mathcal{"+h+"}",aside:"script",insert:"\\mathcal{"+h+"}"}),oe[h].unshift({latex:"\\mathfrak{"+h+"}",aside:"fraktur",insert:"\\mathfrak{"+h+"}"})}let c=n.options.virtualKeyboards;c||(c="all"),c=c.replace(/\ball\b/i,"numeric functions symbols roman  greek");const d={...S3,...(o=n.options.customVirtualKeyboardLayers)!==null&&o!==void 0?o:{}},p={...$1,...(a=n.options.customVirtualKeyboards)!==null&&a!==void 0?a:{}},f=c.replace(/\s+/g," ").split(" ");for(const m of f){if(!p[m])continue;let h=(s=p[m].layers)!==null&&s!==void 0?s:[];p[m].layer&&h.push(p[m].layer),h=[...new Set(h)];for(const w of h){if(!d[w])break;if(typeof d[w]=="object"){const S=d[w];let M="";if(typeof S.styles=="string"?M+=`<style>${S.styles}</style>`:typeof S.styles=="object"&&(M+=`<style>${C3(S.styles)}</style>`),S.backdrop&&(M+=`<div class='${S.backdrop}'>`),S.container&&(M+=`<div class='${S.container}'>`),S.rows){M+="<div class='rows'>";for(const D of S.rows){M+="<ul>";for(const A of D){if(M+="<li",A.class){let F=A.class;A.layer&&!/layer-switch/.test(F)&&(F+=" layer-switch"),/separator/.test(F)||(F+=" keycap"),M+=` class="${F}"`}else M+=' class="keycap"';if(A.key&&(M+=` data-key="${A.key}"`),A.command&&(typeof A.command=="string"?M+=` data-command='"${A.command}"'`:(M+=" data-command='",M+=JSON.stringify(A.command),M+="'")),A.insert&&(M+=` data-insert="${A.insert}"`),A.latex&&(M+=` data-latex="${A.latex}"`),A.aside&&(M+=` data-aside="${A.aside}"`),A.variants){const F=Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);oe[F]=A.variants,M+=` data-alt-keys="${F}"`}A.shifted&&(M+=` data-shifted="${A.shifted}"`),A.shiftedCommand&&(M+=` data-shifted-command="${A.shiftedCommand}"`),A.layer&&(M+=` data-layer="${A.layer}"`),M+=`>${A.label?A.label:""}</li>`}M+="</ul>"}M+="</div>"}S.container&&(M+="</div>"),S.backdrop&&(M+="</div>"),d[w]=M}u+=`<div tabindex="-1" class='keyboard-layer' data-layer='${w}'>`,u+=M3(n.options,c,m);const x=d[w];typeof x=="string"&&(u+=L3(n.options,x)),u+="</div>"}}const g=document.createElement("div");g.className="ML__keyboard",i?g.classList.add(i):n.options.virtualKeyboardTheme&&g.classList.add(n.options.virtualKeyboardTheme);const v=document.createElement("div");v.className="ML__keyboard--plate",v.innerHTML=n.options.createHTML(u),g.appendChild(v);const k=g.querySelectorAll(".keycap, .action, .fnbutton, .bigfnbutton");for(const m of k)m.id="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);B1(n,[...k]);const b=g.querySelectorAll(".layer-switch");for(const m of b)m.classList.contains("shift")?js(h=>n.executeCommand(h),m,{pressed:"shiftKeyboardLayer",default:["switchKeyboardLayer",m.getAttribute("data-layer")],pressAndHoldEnd:"unshiftKeyboardLayer"}):js(h=>n.executeCommand(h),m,{default:["switchKeyboardLayer",m.getAttribute("data-layer")]});const y=g.querySelectorAll(".keyboard-layer");for(const m of y)m.addEventListener("mousedown",h=>{h.preventDefault(),h.stopPropagation()}),m.addEventListener("touchstart",h=>{h.preventDefault(),h.stopPropagation()},{passive:!1});return(l=y[0])===null||l===void 0||l.classList.add("is-visible"),g}(this,e??""),Ue(this.element,"touchstart:passive mousedown",()=>this.focusMathfield()),(r=this.options.virtualKeyboardContainer)===null||r===void 0||r.appendChild(this.element)}handleEvent(e){if(this.element)switch(e.type){case"mouseup":case"blur":case"touchend":case"touchcancel":document.body.style.userSelect="",Vs(this)}}focusMathfield(){var e,r;(r=(e=this._mathfield)===null||e===void 0?void 0:e.focus)===null||r===void 0||r.call(e)}blurMathfield(){var e,r;(r=(e=this._mathfield)===null||e===void 0?void 0:e.blur)===null||r===void 0||r.call(e)}stateChanged(){var e,r;(r=(e=this._mathfield)===null||e===void 0?void 0:e.element)===null||r===void 0||r.dispatchEvent(new Event("virtual-keyboard-toggle",{bubbles:!0,cancelable:!1,composed:!0}))}executeCommand(e){var r,n,i;let o,a=[];return je(e)?(o=e[0],a=e.slice(1)):o=e,o=o.replace(/-\w/g,s=>s[1].toUpperCase()),((r=on[o])===null||r===void 0?void 0:r.target)==="virtual-keyboard"?on[o].fn(this,...a):(i=(n=this._mathfield)===null||n===void 0?void 0:n.executeCommand(e))!==null&&i!==void 0&&i}create(){this.virtualKeyboardStylesheet||(pu||(pu=bn($p).toString(36)),this.virtualKeyboardStylesheet=vn(null,$p,pu)),this.coreStylesheet||(this.coreStylesheet=vn(null,xn,bn(xn).toString(36))),this.options.fontsDirectory!==null&&C1(this.options.fontsDirectory)}enable(){ue()&&(window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("touchend",this),window.addEventListener("touchcancel",this))}disable(){ue()&&(window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("touchend",this),window.removeEventListener("touchcancel",this))}dispose(){}}const $1={numeric:{tooltip:"keyboard.tooltip.numeric",layer:"math",label:"123",layers:["math"]},roman:{tooltip:"keyboard.tooltip.roman",layer:"lower-roman",label:"ABC",layers:["lower-roman","upper-roman"]},greek:{tooltip:"keyboard.tooltip.greek",layer:"lower-greek",label:"&alpha;&beta;&gamma;",classes:"tex-math",layers:["lower-greek","upper-greek"]},functions:{tooltip:"keyboard.tooltip.functions",layer:"functions",label:"<i>f</i>&thinsp;()",classes:"tex",layers:["functions"]},symbols:{tooltip:"keyboard.tooltip.symbols",layer:"symbols",label:"&infin;",classes:"tex",layers:["symbols"]},latex:{tooltip:"keyboard.tooltip.command",command:["switchMode","latex"],label:`<svg class="svg-glyph"><use xlink:href='#svg-command' /></svg>`,layers:["latex-lower","latex-upper","latex-symbols"]},style:{tooltip:"keyboard.tooltip.style",layer:"style",label:"<b>b</b><i>i</i>"}},hu={"\\varphi ":["&Phi;","\\Phi "],"\\varsigma ":["&Sigma;","\\Sigma "],"\\epsilon ":["&#x0190;",'\\char"0190'],"\\rho ":["&#x3A1",'\\char"3A1'],"\\tau ":["&#x3A4;",'\\char"3A4'],"\\upsilon ":["&Upsilon;","\\Upsilon "],"\\theta ":["&Theta;","\\Theta "],"\\iota ":["&Iota;",'\\char"399'],"\\omicron ":["&#x039F;",'\\char"39F'],"\\pi ":["&Pi;","\\Pi "],"\\alpha ":["&Alpha;",'\\char"391'],"\\sigma ":["&Sigma;","\\Sigma "],"\\delta ":["&Delta;","\\Delta "],"\\phi ":["&#x03a6;","\\Phi "],"\\gamma ":["&Gamma;","\\Gamma "],"\\eta ":["&Eta;",'\\char"397'],"\\xi ":["&Xi;","\\Xi "],"\\kappa ":["&Kappa;",'\\char"39A'],"\\lambda ":["&Lambda;","\\Lambda "],"\\zeta ":["&Zeta;",'\\char"396'],"\\chi ":["&Chi;",'\\char"3A7'],"\\psi ":["&Psi;","\\Psi "],"\\omega ":["&Omega;","\\Omega "],"\\beta ":["&Beta;",'\\char"392'],"\\nu ":["&Nu;",'\\char"39D'],"\\mu ":["&Mu;",'\\char"39C']},ao={0:["\\emptyset","\\varnothing","\\infty",{latex:"#?_0",insert:"#@_0"},"\\circ","\\bigcirc","\\bullet"],2:["\\frac{1}{2}",{latex:"#?^2",insert:"#@^2"}],3:["\\frac{1}{3}",{latex:"#?^3",insert:"#@^3"}],".":[".",",",";","\\colon",{latex:":",aside:"ratio"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},"\\odot","\\oslash","\\circledcirc"],"*":["\\cdot","\\ast","\\star","\\bigstar","\\ltimes","\\rtimes","\\rightthreetimes","\\leftthreetimes","\\intercal","\\prod",{latex:"\\prod_{n\\mathop=0}^{\\infty}",class:"small"}],"+":["\\pm","\\mp","\\sum",{latex:"\\sum_{n\\mathop=0}^{\\infty}",class:"small"},"\\dotplus","\\oplus"],"-":["\\pm","\\mp","\\ominus","\\vert #0  \\vert"],"/":["\\divideontimes","/","\\div","\\%"],"(":["\\left( #0\\right)","\\left[ #0\\right]","\\left\\{ #0\\right\\}","\\left\\langle #0\\right\\rangle","\\lfloor","\\llcorner","(","\\lbrack","\\lvert","\\lVert","\\lgroup","\\langle","\\lceil","\\ulcorner","\\lmoustache","\\lbrace"],")":["\\rfloor","\\lrcorner",")","\\rbrack","\\rvert","\\rVert","\\rgroup","\\rangle","\\rceil","\\urcorner","\\rmoustache","\\rbrace"],"=":["\\cong","\\asymp","\\equiv","\\differencedelta","\\varpropto","\\thickapprox","\\approxeq","\\thicksim","\\backsim","\\eqsim","\\simeq","\\Bumpeq","\\bumpeq","\\doteq","\\Doteq","\\fallingdotseq","\\risingdotseq","\\coloneq","\\eqcirc","\\circeq","\\triangleq","\\between"],"!=":["\\neq","\\ncong","","\\nsim"],"<":["\\leq","\\leqq","\\lneqq","\\ll","\\lessgtr","\\nless","\\nleq","\\lesssim","\\precsim","\\prec","\\nprec","\\preccurlyeq","\\lessdot"],">":["\\geq","\\geqq","\\gneqq","\\gg","\\gtrless","\\ngtr","\\ngeq","\\gtrsim","\\succsim","\\succ","\\nsucc","\\succcurlyeq","\\gtrdot"],in:["\\owns"],"!in":["\\backepsilon"],subset:["\\subseteq","\\nsubset","\\nsubseteq"],superset:["\\supseteq","\\nsupset","\\nsupseteq"],infinity:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"],"numeric-pi":["\\prod","\\theta","\\rho","\\sin","\\cos","\\tan"],ee:["\\times 10^{#?}","\\ln","\\ln_{10}","\\log"],"^":["_{#?}"],int:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},{latex:"\\dfrac{\\rd}{\\rd x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\capitalDifferentialD","\\rd","\\partial"],nabla:["\\nabla\\times","\\nabla\\cdot","\\nabla^{2}"],"!":["!!","\\Gamma","\\Pi"],accents:["\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"],underline:["\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"],overline:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}"],xleftarrows:["\\xlongequal{#@}","\\xleftrightarrow{#@}","\\xLeftrightarrow{#@}","\\xleftrightharpoons{#@}","\\xLeftarrow{#@}","\\xleftharpoonup{#@}","\\xleftharpoondown{#@}","\\xtwoheadleftarrow{#@}","\\xhookleftarrow{#@}","\\xtofrom{#@}","\\xleftequilibrium{#@}","\\xrightleftarrows{#@}"],xrightarrows:["\\xrightarrow{#@}","\\xlongequal{#@}","\\xleftrightarrow{#@}","\\xLeftrightarrow{#@}","\\xleftrightharpoons{#@}","\\xRightarrow{#@}","\\xrightharpoonup{#@}","\\xrightharpoondown{#@}","\\xtwoheadrightarrow{#@}","\\xrightleftharpoons{#@}","\\xhookrightarrow{#@}","\\xmapsto{#@}","\\xrightequilibrium{#@}","\\xrightleftarrows{#@}"],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],b:[{latex:"\\beth",aside:"beth"}],B:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"}],d:[{latex:"\\daleth",aside:"daleth"}],D:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"}],g:[{latex:"\\gimel",aside:"gimel"}],G:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"}],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"}],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],"x-var":["y","z","t","r",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"},"x^2","x^n","x_n","x_{n+1}","x_i","x_{i+1}"],"n-var":["i","j","p","k","a","u"],ii:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"],logic:[{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"},{latex:"\\ni",aside:"such that"},{latex:"\\Colon",aside:"such that"},{latex:"\\implies",aside:"implies"},{latex:"\\impliedby",aside:"implied by"},{latex:"\\iff",aside:"if and only if"},{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"},{latex:"\\therefore",aside:"therefore"},{latex:"\\because",aside:"because"},{latex:"^\\biconditional",aside:"biconditional"},"\\leftrightarrow","\\Leftrightarrow","\\to","\\models","\\vdash","\\gets","\\dashv","\\roundimplies"],"set-operators":["\\cap","\\cup","\\setminus","\\smallsetminus","\\complement"],"set-relations":["\\in","\\notin","\\ni","\\owns","\\subset","\\supset","\\subseteq","\\supseteq","\\subsetneq","\\supsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsupset","\\nsubseteq","\\nsupseteq"],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br> em"},{latex:'\\unicode{"203A}\\,\\unicode{"2039}',insert:"\\,",aside:"thin space<br> em"},{latex:'\\unicode{"203A}\\:\\unicode{"2039}',insert:"\\:",aside:"medium space<br> em"},{latex:'\\unicode{"203A}\\;\\unicode{"2039}',insert:"\\;",aside:"thick space<br> em"},{latex:'\\unicode{"203A}\\ \\unicode{"2039}',insert:"\\ ",aside:" em"},{latex:'\\unicode{"203A}\\enspace\\unicode{"2039}',insert:"\\enspace",aside:" em"},{latex:'\\unicode{"203A}\\quad\\unicode{"2039}',insert:"\\quad",aside:"1 em"},{latex:'\\unicode{"203A}\\qquad\\unicode{"2039}',insert:"\\qquad",aside:"2 em"}],delete:[{label:'<span class="warning"><svg class="svg-glyph"><use xlink:href="#svg-trash" /></svg></span>',command:"deleteAll"}],"->|":[]};let oe={};const S3={math:`
        <div class='rows'>
            <ul>
                <li class='keycap tex' data-alt-keys='x-var'><i>x</i></li>
                <li class='keycap tex' data-alt-keys='n-var'><i>n</i></li>
                <li class='separator w5'></li>
                <row name='numpad-1'/>
                <li class='separator w5'></li>
                <li class='keycap tex' data-latex='\\exponentialE' data-alt-keys='ee'>e</li>
                <li class='keycap tex' data-latex='\\imaginaryI' data-alt-keys='ii'>i</li>
                <li class='keycap tex' data-latex='\\pi' data-alt-keys='numeric-pi'></li>
            </ul>
            <ul>
                <li class='keycap tex' data-key='<' data-alt-keys='<'>&lt;</li>
                <li class='keycap tex' data-key='>' data-alt-keys='>'>&gt;</li>
                <li class='separator w5'></li>
                <row name='numpad-2'/>
                <li class='separator w5'></li>
                <li class='keycap tex' data-latex='#@^{2}' data-latex='x^2'></li>
                <li class='keycap tex' data-alt-keys='^' data-insert='#@^{#?}' data-latex='x^\\placeholder'></li>
                <li class='keycap tex small' data-insert='\\sqrt{#0}' data-latex='\\sqrt{#0}'></li>
            </ul>
            <ul>
                <li class='keycap tex' data-alt-keys='(' >(</li>
                <li class='keycap tex' data-alt-keys=')' >)</li>
                <li class='separator w5'></li>
                <row name='numpad-3'/>
                <li class='separator w5'></li>
                <li class='keycap small' data-alt-keys='int' data-latex='\\int_0^\\infty'></li>
                <li class='keycap' data-latex='\\forall' data-alt-keys='logic' ></li>
                <li class='action font-glyph bottom right' data-alt-keys='delete' data-command='["performWithFeedback","deleteBackward"]'><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li></ul>
            </ul>
            <ul>
                <li class='keycap' data-alt-keys='foreground-color' data-command='["applyStyle",{"color":"red"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'></span></li>
                <li class='keycap' data-alt-keys='background-color' data-command='["applyStyle",{"backgroundColor":"yellow"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span></li>
                <li class='separator w5'></li>
                <row name='numpad-4'/>
                <li class='separator w5'></li>
                <arrows/>
            </ul>
        </div>
    `,"lower-roman":`
        <div class='rows'>
            <ul>
                <row name='numpad-1' class='if-wide'/>
                <row name='lower-1' shift-layer='upper-roman'/>
            </ul>
            <ul>
                <row name='numpad-2' class='if-wide'/>
                <row name='lower-2'  shift-layer='upper-roman''/>
            </ul>
            <ul>
                <row name='numpad-3' class='if-wide'/>
                <row name='lower-3'  shift-layer='upper-roman''/>
            </ul>
            <ul>
                <row name='numpad-4' class='if-wide'/>
                <li class='keycap' >;</li>
                <li class='keycap' >,</li>
                <li class='keycap w50' data-key=' ' data-alt-keys='space'>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,"upper-roman":`
        <div class='rows'>
            <ul>
                <row name='numpad-1' class='if-wide'/>
                <row name='upper-1'  shift-layer='lower-roman'/>
            </ul>
            <ul>
                <row name='numpad-2' class='if-wide'/>
                <row name='upper-2' shift-layer='lower-roman'/>
            </ul>
            <ul>
                <row name='numpad-3' class='if-wide'/>
                <row name='upper-3' shift-layer='lower-roman'/>
            </ul>
            <ul>
                <row name='numpad-4' class='if-wide'/>
                <li class='keycap' >;</li>
                <li class='keycap' data-alt-keys='.'>;</li>
                <li class='keycap w50' data-key=' '>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,symbols:`
        <div class='rows'>
            <ul>
                <row name='numpad-1' class='if-wide'/>
                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrace '>{</li>
                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrace '>}</li>
                <li class='separator w5'></li>
                <li class='keycap tex small' data-alt-keys='xleftarrows' data-latex='\\leftarrow' ></li>
                <li class='keycap tex small' data-alt-keys='xrightarrows' data-latex='\\rightarrow' ></li>
                <li class='keycap tex' data-alt-keys='overline' data-latex='\\overline{#@}' data-aside='overline'></li>
                <li class='keycap tex' data-alt-keys='underline' data-latex='\\underline{#@}' data-aside='underline'></li>
                <li class='keycap w15' data-insert='\\ulcorner#0\\urcorner '><span><sup>&#x250c;</sup><span><span style='color:#ddd'>o</span><sup>&#x2510;</sup></span><aside>ceil</aside></li>
                <li class='keycap tex' data-alt-keys='nabla' data-insert='\\nabla '>&#x2207;<aside>nabla</aside></li>
                <li class='keycap tex' data-alt-keys='infinity' data-insert='\\infty '>&#x221e;</li>

            </ul>
            <ul>
                <row name='numpad-2' class='if-wide'/>
                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrack '>[</li>
                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrack '>]</li>
                <li class='separator w5'></li>

                <li class='keycap tex' data-alt-keys='in' data-insert='\\in '>&#x2208;</li>
                <li class='keycap tex' data-alt-keys='!in' data-insert='\\notin '>&#x2209;</li>
                <li class='keycap tex' data-insert='\\Re '>&#x211c;<aside>Real</aside></li>
                <li class='keycap tex' data-insert='\\Im '>&#x2111;<aside>Imaginary</aside></li>
                <li class='keycap w15' data-insert='\\llcorner#0\\lrcorner '><span><sub>&#x2514;</sub><span style='color:#ddd'>o</span><sub>&#x2518;</sub></span><aside>floor</aside></li>

                <li class='keycap tex' data-insert='\\partial '>&#x2202;<aside>partial<br>derivative</aside></li>
                <li class='keycap tex' data-insert='\\emptyset '>&#x2205;<aside>empty set</aside></li>

            </ul>
            <ul>
                <row name='numpad-3' class='if-wide'/>
                <li class='keycap tex' data-alt-keys='(' data-insert='\\langle '>&#x27e8;</li>
                <li class='keycap tex' data-alt-keys=')' data-insert='\\rangle '>&#x27e9;</li>
                <li class='separator w5'></li>
                <li class='keycap tex' data-alt-keys='subset' data-insert='\\subset '>&#x2282;</li>
                <li class='keycap tex' data-alt-keys='superset' data-insert='\\supset '>&#x2283;</li>

                <li class='keycap tex' data-alt-keys='accents' data-insert='\\vec{#@}' data-latex='\\vec{#?}' data-aside='vector'></li>
                <li class='keycap tex' data-alt-keys='absnorm' data-insert='\\left| #0 \\right|' data-latex='\\left| #? \\right|' data-aside='abs'></li>

                <li class='keycap tex' data-key='!' data-alt-keys='!'>!<aside>factorial</aside></li>
                <li class='keycap' data-latex='^{\\prime} '><span><sup><span><span style='color:#ddd'>o</span>&#x2032</sup></span><aside>prime</aside></li>

                <li class='action font-glyph bottom right w15'
                    data-shifted='<span class="warning"><svg class="svg-glyph"><use xlink:href="#svg-trash" /></svg></span>'
                    data-shifted-command='"deleteAll"'
                    data-alt-keys='delete' data-command='["performWithFeedback","deleteBackward"]'
                ><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li>
            </ul>
            <ul>
                <row name='numpad-4' class='if-wide'/>
                <li class='keycap tex' data-insert=','>,</li>
                <li class='keycap tex' data-insert='\\cdot '>&#x22c5;<aside>centered dot</aside></li>
                <li class='keycap tex' data-insert='\\colon '>:<aside>colon</aside></li>
                <li class='keycap tex' data-insert='\\circ '>&#x2218;<aside>circle</aside></li>
                <li class='keycap tex' data-insert='\\approx '>&#x2248;<aside>approx.</aside></li>
                <li class='keycap tex' data-insert='\\ne '>&#x2260;</li>
                <li class='keycap tex' data-insert='\\pm '>&#x00b1;</li>
                <arrows/>
            </ul>
        </div>`,"lower-greek":`
        <div class='rows'>
            <ul><li class='keycap tex' data-insert='\\varphi '><i>&#x03c6;</i><aside>phi var.</aside></li>
                <li class='keycap tex' data-insert='\\varsigma '><i>&#x03c2;</i><aside>sigma var.</aside></li>
                <li class='keycap tex' data-insert='\\epsilon '><i>&#x03f5;</i></li>
                <li class='keycap tex' data-insert='\\rho '><i>&rho;</i></li>
                <li class='keycap tex' data-insert='\\tau '><i>&tau;</i></li>
                <li class='keycap tex' data-insert='\\upsilon '><i>&upsilon;</i></li>
                <li class='keycap tex' data-insert='\\theta '><i>&theta;</i></li>
                <li class='keycap tex' data-insert='\\iota '><i>&iota;</i></li>
                <li class='keycap tex' data-insert='\\omicron '>&omicron;</i></li>
                <li class='keycap tex' data-insert='\\pi '><i>&pi;</i></li>
            </ul>
            <ul><li class='keycap tex' data-insert='\\alpha ' data-shifted='&Alpha;' data-shifted-command='["insert","\\\\char\\"391"]'><i>&alpha;</i></li>
                <li class='keycap tex' data-insert='\\sigma '><i>&sigma;</i></li>
                <li class='keycap tex' data-insert='\\delta '><i>&delta;</i></li>
                <li class='keycap tex' data-insert='\\phi '><i>&#x03d5;</i></i></li>
                <li class='keycap tex' data-insert='\\gamma '><i>&gamma;</i></li>
                <li class='keycap tex' data-insert='\\eta '><i>&eta;</i></li>
                <li class='keycap tex' data-insert='\\xi '><i>&xi;</i></li>
                <li class='keycap tex' data-insert='\\kappa '><i>&kappa;</i></li>
                <li class='keycap tex' data-insert='\\lambda '><i>&lambda;</i></li>
            </ul>
            <ul><li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='upper-greek'><svg class="svg-glyph"><use xlink:href="#svg-shift" /></svg></li>
                <li class='keycap tex' data-insert='\\zeta '><i>&zeta;</i></li>
                <li class='keycap tex' data-insert='\\chi '><i>&chi;</i></li>
                <li class='keycap tex' data-insert='\\psi '><i>&psi;</i></li>
                <li class='keycap tex' data-insert='\\omega '><i>&omega;</i></li>
                <li class='keycap tex' data-insert='\\beta '><i>&beta;</i></li>
                <li class='keycap tex' data-insert='\\nu '><i>&nu;</i></li>
                <li class='keycap tex' data-insert='\\mu '><i>&mu;</i></li>
                <li class='action font-glyph bottom right w15'
                    data-shifted='<span class="warning"><svg class="svg-glyph"><use xlink:href="#svg-trash" /></svg></span>'
                    data-shifted-command='"deleteAll"'
                    data-alt-keys='delete' data-command='["performWithFeedback","deleteBackward"]'
                ><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li>
            </ul>
            <ul>
                <li class='keycap ' data-key=' '>&nbsp;</li>
                <li class='keycap'>,</li>
                <li class='keycap tex' data-insert='\\varepsilon '><i>&#x03b5;</i><aside>epsilon var.</aside></li>
                <li class='keycap tex' data-insert='\\vartheta '><i>&#x03d1;</i><aside>theta var.</aside></li>
                <li class='keycap tex' data-insert='\\varkappa '><i>&#x3f0;</i><aside>kappa var.</aside></li>
                <li class='keycap tex' data-insert='\\varpi '><i>&#x03d6;<aside>pi var.</aside></i></li>
                <li class='keycap tex' data-insert='\\varrho '><i>&#x03f1;</i><aside>rho var.</aside></li>
                <arrows/>
            </ul>
        </div>`,"upper-greek":`
        <div class='rows'>
            <ul><li class='keycap tex' data-insert='\\Phi '>&Phi;<aside>phi</aside></li>
                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>
                <li class='keycap tex' data-insert='\\char"0190'>&#x0190;<aside>epsilon</aside></li>
                <li class='keycap tex' data-insert='\\char"3A1'>&#x3A1;<aside>rho</aside></li>
                <li class='keycap tex' data-insert='\\char"3A4'>&#x3A4;<aside>tau</aside></li>
                <li class='keycap tex' data-insert='\\Upsilon '>&Upsilon;<aside>upsilon</aside></li>
                <li class='keycap tex' data-insert='\\Theta '>&Theta;<aside>theta</aside></li>
                <li class='keycap tex' data-insert='\\char"399'>&Iota;<aside>iota</aside></li>
                <li class='keycap tex' data-insert='\\char"39F'>&#x039F;<aside>omicron</aside></li>
                <li class='keycap tex' data-insert='\\Pi '>&Pi;<aside>pi</aside></li></ul>
            <ul><li class='keycap tex' data-insert='\\char"391'>&#x391;<aside>alpha</aside></li>
                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>
                <li class='keycap tex' data-insert='\\Delta '>&Delta;<aside>delta</aside></li>
                <li class='keycap tex' data-insert='\\Phi '>&#x03a6;<aside>phi</aside></li>
                <li class='keycap tex' data-insert='\\Gamma '>&Gamma;<aside>gamma</aside></li>
                <li class='keycap tex' data-insert='\\char"397'>&Eta;<aside>eta</aside></li>
                <li class='keycap tex' data-insert='\\Xi '>&Xi;<aside>xi</aside></li>
                <li class='keycap tex' data-insert='\\char"39A'>&Kappa;<aside>kappa</aside></li>
                <li class='keycap tex' data-insert='\\Lambda '>&Lambda;<aside>lambda</aside></li></ul>
            <ul><li class='shift modifier font-glyph bottom left selected w15 layer-switch' data-layer='lower-greek'><svg class="svg-glyph"><use xlink:href="#svg-shift" /></svg></li>
                <li class='keycap tex' data-insert='\\char"396'>&Zeta;<aside>zeta</aside></li>
                <li class='keycap tex' data-insert='\\char"3A7'>&Chi;<aside>chi</aside></li>
                <li class='keycap tex' data-insert='\\Psi '>&Psi;<aside>psi</aside></li>
                <li class='keycap tex' data-insert='\\Omega '>&Omega;<aside>omega</aside></li>
                <li class='keycap tex' data-insert='\\char"392'>&Beta;<aside>beta</aside></li>
                <li class='keycap tex' data-insert='\\char"39D'>&Nu;<aside>nu</aside></li>
                <li class='keycap tex' data-insert='\\char"39C'>&Mu;<aside>mu</aside></li>
                <li class='action font-glyph bottom right w15' data-command='["performWithFeedback","deleteBackward"]'><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li></ul>
            <ul>
                <li class='separator w10'>&nbsp;</li>
                <li class='keycap'>.</li>
                <li class='keycap w50' data-key=' '>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,"latex-lower":`
        <div class='rows'>
            <ul><row name='lower-1' class='tt' shift-layer='latex-upper'/></ul>
            <ul><row name='lower-2' class='tt' shift-layer='latex-upper'/></ul>
            <ul><row name='lower-3' class='tt' shift-layer='latex-upper'/></ul>
            <ul>
                <li class='layer-switch font-glyph modifier bottom left' data-layer='latex-symbols'>01#</li>
                <li class='keycap tt' data-shifted='[' data-shifted-command='["insertAndUnshiftKeyboardLayer", "["]'>{</li>
                <li class='keycap tt' data-shifted=']' data-shifted-command='["insertAndUnshiftKeyboardLayer", "]"]'>}</li>
                <li class='keycap tt' data-shifted='(' data-shifted-command='["insertAndUnshiftKeyboardLayer", "("]'>^</li>
                <li class='keycap tt' data-shifted=')' data-shifted-command='["insertAndUnshiftKeyboardLayer", ")"]'>_</li>
                <li class='keycap w20' data-key=' '>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,"latex-upper":`
        <div class='rows'>
            <ul><row name='upper-1' class='tt' shift-layer='latex-lower'/></ul>
            <ul><row name='upper-2' class='tt' shift-layer='latex-lower'/></ul>
            <ul><row name='upper-3' class='tt' shift-layer='latex-lower'/></ul>
            <ul>
                <li class='layer-switch font-glyph modifier bottom left' data-layer='latex-symbols'01#</li>
                <li class='keycap tt'>[</li>
                <li class='keycap tt'>]</li>
                <li class='keycap tt'>(</li>
                <li class='keycap tt'>)</li>
                <li class='keycap w20' data-key=' '>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,"latex-symbols":`
        <div class='rows'>
            <ul><li class='keycap tt'>1</li><li class='keycap tt'>2</li><li class='keycap tt'>3</li><li class='keycap tt'>4</li><li class='keycap tt'>5</li><li class='keycap tt'>6</li><li class='keycap tt'>7</li><li class='keycap tt'>8</li><li class='keycap tt'>9</li><li class='keycap tt'>0</li></ul>
            <ul><li class='keycap tt'>!</li><li class='keycap tt'>@</li><li class='keycap tt'>#</li><li class='keycap tt'>$</li><li class='keycap tt'>%</li><li class='keycap tt'>^</li><li class='keycap tt'>&</li><li class='keycap tt'>*</li><li class='keycap tt'>+</li><li class='keycap tt'>=</li></ul>
            <ul>
                <li class='keycap tt'>\\</li>
                <li class='keycap tt'>|</li>
                <li class='keycap tt'>/</li>
                <li class='keycap tt'>\`</li>
                <li class='keycap tt'>;</li>
                <li class='keycap tt'>:</li>
                <li class='keycap tt'>?</li>
                <li class='keycap tt'>'</li>
                <li class='keycap tt'>"</li>
                <li class='action font-glyph bottom right'
                    data-shifted='<span class="warning"><svg class="svg-glyph"><use xlink:href="#svg-trash" /></svg></span>'
                    data-shifted-command='"deleteAll"'
                    data-alt-keys='delete' data-command='["performWithFeedback","deleteBackward"]'
                ><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li>
            </ul>
            <ul>
                <li class='layer-switch font-glyph modifier bottom left' data-layer='latex-lower'>abc</li>
                <li class='keycap tt'>&lt;</li>
                <li class='keycap tt'>&gt;</li>
                <li class='keycap tt'>~</li>
                <li class='keycap tt'>,</li>
                <li class='keycap tt'>.</li>
                <li class='keycap' data-key=' '>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,functions:`
        <div class='rows'>
            <ul><li class='separator'></li>
                <li class='fnbutton' data-insert='\\sin'></li>
                <li class='fnbutton' data-insert='\\sin^{-1}'></li>
                <li class='fnbutton' data-insert='\\ln'></li>
                <li class='fnbutton' data-insert='\\exponentialE^{#?}'></li>
                <li class='bigfnbutton' data-insert='\\operatorname{lcm}(#?)' data-latex='\\operatorname{lcm}()'></li>
                <li class='bigfnbutton' data-insert='\\operatorname{ceil}(#?)' data-latex='\\operatorname{ceil}()'></li>
                <li class='bigfnbutton' data-insert='\\lim_{n\\to\\infty}'></li>
                <li class='bigfnbutton' data-insert='\\int'></li>
                <li class='bigfnbutton' data-insert='\\operatorname{abs}(#?)' data-latex='\\operatorname{abs}()'></li>
            </ul>
            <ul><li class='separator'></li>
                <li class='fnbutton' data-latex='\\cos'></li>
                <li class='fnbutton' data-latex='\\cos^{-1}'></li>
                <li class='fnbutton' data-latex='\\ln_{10}'></li>
                <li class='fnbutton' data-latex='10^{#?}'></li>
                <li class='bigfnbutton' data-latex='\\operatorname{gcd}(#?)' data-latex='\\operatorname{gcd}()'></li>
                <li class='bigfnbutton' data-latex='\\operatorname{floor}(#?)' data-latex='\\operatorname{floor}()'></li>
                <li class='bigfnbutton' data-latex='\\sum_{n\\mathop=0}^{\\infty}'></li>
                <li class='bigfnbutton' data-latex='\\int_{0}^{\\infty}'></li>
                <li class='bigfnbutton' data-latex='\\operatorname{sign}(#?)' data-latex='\\operatorname{sign}()'></li>
            </ul>
            <ul><li class='separator'></li>
                <li class='fnbutton' data-latex='\\tan'></li>
                <li class='fnbutton' data-latex='\\tan^{-1}'></li>
                <li class='fnbutton' data-latex='\\log_{#?}'></li>
                <li class='fnbutton' data-latex='\\sqrt[#?]{#0}'></li>
                <li class='bigfnbutton' data-insert='#0 \\mod' data-latex='\\mod'></li>
                <li class='bigfnbutton' data-insert='\\operatorname{round}(#?) ' data-latex='\\operatorname{round}()'></li>
                <li class='bigfnbutton' data-insert='\\prod_{n\\mathop=0}^{\\infty}' data-latex='{\\scriptstyle \\prod_{n=0}^{\\infty}}'></li>
                <li class='bigfnbutton' data-insert='\\frac{\\differentialD #0}{\\differentialD x}'></li>
                <li class='action font-glyph bottom right' data-command='["performWithFeedback","deleteBackward"]'><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li></ul>
            <ul><li class='separator'></li>
                <li class='fnbutton'>(</li>
                <li class='fnbutton'>)</li>
                <li class='fnbutton' data-insert='^{#?}' data-latex='x^{#?}'></li>
                <li class='fnbutton' data-insert='_{#?}' data-latex='x_{#?}'></li>
                <li class='keycap w20 ' data-key=' '>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,style:`
        <div class='rows'>
            <ul>
                <li class='keycap' data-alt-keys='foreground-color' data-command='["applyStyle",{"color":"red"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428'></span></li>
                <li class='keycap' data-alt-keys='background-color' data-command='["applyStyle",{"backgroundColor":"yellow"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590'></span></li>
                <li class='separator w5'></li>
                <li class='keycap' data-command='["applyStyle",{"size":"3"}]' data-latex='\\scriptsize\\text{small}'></li>
                <li class='keycap' data-command='["applyStyle",{"size":"5"}]' data-latex='\\scriptsize\\text{normal}'></li>
                <li class='keycap' data-command='["applyStyle",{"size":"9"}]' data-latex='\\huge\\text{big}'></li>
                <li class='separator w5'></li>
                <li class='keycap' data-latex='\\langle' data-command='["insert", "\\\\langle", {"smartFence":true}]'></li>
            </ul>
            <ul>
                <li class='keycap' data-command='["applyStyle",{"series":"l"}]' data-latex='\\fontseries{l}\\text{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"series":"m"}]' data-latex='\\fontseries{m}\\text{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"series":"b"}]' data-latex='\\fontseries{b}\\text{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"series":"bx"}]' data-latex='\\fontseries{bx}\\text{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"series":"sb"}]' data-latex='\\fontseries{sb}\\text{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"series":"c"}]' data-latex='\\fontseries{c}\\text{Ab}'></li>
            </ul>
            <ul>
                <li class='keycap' data-command='["applyStyle",{"shape":"up"}]' data-latex='\\textup{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"shape":"it"}]' data-latex='\\textit{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"shape":"sl"}]' data-latex='\\textsl{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"shape":"sc"}]' data-latex='\\textsc{Ab}'></li>
                <li class='separator w5'></li>
                <li class='keycap' data-insert='\\emph{#@} ' data-latex='\\text{\\emph{emph}}'></li>
            </ul>
            <ul>
                <li class='keycap' data-command='["applyStyle",{"fontFamily":"cmr"}]' data-latex='\\textrm{Az}'></li>
                <li class='keycap' data-command='["applyStyle",{"fontFamily":"cmtt"}]' data-latex='\\texttt{Az}'></li>
                <li class='keycap' data-command='["applyStyle",{"fontFamily":"cmss"}]' data-latex='\\textsf{Az}'></li>

                <li class='keycap' data-command='["applyStyle",{"fontFamily":"bb"}]'  data-latex='\\mathbb{AZ}'></li>
                <li class='keycap' data-command='["applyStyle",{"fontFamily":"scr"}]'  data-latex='\\mathscr{AZ}'></li>
                <li class='keycap' data-command='["applyStyle",{"fontFamily":"cal"}]' data-latex='\\mathcal{A1}'></li>
                <li class='keycap' data-command='["applyStyle",{"fontFamily":"frak"}]' data-latex='\\mathfrak{Az}'></li>
            </ul>
        </div>`};function Bp(t,e){t=t.replace(/(^|[^\\])#@/g,"$1#?");const r=l1(),n=new C("root",r);return n.body=sr(t,r,{parseMode:"math",args:e}),Un(Nc(sa(new B(n.render(new W({registers:r.registers},{fontSize:5},"displaystyle")),{classes:"ML__base"}))),{classes:"ML__mathlive"}).toMarkup()}function M3(t,e,r){var n,i,o;let a="<div class='left'>";const s=e.replace(/\s+/g," ").split(" ");if(s.length>1){const c={...$1,...(n=t.customVirtualKeyboards)!==null&&n!==void 0?n:{}};for(const d of s){if(!c[d])break;a+="<div class='",d===r?a+="selected ":c[d].command?a+="action ":a+="layer-switch ",a+=((i=c[d].classes)!==null&&i!==void 0?i:"")+"'",c[d].tooltip&&(a+="data-tooltip='"+((o=ho(c[d].tooltip))!==null&&o!==void 0?o:c[d].tooltip)+"' "),d!==r&&(typeof c[d].command=="string"?a+=`data-command='"${c[d].command}"'`:Array.isArray(c[d].command)&&(a+=`data-command='"${c[d].command.join("")}"'`),c[d].layer&&(a+="data-layer='"+c[d].layer+"'")),a+=">"+c[d].label+"</div>"}}a+="</div>";const l=t.virtualKeyboardToolbar==="default"?["copyToClipboard","undo","redo"]:[],u={copyToClipboard:`
            <div class='action'
                data-command='"copyToClipboard"'
                data-tooltip='${ho("tooltip.copy to clipboard")}'>
                <svg><use xlink:href='#svg-copy' /></svg>
            </div>
        `,undo:`
            <div class='action disabled'
                data-command='"undo"'
                data-tooltip='${ho("tooltip.undo")}'>
                <svg><use xlink:href='#svg-undo' /></svg>
            </div>
        `,redo:`
            <div class='action disabled'
                data-command='"redo"'
                data-tooltip='${ho("tooltip.redo")}'>
                <svg><use xlink:href='#svg-redo' /></svg>
            </div>
        `};return l.length>0&&(a+=`
            <div class='right'>
                ${l.map(c=>u[c]).join("")}
            </div>
        `),"<div class='keyboard-toolbar' role='toolbar'>"+a+"</div>"}function B1(t,e,r){var n,i;for(const o of e){let a;o.getAttribute("data-latex")?a=Bp(o.getAttribute("data-latex").replace(/&quot;/g,'"'),()=>"\\placeholder{}"):o.getAttribute("data-insert")&&o.innerHTML===""?a=Bp(o.getAttribute("data-insert").replace(/&quot;/g,'"'),()=>"\\placeholder{}"):o.getAttribute("data-content")&&(a=o.getAttribute("data-content").replace(/&quot;/g,'"')),o.getAttribute("data-aside")&&(a=(a??"")+"<aside>"+o.getAttribute("data-aside").replace(/&quot;/g,'"')+"</aside>"),a!==void 0&&(o.innerHTML=t.options.createHTML(a)),o.getAttribute("data-classes")&&o.classList.add(o.getAttribute("data-classes"));const s=(n=o.getAttribute("data-insert"))===null||n===void 0?void 0:n.replace(/&quot;/g,'"');let l;s&&hu[s]&&(o.dataset.shifted=hu[s][0],o.dataset.shiftedCommand=JSON.stringify(["insertAndUnshiftKeyboardLayer",hu[s][1]]));const u=o.getAttribute("data-command");if(u)if(/^[a-zA-Z]+$/.test(u))l=u;else try{l=JSON.parse(u)}catch{}else l=o.getAttribute("data-insert")?["insert",o.getAttribute("data-insert"),{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]:o.getAttribute("data-latex")?["insert",o.getAttribute("data-latex"),{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]:["typedText",(i=o.getAttribute("data-key"))!==null&&i!==void 0?i:o.textContent,{focus:!0,feedback:!0,simulateKeystroke:!0}];if(l){r&&(l=[r,l]);let c=l;const d=o.getAttribute("data-alt-keys");d&&oe[d]&&(c={default:l,pressAndHoldStart:["showAlternateKeys",d],pressAndHoldEnd:"hideAlternateKeys"}),js(p=>t.executeCommand(p),o,c)}}}function L3(t,e){var r,n,i,o;const a={qwerty:{"lower-1":"qwertyuiop","lower-2":" asdfghjkl ","lower-3":"^zxcvbnm~","upper-1":"QWERTYUIOP","upper-2":" ASDFGHJKL ","upper-3":"^ZXCVBNM~","numpad-1":"789/","numpad-2":"456*","numpad-3":"123-","numpad-4":"0.=+"},azerty:{"lower-1":"azertyuiop","lower-2":"qsdfghjklm","lower-3":"^ wxcvbn ~","upper-1":"AZERTYUIOP","upper-2":"QSDFGHJKLM","upper-3":"^ WXCVBN ~"},qwertz:{"lower-1":"qwertzuiop","lower-2":" asdfghjkl ","lower-3":"^yxcvbnm~","upper-1":"QWERTZUIOP","upper-2":" ASDFGHJKL","upper-3":"^YXCVBNM~"},dvorak:{"lower-1":"^  pyfgcrl ","lower-2":"aoeuidhtns","lower-3":"qjkxbmwvz~","upper-1":"^  PYFGCRL ","upper-2":"AOEUIDHTNS","upper-3":"QJKXBMWVZ~"},colemak:{"lower-1":" qwfpgjluy ","lower-2":"arstdhneio","lower-3":"^zxcvbkm~","upper-1":" QWFPGNLUY ","upper-2":"ARSTDHNEIO","upper-3":"^ZXCVBKM~"}};let s=t.virtualKeyboardLayout;if(s==="auto"){const p=Qo();p&&(s=p.virtualLayout),s&&s!=="auto"||(s=(r={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[le.locale.slice(0,2)])!==null&&r!==void 0?r:"qwerty")}const l=(n=a[s])!==null&&n!==void 0?n:a.qwerty;let u,c=e;c=c.replace(/<arrows\/>/g,`
        <li class='action' data-command='["performWithFeedback","moveToPreviousChar"]'
            data-shifted='<svg class="svg-glyph"><use xlink:href="#svg-angle-double-left" /></svg>'
            data-shifted-command='["performWithFeedback","extendToPreviousChar"]'>
            <svg class="svg-glyph"><use xlink:href='#svg-arrow-left' /></svg>
        </li>
        <li class='action' data-command='["performWithFeedback","moveToNextChar"]'
            data-shifted='<svg class="svg-glyph"><use xlink:href="#svg-angle-double-right" /></svg>'
            data-shifted-command='["performWithFeedback","extendToNextChar"]'>
            <svg class="svg-glyph"><use xlink:href='#svg-arrow-right' /></svg>
        </li>
        <li class='action' data-command='["performWithFeedback","commit"]'>
        <svg class="svg-glyph"><use xlink:href='#svg-commit' /></svg></li>`);let d=c.match(/(<row\s+)(.*)((?:<\/row|\/)>)/);for(;d;){u="";const p=d[2].match(/[a-zA-Z][a-zA-Z\d-]*=(['"])(.*?)\1/g),f={};if(p)for(const v of p){const k=v.match(/([a-zA-Z][a-zA-Z\d-]*)=(['"])(.*?)\2/);k&&(f[k[1]]=k[3])}let g=l[f.name];if(g||(g=a.qwerty[f.name]),g)for(const v of g){let k=(i=f.class)!==null&&i!==void 0?i:"";k&&(k=` ${k}`),v==="~"?(u+="<li class='action font-glyph bottom right ",u+=g.length-(g.match(/ /g)||[]).length/2==10?"w10":"w15",u+=`' data-shifted='<span class="warning"><svg class="svg-glyph"><use xlink:href="#svg-trash" /></svg></span>'
                        data-shifted-command='"deleteAll"'
                        data-alt-keys='delete' data-command='["performWithFeedback","deleteBackward"]'
                        ><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li>`):v===" "?u+="<li class='separator w5'></li>":v==="^"?u+="<li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='"+f["shift-layer"]+`'><svg class="svg-glyph"><use xlink:href="#svg-shift" /></svg></li>`:v==="/"?u+="<li class='keycap"+k+"' data-alt-keys='/' data-insert='\\frac{#@}{#?}'>&divide;</li>":v==="*"?u+="<li class='keycap"+k+"' data-alt-keys='*' data-insert='\\times '>&times;</li>":v==="-"?u+="<li class='keycap"+k+"' data-alt-keys='-' data-key='-'>&#x2212;</li>":v==="."?u+="<li class='keycap"+k+`' data-alt-keys='.' data-command='"insertDecimalSeparator"'>`+((o=t.decimalSeparator)!==null&&o!==void 0?o:".")+"</li>":k.includes("tt")?u+=`<li class='keycap${k}' data-alt-keys='${v}' data-command='["typedText","${v}",{"mode":"command", "focus":true, "feedback":true}]'>${v}</li>`:u+="<li class='keycap"+k+"' data-alt-keys='"+v+"'>"+v+"</li>"}c=c.replace(new RegExp(d[1]+d[2]+d[3]),u),d=c.match(/(<row\s+)(.*)((?:<\/row|\/)>)/)}return c}function Vs(t){ea();const e=t.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(e)for(const r of e){const n=r.getAttribute("data-unshifted-content");n&&(r.innerHTML=t.options.createHTML(n),r.dataset.unshiftedContent="");const i=r.getAttribute("data-unshifted-command");i&&(r.dataset.command=i,r.dataset.unshiftedCommand="")}return!1}function C3(t){return Object.keys(t).map(e=>`${e} {${function(r){return typeof r=="string"?r:Object.entries(r).map(([n,i])=>`${n}:${i} !important`).join(";")}(t[e])}}`).join("")}function Np(t,e){e!=="lower-command"&&e!=="upper-command"&&e!=="symbols-command"&&t.executeCommand("complete"),fo(t),ea(),Vs(t);const r=t==null?void 0:t.element.querySelectorAll(".keyboard-layer");let n=!1;for(const i of r)if(i.dataset.layer===e){n=!0;break}if(n)for(const i of r)i.dataset.layer===e?i.classList.add("is-visible"):i.classList.remove("is-visible");return t.focusMathfield(),!0}function fo(t,e=""){const r=t.options.virtualKeyboardContainer;if(!r)return!1;if(t.element?t.element.classList.add("is-visible"):t.buildAndAttachElement(e),!t.visible){const n=tt();n.visibleVirtualKeyboard&&$0(n.visibleVirtualKeyboard),n.visibleVirtualKeyboard=t;const i=r.style.paddingBottom;t.originalContainerBottomPadding=i,r.style.paddingBottom=i?`calc(${i} + var(--keyboard-height, 276px) - 1px)`:"calc(var(--keyboard-height, 276px) - 1px)"}return setTimeout(()=>{var n;(n=t.element)===null||n===void 0||n.classList.add("is-visible"),t.focusMathfield()},1),t.visible=!0,t.stateChanged(),!1}function $0(t){var e,r,n;const i=t.options.virtualKeyboardContainer;return!!i&&(t.element&&(tt().visibleVirtualKeyboard=void 0,t.disable(),ea(),t.visible=!1,(e=t.coreStylesheet)===null||e===void 0||e.release(),t.coreStylesheet=null,(r=t.virtualKeyboardStylesheet)===null||r===void 0||r.release(),t.virtualKeyboardStylesheet=null,(n=t._element)===null||n===void 0||n.remove(),t._element=void 0,t.originalContainerBottomPadding!==null&&(i.style.paddingBottom=t.originalContainerBottomPadding)),t.visible=!1,t.stateChanged(),!1)}function Na(t,e,r){typeof e=="function"&&(r=e,e=1/0),e===void 0&&(e=1/0);let n=t.position,i=!1,o="";for(;!i;){const a=t.at(n);i=e===0||a===void 0||a.mode!=="math"||!(/mord|textord|mpunct/.test(a.type)||a.type==="mop"&&/[a-zA-Z]+/.test(a.value))||!a.hasEmptyBranch("superscript")||!a.hasEmptyBranch("subscript")||typeof r=="function"&&!r(a),i||(a.mode="text",a.command=a.value,a.verbatimLatex=void 0,o+=a.value),n-=1,e-=1}we(t,{data:o,inputType:"insertText"})}function Ln(t,e,r){typeof e=="function"&&(r=e,e=1/0),e===void 0&&(e=1/0);let n=t.position,i=!1;const o=[];for(;!i;){const a=t.at(n);i=e===0||!a||a.isFirstSibling||a.mode!=="text"||a.value===" "||r&&!r(a),i||(o.push(a.serialize({defaultMode:"math"})),a.mode="math"),n-=1,e-=1}B0(t),we(t,{data:xe(o),inputType:"insertText"})}function B0(t){var e;let r=t.position-1;for(;r>=0&&((e=t.at(r))===null||e===void 0?void 0:e.mode)==="math";)r-=1;if(!(r<0)&&t.at(r).mode==="text"&&t.at(r).value===" "&&t.at(r-1).mode==="math"){t.at(r-1).parent.removeChild(t.at(r-1));const n=t.suppressChangeNotifications;t.suppressChangeNotifications=!0,t.position-=1,t.suppressChangeNotifications=n,we(t,{inputType:"deleteContent"})}}yt({showAlternateKeys:function(t,e){var r;Fr();const n=oe[e],i=document.createElement("div");i.setAttribute("aria-hidden","true"),i.className="ML__keyboard alternate-keys"+(t.element.classList.contains("material")?" material":""),i.id="mathlive-alternate-keys-panel",n.length>=14?i.style.width="236px":n.length>=7?i.style.width="286px":n.length===4||n.length===2?i.style.width="146px":n.length===1?i.style.width="86px":i.style.width="146px",i.style.height="auto";let o="";for(const l of n)o+="<li",typeof l=="string"?o+=' data-latex="'+l.replace(/"/g,"&quot;")+'"':(l.latex&&(o+=' data-latex="'+l.latex.replace(/"/g,"&quot;")+'"'),l.content&&(o+=' data-content="'+l.content.replace(/"/g,"&quot;")+'"'),l.insert&&(o+=' data-insert="'+l.insert.replace(/"/g,"&quot;")+'"'),l.command&&(typeof l.command=="string"?o+=` data-command="${l.command.replace(/"/g,"&quot;")}"`:o+=" data-command='"+JSON.stringify(l.command).replace(/"/g,"&quot;")+"'"),l.aside&&(o+=` data-aside="${l.aside.replace(/"/g,"&quot;")}"`),l.class&&(o+=` data-classes="${l.class}"`)),o+=">",o+=typeof l=="string"?l:(r=l.label)!==null&&r!==void 0?r:"",o+="</li>";o="<ul>"+o+"</ul>",i.innerHTML=t.options.createHTML(o),B1(t,[...i.querySelectorAll("li")],"performAlternateKeys"),bi.scrim||(bi.scrim=new bi),bi.scrim.open({root:t.options.virtualKeyboardContainer,child:i});const a=t==null?void 0:t.element.querySelector('div.keyboard-layer.is-visible div.rows ul li[data-alt-keys="'+e+'"]'),s=a==null?void 0:a.getBoundingClientRect();if(s){s.top-i.clientHeight<0&&(i.style.width="auto",n.length<=6?i.style.height="56px":n.length<=12?i.style.height="108px":n.length<=18?i.style.height="205px":i.classList.add("compact"));const l=(s.top-i.clientHeight+5).toString()+"px",u=Math.max(0,Math.min(window.innerWidth-i.offsetWidth,(s.left+s.right-i.offsetWidth)/2))+"px";i.style.transform="translate("+u+","+l+")",i.classList.add("is-visible")}return!1}},{target:"virtual-keyboard"}),yt({shiftKeyboardLayer:function(t){const e=t==null?void 0:t.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(e)for(const r of e){if(r.dataset.unshiftedContent)return!1;let n=r.getAttribute("data-shifted");if(n||/^[a-z]$/.test(r.innerHTML)){r.dataset.unshiftedContent=r.innerHTML,n||(n=r.innerHTML.toUpperCase()),r.innerHTML=t.options.createHTML(n);const i=r.getAttribute("data-command");if(i){r.dataset.unshiftedCommand=i;const o=r.getAttribute("data-shifted-command");if(o)r.dataset.command=o;else{const a=JSON.parse(i);je(a)&&(a[1]=a[1].toUpperCase()),r.dataset.command=JSON.stringify(a)}}}}return!1}},{target:"virtual-keyboard"}),yt({hideAlternateKeys:()=>ea(),performAlternateKeys:function(t,e){return ea(),t.executeCommand(e)},switchKeyboardLayer:(t,e)=>Np(t,e),unshiftKeyboardLayer:t=>Vs(t),insertAndUnshiftKeyboardLayer:function(t,e){return t.executeCommand(["insert",e]),Vs(t),!0}},{target:"virtual-keyboard"}),yt({toggleVirtualKeyboardAlt:function(t){let e=!1;return t!=null&&t.element&&(e=t==null?void 0:t.element.classList.contains("material"),t.disable()),fo(t,e?"":"material"),!1},toggleVirtualKeyboardShift:function(t){var e,r;t.options.virtualKeyboardLayout={qwerty:"azerty",azerty:"qwertz",qwertz:"dvorak",dvorak:"colemak",colemak:"qwerty"}[t.options.virtualKeyboardLayout];const n=(r=(e=t==null?void 0:t.element.querySelector("div.keyboard-layer.is-visible"))===null||e===void 0?void 0:e.id)!==null&&r!==void 0?r:"";return t&&t.disable(),fo(t),n&&Np(t,n),!1}},{target:"virtual-keyboard"}),yt({toggleVirtualKeyboard:(t,e)=>function(r,n){return r.visible?$0(r):fo(r,n),!1}(t,e),hideVirtualKeyboard:t=>$0(t),showVirtualKeyboard:(t,e)=>fo(t,e),onUndoStateChanged:(t,e,r)=>function(n,i,o){var a;const s=(a=n.element)===null||a===void 0?void 0:a.querySelector(".keyboard-toolbar");if(!s)return!1;const l=s.querySelector(`[data-command='"undo"']`),u=s.querySelector(`[data-command='"redo"']`);return u&&(o?u.classList.remove("disabled"):u.classList.add("disabled")),l&&(i?l.classList.remove("disabled"):l.classList.add("disabled")),!1}(t,e,r)},{target:"virtual-keyboard"});var Pp="#mathlive-keystroke-caption-panel{--keystroke:#fff;--on-keystroke:#555;--keystroke-border:#f7f7f7;background:var(--secondary,hsl(var(--hue,212),19%,26%));border-color:var(--secondary-border,#e8e8e8);border-radius:6px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);display:flex;flex-direction:row-reverse;justify-content:center;padding:16px;position:absolute;text-align:center;visibility:hidden;z-index:1}@media (prefers-color-scheme:dark){body:not([theme=light]) #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}}body[theme=dark] #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}#mathlive-keystroke-caption-panel>span{fill:currentColor;background-color:var(--keystroke);border:2px solid var(--keystroke-border);border-radius:6px;color:var(--on-keystroke);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:1em;margin:0 8px 0 0;min-width:14px;padding:4px}";let mu,N0=null,P0=null;function N1(t){return t.keystrokeCaption||(t.keystrokeCaption=h1("mathlive-keystroke-caption-panel"),mu===void 0&&(mu=bn(Pp).toString(36)),N0=vn(null,Pp,mu),P0=vn(null,xn,bn(xn).toString(36))),t.keystrokeCaption}function z3(t){if(!t||t.length>1)return null;const e=t[0];return e instanceof Je&&e.leftDelim==="("&&e.rightDelim===")"?e.removeBranch("body"):null}function Hs(t){if(t){for(let e=0;t[e];e++){const r=t[e];if(r instanceof Je&&r.leftDelim==="("){let n=0,i=0,o=0;for(let a=0;r.body[a];a++)r.body[a].type==="genfrac"&&(n++,i=a),o++;o===0&&n===1&&(t[e]=r.body[i])}}for(const e of t){for(const r of e.branches)if(!e.hasEmptyBranch(r)){Hs(e.branch(r));const n=z3(e.branch(r));n&&e.setChildren(n,r)}if(e instanceof pe)for(const r of e.cells)Hs(r)}}}function P1(t){if(!t)return[];const e=[];for(const r of t){for(const n of r.branches)if(!r.hasEmptyBranch(n)){const i=P1(r.branch(n));e.push(...i)}r instanceof ve&&e.push(r)}return e}function A3(t){return!!/^(mord|surd|msubsup|leftright|mop|mclose)$/.test(t.type)&&!t.isExtensibleSymbol&&!t.isFunction}function Rc(t,e,r){const n=t.at(t.position),{parent:i}=n;let o=i instanceof Je?i.leftDelim+i.rightDelim:"";if(o==="\\lbrace\\rbrace"&&(o="{}"),o==="\\{\\}"&&(o="{}"),o==="\\lparen\\rparen"&&(o="()"),o==="{}"&&/\||\\vert|\\Vert|\\mvert|\\mid/.test(e))return ae.insert("math",t,"\\,\\middle"+e+"\\, ",{format:"latex",style:r}),!0;if(e!=="{"&&e!=="\\{"||(e="\\lbrace"),e!=="}"&&e!=="\\}"||(e="\\rbrace"),e==="["&&(e="\\lbrack"),e==="]"&&(e="\\rbrack"),Mo[e]){const s=i;if(s.type==="leftright"&&s.firstChild===n&&(s.leftDelim==="?"||s.leftDelim==="."))return s.leftDelim=e,s.isDirty=!0,!0;if(!(i instanceof Je&&i.leftDelim==="|")){if(ae.insert("math",t,`\\left${e}\\right?`,{format:"latex",style:r}),n.lastSibling.type!=="first"){const l=t.offsetOf(n.lastSibling),u=t.extractAtoms([t.position,l]);t.at(t.position).body=u,t.position-=1}return!0}}let a="";if(Object.keys(Mo).forEach(s=>{e===Mo[s]&&(a=s)}),a){if(i instanceof Je&&n.isLastSibling)return i.isDirty=!0,i.rightDelim=e,t.position+=1,we(t,{data:e,inputType:"insertText"}),!0;const s=t.offsetOf(n.firstSibling);let l;for(l=t.position;l>=s;l--){const d=t.at(l);if(d instanceof Je&&d.rightDelim==="?")break}const u=t.at(l);if(l>=s&&u instanceof Je)return u.rightDelim=e,u.addChildren(t.extractAtoms([l,t.position]),n.treeBranch),t.position=l,we(t,{data:e,inputType:"insertText"}),!0;if(i instanceof Je&&i.rightDelim==="?")return i.isDirty=!0,i.rightDelim=e,i.parent.addChildren(t.extractAtoms([t.position,t.offsetOf(n.lastSibling)]),i.treeBranch),t.position=t.offsetOf(i),we(t,{data:e,inputType:"insertText"}),!0;const c=i.parent;return!!(c instanceof Je&&c.rightDelim==="?"&&t.at(t.position).isLastSibling)&&(t.position=t.offsetOf(c),Rc(t,e,r))}return!1}function O1(t,e,r){var n,i,o,a;const{model:s}=t;(function(g){var v,k;if(!g||g.key==="Unidentified"||g.key==="Dead")return;const b=g.shiftKey&&g.altKey?3:g.altKey?2:g.shiftKey?1:0;for(const y of Ks)((v=y.mapping[g.code])===null||v===void 0?void 0:v[b])===g.key?y.score+=1:!((k=y.mapping[g.code])===null||k===void 0)&&k[b]&&(y.score=0);Ks.sort((y,m)=>m.score-y.score)})(r);const l=Qo();if(t.keyboardLayout!==l.id&&(t.keyboardLayout=l.id,t._keybindings=void 0),clearTimeout(t.inlineShortcutBufferFlushTimer),t.inlineShortcutBufferFlushTimer=0,function(g,v){if(g.options.readOnly||!g.keystrokeCaptionVisible)return;const k=N1(g),b=g.element.getBoundingClientRect();k.style.left=`${b.left}px`,k.style.top=b.top-64+"px",k.innerHTML=g.options.createHTML("<span>"+(x1(v)||v)+"</span>"+k.innerHTML),k.style.visibility="visible",setTimeout(()=>{k.childNodes.length>0&&k.childNodes[k.childNodes.length-1].remove(),k.childNodes.length===0&&(k.style.visibility="hidden")},3e3)}(t,e),r.defaultPrevented)return t.flushInlineShortcutBuffer(),!1;let u,c,d="";if(!t.options.readOnly){if(t.mode==="math"&&!r.ctrlKey&&!r.metaKey)if(e==="[Backspace]")t.inlineShortcutBuffer.pop(),t.flushInlineShortcutBuffer({defer:!0});else if(Dp(r)){const g=Ba(r),v=((i=(n=t.inlineShortcutBuffer[t.inlineShortcutBuffer.length-1])===null||n===void 0?void 0:n.keystrokes)!==null&&i!==void 0?i:"")+g;t.inlineShortcutBuffer.push({state:s.getState(),keystrokes:v,leftSiblings:T3(t)});let k=0,b="";for(;!u&&k<v.length;){c=t.inlineShortcutBuffer.length-(v.length-k),b=v.slice(k);const y=t.inlineShortcutBuffer[c].leftSiblings;u=Oc(y,b,t.options.inlineShortcuts),!u&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(b)&&(u=t.options.onInlineShortcut(t,b)),k+=1}t.flushInlineShortcutBuffer({defer:!0})}else t.flushInlineShortcutBuffer(),t.snapshot();if(t.options.smartMode){const g=t.mode;u?t.mode="math":function(v,k,b){if(v.smartModeSuppressed)return!1;const{model:y}=v;if(!y.at(y.position).isLastSibling||!b||!Dp(b))return!1;const m=Ba(b);if(!y.selectionIsCollapsed)return!(v.mode!=="text"||!/[/_^]/.test(m));const h=function(w){let x="",S=w.position,M=!1;for(;!M;){const D=w.at(S);M=!(D&&(D.mode==="text"||D.mode==="math"&&/mord|textord|mpunct/.test(D.type))),M||(x=D.value+x),S-=1}return x}(y)+m;if(v.mode==="text"){if(k==="Esc"||/[/\\]/.test(m))return!0;if(/[\^_]/.test(m))return/(^|\s)[a-zA-Z][^_]$/.test(h)&&Ln(y,1),!0;const w={")":"(","}":"{","]":"["}[m],{parent:x}=y.at(y.position);if(w&&x instanceof Je&&x.leftDelim===w)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(h))return!1;if(/[$\u20ac\xa3\u20a4\u20ba\xa5\xa4\u0e3f\xa2\u20a1\u20a7\u20a8\u20b9\u20a9\u20b1]/u.test(m))return!0;if(/(^|[^a-zA-Z'\u2019])[a-zA-Z] $/.test(h))return Ln(y,1),!1;if(/\D\.[^\d\s]$/.test(h)){Ln(y,1);const S=y.at(y.position);return S.value="",S.style.variant="normal",S.command="\\cdot",S.verbatimLatex=void 0,we(y,{data:"\\cdot",inputType:"insertText"}),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(h)||/\.\d$/.test(h)||/\([\d+\-.]$/.test(h))return Ln(y,1),!0;if(/\([a-z][,;]$/.test(h))return Ln(y,2),!0;if(/[\d+\-=><*|]$/.test(m))return B0(y),!0}else{if(k==="[Space]")return Na(y,void 0,w=>/[a-z][:,;.]$/.test(w.value)),!0;if(/[a-zA-Z]{3,}$/.test(h)&&!/(dxd|abc|xyz|uvw)$/.test(h))return Na(y,void 0,w=>/[a-zA-Z]/.test(w.value)),!0;if(/(^|\W)(if)$/i.test(h))return Na(y,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(h)&&!/(\u03b1\u03b2\u03b3)$/.test(h))return Na(y,void 0,w=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(w.value)),!0;if(m==="?"||m==="."&&!/[\d-+]\.$/.test(h))return!0}return!1}(t,e,r)&&(t.mode={math:"text",text:"math"}[t.mode],d=""),t.mode!==g&&(!((o=t.host)===null||o===void 0)&&o.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))||(t.mode=g))}}if(!u){if(d||(d=function(g,v,k){if(g.length===0)return"";const b=Ya(b1(k));for(let y=g.length-1;y>=0;y--)if(g[y].key===b&&(!g[y].ifMode||g[y].ifMode===v))return g[y].command;return""}(t.keybindings,t.mode,e)),!d&&(e==="[Enter]"||e==="[Return]")){let g=!1;return ye(s,{inputType:"insertLineBreak"})&&(t.host&&(g=!t.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),g||r.preventDefault&&(r.preventDefault(),r.stopPropagation()),we(s,{inputType:"insertLineBreak"})),g}if(t.mode==="math"){if(e==="[Space]"){if(t.flushInlineShortcutBuffer(),t.options.mathModeSpace)return t.snapshot(),ae.insert("math",s,t.options.mathModeSpace,{format:"latex"}),d="",t.dirty=!0,t.scrollIntoView(),r.preventDefault&&(r.preventDefault(),r.stopPropagation()),!1;const g=s.at(s.position+1),v=s.at(s.position-1);(g==null?void 0:g.mode)!=="text"&&(v==null?void 0:v.mode)!=="text"||(t.snapshot(),ae.insert("text",s," "),t.dirty=!0)}!((a=s.at(s.position))===null||a===void 0)&&a.isDigit()&&t.options.decimalSeparator===","&&Ba(r)===","&&(d="insertDecimalSeparator")}}if(!u&&!d)return!0;const p=s.at(Math.max(s.position,s.anchor)),{parent:f}=p;if(d==="moveAfterParent"&&(f==null?void 0:f.type)==="leftright"&&p.isLastSibling&&t.options.smartFence&&Rc(s,".",t.style)&&(d="",Ee(t)),d)t.executeCommand(d);else if(u){t.keyboardDelegate.cancelComposition();const g={...s.at(s.position).computedStyle,...t.style};if(!/^\\({|}|\[|]|@|#|\$|%|&|\^|_|backslash)$/.test(u)){const v=t.mode;ae.insert(t.mode,s,Ba(r),{suppressChangeNotifications:!0,style:g}),t.snapshot(),s.setState(t.inlineShortcutBuffer[c].state),t.mode=v}s.deferNotifications({content:!0,selection:!0,data:u??null,type:"insertText"},()=>(ae.insert(t.mode,s,u,{format:"latex",style:g}),B0(t.model),u.endsWith(" ")&&(t.mode="text",ae.insert("text",s," ",{style:g})),!0)),t.snapshot(),t.dirty=!0,s.announce("replacement")}return t.scrollIntoView(),r.preventDefault&&r.preventDefault(),!1}function O0(t,e,r){var n;const{model:i}=t;if(t.options.readOnly)return void i.announce("plonk");if((r=r??{}).focus&&t.focus(),r.feedback&&(t.options.keypressVibration&&$c()&&navigator.vibrate(3),t.playSound("keypress")),typeof r.mode=="string"&&t.mode!==r.mode&&t.switchMode(r.mode),r.simulateKeystroke){const l=e.charAt(0),u=new KeyboardEvent("keypress",{key:l});if(!O1(t,l,u))return}const o=i.at(i.position),a={...o.computedStyle,...t.style};i.selectionIsCollapsed||(i.deleteAtoms(Xt(i.selection)),t.snapshot());const s=r1(e);if(t.mode==="latex")i.deferNotifications({content:!0,selection:!0,data:e,type:"insertText"},()=>{Fc(t);for(const l of s)ae.insert("latex",i,l);Fs(t)});else if(t.mode==="text")for(const l of s)ae.insert("text",i,l,{style:a});else if(t.mode==="math")for(const l of s){let u={"^":"moveToSuperscript",_:"moveToSubscript"," ":"moveAfterParent"}[l];l===" "&&t.options.mathModeSpace&&(u=["insert",t.options.mathModeSpace]),u?t.executeCommand(u):/\d/.test(l)&&t.options.smartSuperscript&&o.treeBranch==="superscript"&&((n=o.parent)===null||n===void 0?void 0:n.type)!=="mop"&&o.hasNoSiblings?(ae.insert("math",i,l,{style:a}),D1(i)):(o.type==="mord"&&/[a-zA-Z]/.test(o.value)&&/[a-zA-Z]/.test(l)&&(o.style.variant&&(a.variant=o.style.variant),o.style.variantStyle&&(a.variantStyle=o.style.variantStyle)),ae.insert("math",i,l,{style:a}))}t.snapshotAndCoalesce(),t.dirty=!0,t.scrollIntoView()}function T3(t){const e=t.model,r=[];let n=e.at(Math.min(e.position,e.anchor));for(;n.type!=="first";)r.push(n),n=n.leftSibling;return r}function K1(t,e){var r,n,i,o,a,s;const l={};typeof e.color=="string"&&(l.verbatimColor=e.color,l.color=(r=t.colorMap(e.color))!==null&&r!==void 0?r:"none"),typeof e.backgroundColor=="string"&&(l.verbatimBackgroundColor=e.backgroundColor,l.backgroundColor=(n=t.backgroundColorMap(e.backgroundColor))!==null&&n!==void 0?n:"none"),typeof e.fontFamily=="string"&&(l.fontFamily=e.fontFamily),typeof e.series=="string"&&(l.fontSeries=e.series),typeof e.fontSeries=="string"&&(l.fontSeries=e.fontSeries.toLowerCase()),l.fontSeries&&(l.fontSeries=(i={bold:"b",medium:"m",normal:"m"}[l.fontSeries])!==null&&i!==void 0?i:l.fontSeries),typeof e.shape=="string"&&(l.fontShape=e.shape),typeof e.fontShape=="string"&&(l.fontShape=e.fontShape.toLowerCase()),l.fontShape&&(l.fontShape=(o={italic:"it",up:"n",upright:"n",normal:"n"}[l.fontShape])!==null&&o!==void 0?o:l.fontShape);const u=(a=e.size)!==null&&a!==void 0?a:e.fontSize;return typeof u=="number"?l.fontSize=Math.max(1,Math.min(10,u)):typeof u=="string"&&(l.fontSize=(s={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[u.toLowerCase()])!==null&&s!==void 0?s:{tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[u]),l}new class extends ae{constructor(){super("math")}onPaste(t,e){if(!e.clipboardData||!ye(t.model,{dataTransfer:e.clipboardData,inputType:"insertFromPaste"}))return!1;let r="",n="auto",i=e.clipboardData.getData("application/json+mathlive");if(i)try{const o=JSON.parse(i);if(o&&Array.isArray(o)){t.snapshot();const a=ir(o,t),{model:s}=t;s.selectionIsCollapsed||s.deleteAtoms(Xt(s.selection));const l=s.at(s.position);if(l.parent instanceof pe){const u=[];let c=[];a[0].type==="first"&&a.shift(),a[a.length-1].type==="first"&&a.pop();for(const g of a)g.type==="first"&&c.length>0?(u.push(c),c=[g]):c.push(g);c.length>0&&u.push(c);let d=Number(l.treeBranch[0]),p=Number(l.treeBranch[1]);const f=l.parent.maxColumns;for(;l.parent.colCount-p<u.length&&l.parent.colCount<f;)l.parent.addColumn();l.parent.addChildrenAfter(u[0],l);for(let g=1;g<u.length;g++)p++,p>=f&&(p=0,l.parent.addRowAfter(d),d++),l.parent.setCell(d,p,u[g])}else l.parent.addChildrenAfter(a.filter(u=>u.type!=="first"),l);return s.position=s.offsetOf(a[a.length-1]),we(s,{inputType:"insertFromPaste"}),Ee(t),e.preventDefault(),e.stopPropagation(),!0}}catch{}if(i=e.clipboardData.getData("application/json"),i&&t.computeEngine)try{const o=JSON.parse(i);if(typeof o=="object"&&"latex"in o&&o.latex&&(r=o.latex),!r){const a=t.computeEngine.box(o);a&&!a.has("Error")&&(r=a.latex)}r||(n="latex")}catch{}if(r||(r=e.clipboardData.getData("application/x-latex"),r&&(n="latex")),r||(r=e.clipboardData.getData("text/plain")),r){let o;return t.snapshot(),[o,r]=w0(r),n==="auto"&&o&&(n="latex"),this.insert(t.model,r,{format:n})&&Ee(t),e.preventDefault(),e.stopPropagation(),!0}return!1}insert(t,e,r){var n,i;const o=typeof e=="string"?e:(i=(n=t.mathfield.computeEngine)===null||n===void 0?void 0:n.box(e).latex)!==null&&i!==void 0?i:"";if(!r.suppressChangeNotifications&&!ye(t,{data:o,inputType:"insertText"}))return!1;if(r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto"),t.mathfield.smartFence){if(t.selectionIsCollapsed&&typeof e=="string"&&Rc(t,e,r.style))return!0}else if(r.insertionMode!=="replaceAll"){const{parent:m}=t.at(t.position);if(m instanceof Je&&m.rightDelim==="?"&&t.at(t.position).isLastSibling&&typeof e=="string"&&/^[)}\]|]$/.test(e))return m.isDirty=!0,m.rightDelim=e,t.position+=1,k1(t),we(t,{data:o,inputType:"insertText"}),!0}const{suppressChangeNotifications:a}=t;r.suppressChangeNotifications&&(t.suppressChangeNotifications=!0);const s=t.suppressChangeNotifications;t.suppressChangeNotifications=!0;const l={};if(l[0]=r.insertionMode==="replaceAll"?"":t.getValue(t.selection,"latex-unstyled"),l["?"]="\\placeholder{}",l["@"]=l["?"],r.insertionMode!=="replaceSelection"||t.selectionIsCollapsed?r.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward"):t.deleteAtoms(Xt(t.selection)),t.at(t.position).isLastSibling||t.at(t.position+1).type!=="placeholder"?t.at(t.position).type==="placeholder"&&t.deleteAtoms([t.position-1,t.position]):t.deleteAtoms([t.position,t.position+1]),l[0])l["@"]=l[0];else if(typeof e=="string"&&/(^|[^\\])#@/.test(e)){const m=function(h){let w=h.at(h.position);if(w.mode==="text"){for(;!w.isFirstSibling&&w.mode==="text";)w=w.leftSibling;return h.offsetOf(w)}const x=w,S=[];for(;!w.isFirstSibling&&(A3(w)||S.length>0);)w.type==="mclose"&&S.unshift(w.value),w.type==="mopen"&&S.length>0&&w.value===qy[S[0]]&&S.shift(),w=w.leftSibling;return x===w?-1:h.offsetOf(w)}(t);m>=0&&(l["@"]=t.getValue(m,t.position,"latex-unstyled"),t.deleteAtoms([m,t.position]))}l[0]||(l[0]=l["?"]);let u=!1;const[c,d]=function(m,h,w,x){var S;let M,D=[];if(typeof h!="string"||x.format==="math-json"){if(!m.mathfield.computeEngine)return["math-json",[]];[M,h]=["latex",m.mathfield.computeEngine.box(h).latex],D=sr(h,m.mathfield,{parseMode:"math"})}else typeof h=="string"&&x.format==="ascii-math"?([M,h]=pp(h,{format:"ascii-math",inlineShortcuts:m.mathfield.options.inlineShortcuts}),D=sr(h,m.mathfield,{parseMode:"math"}),M!=="latex"&&m.options.removeExtraneousParentheses&&Hs(D)):(x.format==="auto"||!((S=x.format)===null||S===void 0)&&S.startsWith("latex"))&&(x.format==="auto"&&([M,h]=pp(h,{format:"auto",inlineShortcuts:m.mathfield.options.inlineShortcuts})),x.format==="latex"&&([,h]=w0(h)),D=sr(h,m.mathfield,{parseMode:"math",args:w}),x.format!=="latex"&&m.options.removeExtraneousParentheses&&Hs(D));return Wr(D,x.style),[M??"latex",D]}(t,e,m=>(u=!0,l[m]),r);if(!d)return!1;const p=P1(d),f=p.filter(m=>m.placeholderId&&!t.mathfield.placeholders.has(m.placeholderId)),g=p.map(m=>m.placeholderId);[...t.mathfield.placeholders.keys()].filter(m=>!g.includes(m)).forEach(m=>{var h;t.mathfield.placeholders.has(m)&&((h=t.mathfield.placeholders.get(m))===null||h===void 0||h.field.remove(),t.mathfield.placeholders.delete(m))}),f.forEach(m=>{var h,w;let x=t.mathfield.options.virtualKeyboardMode;x==="manual"&&(x="onfocus");const S=new Et({...t.mathfield.options,virtualKeyboardMode:x,readOnly:!1}),M=m.defaultValue?C.serialize(m.defaultValue,{defaultMode:"math"}):"";S.value=M,S.addEventListener("input",()=>{(function(D,A){!D.suppressChangeNotifications&&D.mathfield.host&&(D.suppressChangeNotifications=!0,D.mathfield.host.dispatchEvent(new CustomEvent("placeholder-change",{detail:{placeholderId:A},bubbles:!0,composed:!0})),D.suppressChangeNotifications=!1)})(t,m.placeholderId),setTimeout(()=>Ee(t.mathfield))}),(w=(h=t.mathfield.element)===null||h===void 0?void 0:h.querySelector(".ML__placeholdercontainer"))===null||w===void 0||w.appendChild(S),t.mathfield.placeholders.set(m.placeholderId,{atom:m,field:S})});const{parent:v}=t.at(t.position);if(c!=="latex"&&t.options.removeExtraneousParentheses&&v instanceof Je&&v.leftDelim==="("&&v.hasEmptyBranch("body")&&d.length===1&&d[0].type==="genfrac"){const m=v.parent,h=v.treeBranch;m.removeChild(v),m.setChildren(d,h)}const k=v.hasEmptyBranch("body"),b=t.at(t.position);b.parent.addChildrenAfter(d,b),c==="latex"&&typeof e=="string"&&v.type==="root"&&k&&!u&&(v.verbatimLatex=e),t.suppressChangeNotifications=s;const y=d[d.length-1];if(r.selectionMode==="placeholder"){const m=d.reduce((h,w)=>[...h,...w.children.filter(x=>x.type==="placeholder")],[]);if(m.length>0){const h=t.offsetOf(m[0]);t.setSelection(h-1,h),t.announce("move")}else y&&(t.position=t.offsetOf(y))}else r.selectionMode==="before"||(r.selectionMode==="after"?y&&(t.position=t.offsetOf(y)):r.selectionMode==="item"&&t.setSelection(t.anchor,t.offsetOf(y)));return we(t,{data:o,inputType:"insertText"}),t.suppressChangeNotifications=a,!0}},yt({undo:t=>(Rn(t,"accept"),t.undo(),!0),redo:t=>(Rn(t,"accept"),t.redo(),!0),scrollIntoView:t=>(t.scrollIntoView(),!0),scrollToStart:t=>(t.field.scroll(0,0),!0),scrollToEnd:t=>{const e=t.field.getBoundingClientRect();return t.field.scroll(e.left-window.scrollX,0),!0},enterLatexMode:t=>(t.switchMode("latex"),!0),toggleKeystrokeCaption:function(t){return t.keystrokeCaptionVisible=!t.keystrokeCaptionVisible,t.keystrokeCaptionVisible?(t.keystrokeCaption=N1(t),t.keystrokeCaption.innerHTML=""):t.keystrokeCaption&&(t.keystrokeCaption.style.visibility="hidden"),!1},plonk:t=>(t.model.announce("plonk"),!0),switchMode:(t,e,r,n)=>(t.switchMode(e,r,n),!0),insert:(t,e,r)=>t.insert(e,r),typedText:(t,e,r)=>(O0(t,e,r),!0),insertDecimalSeparator:t=>{if(t.mode==="math"&&t.options.decimalSeparator===","){const e=t.model;if(e.at(Math.max(e.position,e.anchor)).isDigit())return t.snapshot(),t.insert("{,}",{format:"latex"}),!0}return t.insert("."),!0},commit:t=>(ye(t.model,{inputType:"insertLineBreak"})&&(t.host&&t.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),we(t.model,{inputType:"insertLineBreak"})),!0)}),yt({copyToClipboard:t=>(t.focus(),t.model.selectionIsCollapsed&&t.select(),document.execCommand("copy"),!1),cutToClipboard:t=>(t.focus(),document.execCommand("cut"),!0),pasteFromClipboard:t=>(t.focus(),document.execCommand("paste"),!0)},{target:"mathfield",category:"clipboard"}),yt({applyStyle:function(t,e){t.flushInlineShortcutBuffer();const r=K1(t,e),{model:n}=t;return n.selectionIsCollapsed?(t.style.fontSeries&&r.fontSeries===t.style.fontSeries&&(r.fontSeries="auto"),r.fontShape&&r.fontShape===t.style.fontShape&&(r.fontShape="auto"),r.color&&r.color===t.style.color&&(r.color="none"),r.backgroundColor&&r.backgroundColor===t.style.backgroundColor&&(r.backgroundColor="none"),r.fontSize&&r.fontSize===t.style.fontSize&&(r.fontSize="auto"),t.style={...t.style,...r}):t.model.deferNotifications({content:!0,type:"insertText"},()=>{n.selection.ranges.forEach(i=>D0(n,i,r,{operation:"toggle"})),t.snapshot()}),!0}},{target:"mathfield"});let Cn=null,so=0;function ii(t){return ue()&&"TouchEvent"in globalThis&&t instanceof TouchEvent}function Op(t){return ue()&&"PointerEvent"in globalThis&&t instanceof PointerEvent}function D3(t,e,r){if(t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom)return 0;const n=t-(r.left+r.right)/2,i=e-(r.top+r.bottom)/2;return n*n+i*i}function F1(t,e,r,n,i){if(!r.id)return[1/0,null];if(e.has(r.id))return e.get(r.id);const o=ua(t,r);if(!o)return[1/0,null];let a=[1/0,null];if(r.hasChildren&&!r.captureSelection&&n>=o.left&&n<=o.right)for(const s of r.children){const l=F1(t,e,s,n,i);l[0]<=a[0]&&(a=l)}return a[1]||(a=[D3(n,i,o),r]),e.set(r.id,a),a}function E3(t,e,r){const[,n]=F1(t,new Map,t.model.root,e,r);return n}function oi(t,e,r,n){var i;const o=t.fieldContent.getBoundingClientRect();if(e>o.right||r>o.bottom+8)return t.model.lastOffset;if(e<o.left||r<o.top-8)return 0;(n=n??{}).bias=(i=n.bias)!==null&&i!==void 0?i:0;let a=E3(t,e,r);const s=[];let l=a;for(;l;)s.unshift(l),l=l.parent;for(const c of s)if(c.captureSelection){a=c;break}let u=t.model.offsetOf(a);if(u<0)return-1;if(a.leftSibling)if(n.bias===0&&a.type!=="placeholder"){const c=ua(t,a);c&&e<(c.left+c.right)/2&&(u=t.model.offsetOf(a.leftSibling))}else n.bias<0&&(u=t.model.offsetOf(a.leftSibling));return u}new class extends ae{constructor(){super("text")}onPaste(t,e){if(!e.clipboardData)return!1;const r=e.clipboardData.getData("text/plain");return!(!r||!ye(t.model,{inputType:"insertFromPaste",data:r})||(t.snapshot(),this.insert(t.model,r)&&(we(t.model,{inputType:"insertFromPaste"}),Ee(t)),e.preventDefault(),e.stopPropagation(),0))}insert(t,e,r={}){if(!ye(t,{data:e,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");const{suppressChangeNotifications:n}=t;r.suppressChangeNotifications&&(t.suppressChangeNotifications=!0);const i=t.suppressChangeNotifications;t.suppressChangeNotifications=!0,r.insertionMode!=="replaceSelection"||t.selectionIsCollapsed?r.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward"):t.deleteAtoms(Xt(t.selection));const o=(a=e,s=t.mathfield,sr(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/\\/g,"\\textbackslash ")).replace(/#/g,"\\#")).replace(/\$/g,"\\$")).replace(/%/g,"\\%")).replace(/&/g,"\\&")).replace(/_/g,"\\_")).replace(/{/g,"\\textbraceleft ")).replace(/}/g,"\\textbraceright ")).replace(/\^/g,"\\textasciicircum ")).replace(/~/g,"\\textasciitilde ")).replace(/\xa3/g,"\\textsterling "),s,{parseMode:"text"}));var a,s;if(Wr(o,r.style),!o)return!1;const l=t.at(t.position),u=l.parent.addChildrenAfter(o,l);return t.suppressChangeNotifications=i,r.selectionMode==="before"||(r.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(u)):u&&(t.position=t.offsetOf(u))),we(t,{data:e,inputType:"insertText"}),t.suppressChangeNotifications=n,!0}};const Kp="mathlive#remote-virtual-keyboard-message";class $3{constructor(e){var r,n,i;this.targetOrigin=(n=(r=e.targetOrigin)!==null&&r!==void 0?r:globalThis.origin)!==null&&n!==void 0?n:"*",this.originValidator=(i=e.originValidator)!==null&&i!==void 0?i:"same-origin",this._mathfield=e.mathfield}get visible(){var e,r;return(r=(e=tt().sharedVirtualKeyboard)===null||e===void 0?void 0:e.visible)!==null&&r!==void 0&&r}set visible(e){tt().sharedVirtualKeyboard&&(tt().sharedVirtualKeyboard.visible=e)}setOptions(e){this.sendMessage("setOptions",{options:JSON.stringify(Fp(e))})}create(){}dispose(){this.disable()}enable(){this.enabled||(this.enabled=!0,globalThis.addEventListener("message",this))}disable(){this.enabled&&(globalThis.removeEventListener("message",this),this.enabled=!1)}executeCommand(e){var r,n,i;return C0(e)==="virtual-keyboard"?(this._mathfield&&(this.setOptions(Fp(this._mathfield.getOptions())),(e==="showVirtualKeyboard"||e==="toggleVirtualKeyboard"&&this.visible===!1)&&((n=(r=this._mathfield).focus)===null||n===void 0||n.call(r))),this.sendMessage("executeCommand",{command:e}),!1):(i=this._mathfield)===null||i===void 0?void 0:i.executeCommand(e)}focusMathfield(){}blurMathfield(){}stateChanged(){}handleEvent(e){var r,n,i,o;if(e.type==="message"&&e.data&&e.data.type===Kp){if(!a3(e.origin,this.originValidator))throw new Error(`Message from unknown origin (${e.origin}) cannot be handled`);const{action:a}=e.data;if(a==="executeCommand"){if(C0(e.data.command)==="virtual-keyboard"&&window===globalThis.parent)return;this.executeCommand(e.data.command)}else a==="updateState"?(this.visible=e.data.state.visible,this.height=e.data.state.height):a==="focus"?(n=(r=this._mathfield)===null||r===void 0?void 0:r.focus)===null||n===void 0||n.call(r):a==="blur"&&((o=(i=this._mathfield)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i))}}sendMessage(e,r={}){return!!globalThis.parent&&(globalThis.parent.postMessage({type:Kp,action:e,...r},this.targetOrigin),!0)}}function Fp(t){if(typeof t!="object")return{};const e={};return t.fontsDirectory&&(e.fontsDirectory=t.fontsDirectory),t.soundsDirectory&&(e.soundsDirectory=t.soundsDirectory),t.virtualKeyboards&&(e.virtualKeyboards=t.virtualKeyboards),t.virtualKeyboardLayout&&(e.virtualKeyboardLayout=t.virtualKeyboardLayout),t.customVirtualKeyboardLayers&&(e.customVirtualKeyboardLayers=t.customVirtualKeyboardLayers),t.customVirtualKeyboards&&(e.customVirtualKeyboards=t.customVirtualKeyboards),t.virtualKeyboardTheme&&(e.virtualKeyboardTheme=t.virtualKeyboardTheme),t.keypressVibration&&(e.keypressVibration=t.keypressVibration),t.keypressSound&&(e.keypressSound=t.keypressSound),t.plonkSound&&(e.plonkSound=t.plonkSound),t.virtualKeyboardToolbar&&(e.virtualKeyboardToolbar=t.virtualKeyboardToolbar),t.targetOrigin&&(e.targetOrigin=t.targetOrigin),t.originValidator&&(e.originValidator=t.originValidator),e}let fu,yu;class B3{constructor(e,r){var n,i,o;this.focusBlurInProgress=!1,this.stylesheets=[],this.audioBuffers={},this.options=A0({...T0(),registers:s1(this)},r.readOnly?{...r,virtualKeyboardMode:"off"}:{plonkSound:"plonk.wav",keypressSound:{spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},...r}),this.options.virtualKeyboardMode==="auto"&&(this.options.virtualKeyboardMode=m0()?"onfocus":"off"),this.options.computeEngine!==void 0&&(this._computeEngine=r.computeEngine),r.eventSink&&(this.host=r.eventSink),this.placeholders=new Map,this.element=e,e.mathfield=this;let a=(n=r.value)!==null&&n!==void 0?n:this.element.textContent;a&&(a=a.trim()),this.options.fontsDirectory!==null&&C1(this.options.fontsDirectory),fu||(fu=bn(xn).toString(36)),this.stylesheets.push(vn(e,xn,fu)),yu||(yu=bn(_p).toString(36)),this.stylesheets.push(vn(e,_p,yu));let s="<span class=ML__textarea>";if(m0()?s+="<span class=ML__textarea__textarea tabindex=-1 role=textbox></span>":s+=`<textarea class=ML__textarea__textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none aria-hidden="true" tabindex="${(i=e.tabIndex)!==null&&i!==void 0?i:0}"></textarea>`,s+="</span>",s+='<span part="container" class="ML__container"><span part="content" class="ML__content"></span>',s+=`<div part='virtual-keyboard-toggle' class="ML__virtual-keyboard-toggle" role="button" data-ML__tooltip="${ho("tooltip.toggle virtual keyboard")}">`,s+=(o=this.options.virtualKeyboardToggleGlyph)!==null&&o!==void 0?o:M1,s+="</div>",s+="<div class='ML__placeholdercontainer'></div>",s+="</span>",s+='<div class="ML__sr-only"><span aria-role="status" aria-live="assertive" aria-atomic="true"></span><span></span></div>',this.element.innerHTML=this.options.createHTML(s),!this.element.children)return;let l=0;const u=this.element.children[l++].firstElementChild;this.field=this.element.children[l].children[0],l++,this.virtualKeyboardToggle=this.element.querySelector(".ML__virtual-keyboard-toggle"),this.ariaLiveText=this.element.children[l].children[0],this.accessibleNode=this.element.children[l++].children[1],this.keystrokeCaptionVisible=!1,this.popoverVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.mode=au(this.options),this.smartModeSuppressed=!1,this.style={},this.options.readOnly||this.options.virtualKeyboardMode!=="manual"?this.virtualKeyboardToggle.classList.remove("is-visible"):this.virtualKeyboardToggle.classList.add("is-visible"),this.options.readOnly?this.element.classList.add("ML__isReadOnly"):this.element.classList.remove("ML__isReadOnly"),this.options.defaultMode==="inline-math"?this.element.classList.add("ML__isInline"):this.element.classList.remove("ML__isInline"),this.element.querySelector(".ML__content").addEventListener("click",c=>c.stopImmediatePropagation(),{capture:!1}),this.field.addEventListener("wheel",this,{passive:!1}),js(c=>this.executeCommand(c),this.virtualKeyboardToggle,{default:"toggleVirtualKeyboard",alt:"toggleVirtualKeyboardAlt",shift:"toggleVirtualKeyboardShift"}),this.blurred=!0,Ue(this.element,"focus",this),Ue(this.element,"blur",this),this.keyboardDelegate=function(c,d,p){let f,g=null,v=null,k=!1,b=!1,y=!1;function m(x){clearTimeout(f),f=setTimeout(()=>{clearTimeout(f),x()})}function h(){if(c.selectionStart!==c.selectionEnd)return;const x=c.value;c.value="",x.length>0&&p.typedText(x)}const w=c;return w.addEventListener("keydown",x=>{k||x.key==="Process"||x.code==="CapsLock"||/(Control|Meta|Alt|Shift)(Left|Right)/.test(x.code)?g=null:(g=x,v=null,p.keystroke(Ep(x),x)?c.tagName.toLowerCase()!=="textarea"&&(x.key.length===1&&p.typedText(x.key),x.preventDefault()):(g=null,c.value=""))},!0),w.addEventListener("keypress",x=>{k||(g&&v&&p.keystroke(Ep(g),g),v=x,m(h))},!0),w.addEventListener("keyup",()=>{k||g&&!v&&h()},!0),w.addEventListener("paste",x=>{c.focus(),c.value="",p.paste(x)||x.preventDefault(),x.stopImmediatePropagation()},!0),w.addEventListener("cut",x=>p.cut(x),!0),w.addEventListener("copy",x=>p.copy(x),!0),w.addEventListener("blur",x=>{var S,M,D;if(((M=(S=x.relatedTarget)===null||S===void 0?void 0:S._mathfield)===null||M===void 0?void 0:M.element)===d)return c.focus(),x.preventDefault(),void x.stopPropagation();const A=(D=bi.scrim)===null||D===void 0?void 0:D.state;return A==="open"||A==="opening"||x.relatedTarget===x.target.getRootNode().host?(x.preventDefault(),void x.stopPropagation()):void(y||b||(y=!0,g=null,v=null,p.blur&&p.blur(),y=!1,x.stopPropagation()))},!0),w.addEventListener("focus",x=>{y||b||(b=!0,p.focus&&p.focus(),du()===c&&typeof c.select=="function"&&c.select(),b=!1,x.stopPropagation())},!0),w.addEventListener("compositionstart",x=>{k=!0,c.value="",p.compositionStart&&p.compositionStart(x.data)},!0),w.addEventListener("compositionupdate",x=>{k&&p.compositionUpdate&&p.compositionUpdate(x.data)},!0),w.addEventListener("compositionend",x=>{c.value="",k&&(k=!1,p.compositionEnd&&p.compositionEnd(x.data))},!0),w.addEventListener("beforeinput",x=>{x.stopImmediatePropagation()}),w.addEventListener("input",x=>{if(!k&&x.inputType!=="insertCompositionText"){if(x.inputType==="insertFromPaste")return x.preventDefault(),void x.stopPropagation();m(h),x.preventDefault(),x.stopPropagation()}}),{cancelComposition:()=>{const x=p.blur,S=p.focus;p.blur=null,p.focus=null,c.blur(),c.focus(),p.blur=x,p.focus=S},blur:()=>{typeof c.blur=="function"&&c.blur()},focus:()=>{typeof c.focus=="function"&&c.focus()},hasFocus:()=>du()===c,setValue:x=>{x?(c.value=x,du()===c&&typeof c.select=="function"&&c.select()):(c.value="",c.setAttribute("aria-label",""))},setAriaLabel:x=>{c.setAttribute("aria-label","after: "+x)},moveTo:(x,S)=>{c.style.top=`${S}px`,c.style.left=`${x}px`}}}(u,this.element,{typedText:c=>O0(this,c),cut:c=>{this.options.readOnly?this.model.announce("plonk"):ye(this.model,{inputType:"deleteByCut"})&&(this.snapshot(),ae.onCopy(this,c),setTimeout(()=>{mr(this.model,Xt(this.model.selection),"deleteByCut"),Ee(this)},0))},copy:c=>ae.onCopy(this,c),paste:c=>{let d=!0;return this.options.readOnly&&(d=!1),d&&(d=ae.onPaste(this.model.at(this.model.position).mode,this,c)),d||this.model.announce("plonk"),d},keystroke:(c,d)=>O1(this,c,d),focus:()=>this.onFocus(),blur:()=>this.onBlur(),compositionStart:c=>this.onCompositionStart(c),compositionUpdate:c=>this.onCompositionUpdate(c),compositionEnd:c=>this.onCompositionEnd(c)}),ue()&&"PointerEvent"in window?Ue(this.field,"pointerdown",this):Ue(this.field,"touchstart:active mousedown",this),Ue(window,"resize",this),window.addEventListener("blur",()=>{Tn(this)&&this.hasFocus()&&window.addEventListener("focus",c=>{c.target===window&&Tn(this)&&this.focus()},{once:!0})},{capture:!0}),this.model=new x3({mode:au(this.options),macros:this.options.macros,removeExtraneousParentheses:this.options.removeExtraneousParentheses},{onSelectionDidChange:c=>this._onSelectionDidChange()},this),this.undoManager=new w3(this.model),a&&ae.insert("math",this.model,a,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",suppressChangeNotifications:!0}),this.undoManager.startRecording(),this.undoManager.snapshot(),this.model.setListeners({onSelectionDidChange:c=>this._onSelectionDidChange()}),Ee(this),ue()&&document.fonts.ready.then(()=>Pn(this))}get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}get colorMap(){return e=>{var r;let n;return typeof((r=this.options)===null||r===void 0?void 0:r.colorMap)=="function"&&(n=this.options.colorMap(e)),n||(n=cl(e)),n}}get backgroundColorMap(){return e=>{var r;let n;return typeof((r=this.options)===null||r===void 0?void 0:r.backgroundColorMap)=="function"&&(n=this.options.backgroundColorMap(e)),n||typeof this.options.colorMap!="function"||(n=this.options.colorMap(e)),n||(n=Bc(e)),n}}get fractionNavigationOrder(){var e,r;return(r=(e=this.options)===null||e===void 0?void 0:e.fractionNavigationOrder)!==null&&r!==void 0?r:"numerator-denominator"}get placeholderSymbol(){var e,r;return(r=(e=this.options)===null||e===void 0?void 0:e.placeholderSymbol)!==null&&r!==void 0?r:""}get smartFence(){var e,r;return(r=(e=this.options)===null||e===void 0?void 0:e.smartFence)!==null&&r!==void 0&&r}get letterShapeStyle(){var e,r;return(r=(e=this.options)===null||e===void 0?void 0:e.letterShapeStyle)!==null&&r!==void 0?r:"tex"}get registers(){var e,r;return(r=(e=this.options)===null||e===void 0?void 0:e.registers)!==null&&r!==void 0?r:{}}getDefinition(e,r="math"){return Pc(e,r)}getMacro(e){return u1(e,this.options.macros)}get virtualKeyboard(){if(!this.options.readOnly)return this._virtualKeyboard||(this.options.useSharedVirtualKeyboard||tt().sharedVirtualKeyboard?this._virtualKeyboard=new $3({targetOrigin:this.options.sharedVirtualKeyboardTargetOrigin,originValidator:this.options.originValidator,mathfield:this}):this._virtualKeyboard=new _3(this.options,this)),this._virtualKeyboard}get computeEngine(){var e,r;if(this._computeEngine===void 0){const n=(e=globalThis[Symbol.for("io.cortexjs.compute-engine")])===null||e===void 0?void 0:e.ComputeEngine;n&&(this._computeEngine=new n),this._computeEngine&&this.options.decimalSeparator===","&&(this._computeEngine.latexOptions.decimalMarker="{,}")}return(r=this._computeEngine)!==null&&r!==void 0?r:null}get virtualKeyboardState(){var e;return!((e=this.virtualKeyboard)===null||e===void 0)&&e.visible?"visible":"hidden"}set virtualKeyboardState(e){this.virtualKeyboard&&(e==="hidden"?this.virtualKeyboard.executeCommand("hideVirtualKeyboard"):e==="visible"&&this.virtualKeyboard.executeCommand("showVirtualKeyboard"))}get keybindings(){var e,r;if(this._keybindings)return this._keybindings;const[n,i]=function(o,a){const s=[],l=[];for(const u of o)try{const c=m3(u,a);if(c){const d=s.filter(p=>p.key===c.key&&p.ifMode===c.ifMode);if(d.length>0)throw new Error(`Ambiguous key binding ${u.key} (${S0(u.command)}) matches ${d[0].key} (${S0(d[0].command)}) with the ${a.displayName} keyboard layout`);s.push(c)}}catch(c){c instanceof Error&&l.push(c.message)}return[s,l]}(this.options.keybindings,(e=Qo())!==null&&e!==void 0?e:v1);return((r=Qo())===null||r===void 0?void 0:r.score)>0&&(this._keybindings=n,i.length),n}setOptions(e){var r,n;if(this.options=A0(this.options,e),"computeEngine"in e&&(this._computeEngine=this.options.computeEngine),this._computeEngine&&"decimalSeparator"in e&&(this._computeEngine.latexOptions.decimalMarker=this.options.decimalSeparator===","?"{,}":"."),this.model.setListeners({onSelectionDidChange:o=>this._onSelectionDidChange()}),this.model.options.macros=this.options.macros,this._keybindings=void 0,("soundsDirectory"in e||"plonkSound"in e||"keypressSound"in e||"spacebarKeypressSound"in e||"returnKeypressSound"in e||"deleteKeypressSound"in e)&&(this.audioBuffers={}),this.options.defaultMode==="inline-math"?this.element.classList.add("ML__isInline"):this.element.classList.remove("ML__isInline"),this.options.readOnly?(this.hasFocus()&&this.virtualKeyboardState==="visible"&&this.executeCommand("hideVirtualKeyboard"),this.onBlur(),this.element.classList.add("ML__isReadOnly")):this.element.classList.remove("ML__isReadOnly"),(r=this.virtualKeyboard)===null||r===void 0||r.setOptions(this.options),this.options.readOnly||this.options.virtualKeyboardMode!=="manual"?this.virtualKeyboardToggle.classList.remove("is-visible"):this.virtualKeyboardToggle.classList.add("is-visible"),"virtualKeyboardToggleGlyph"in e){const o=(n=this.element)===null||n===void 0?void 0:n.querySelector(".ML__virtual-keyboard-toggle");o&&(o.innerHTML=this.options.createHTML(this.options.virtualKeyboardToggleGlyph))}const i=C.serialize(this.model.root,{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in e||this.model.getValue()!==i)&&ae.insert("math",this.model,i,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",suppressChangeNotifications:!0}),Ee(this)}getOptions(e){return Ci(this.options,e)}getOption(e){return Ci(this.options,e)}handleEvent(e){if(Tn(this))switch(e.type){case"focus":this.onFocus();break;case"blur":this.onBlur();break;case"touchstart":case"mousedown":case"pointerdown":(function(r,n){var i;r.atomBoundsCache=new Map;const o=r;let a,s=!1,l="none";if(Op(n)&&n.buttons>1)return;let u=!1,c=!1;const d=ii(n)?n.touches[0].clientX:n.clientX,p=ii(n)?n.touches[0].clientY:n.clientY,f=Date.now(),g=o.field,v=setInterval(()=>{u?g.scroll({top:0,left:g.scrollLeft-16}):c&&g.scroll({top:0,left:g.scrollLeft+16})},32);function k(m){ue()&&("PointerEvent"in window?(er(g,"pointermove",b),er(g,"pointerup pointercancel",k),m instanceof PointerEvent&&g.releasePointerCapture(m.pointerId)):(er(g,"touchmove",b),er(g,"touchcancel touchend",k),er(window,"mousemove",b),er(window,"mouseup blur",k)),s=!1,clearInterval(v),r.element.classList.remove("tracking"),m&&m.preventDefault())}function b(m){if(!o.hasFocus())return void k(null);const h=ii(m)?m.touches[0].clientX:m.clientX,w=ii(m)?m.touches[0].clientY:m.clientY,x=ii(m)||m.pointerType==="touch"?20:5;if(Date.now()<f+500&&Math.abs(d-h)<x&&Math.abs(p-w)<x)return m.preventDefault(),void m.stopPropagation();const S=g.getBoundingClientRect();c=h>S.right,u=h<S.left;let M=a;Op(m)?m.isPrimary||(M=oi(o,m.clientX,m.clientY,{bias:0})):m.touches&&m.touches.length===2&&(M=oi(o,m.touches[1].clientX,m.touches[1].clientY,{bias:0}));const D=oi(o,h,w,{bias:h<=d?h===d?0:-1:1});M>=0&&D>=0&&(o.model.extendSelectionTo(M,D),Ee(r)),m.preventDefault(),m.stopPropagation()}Cn&&Math.abs(Cn.x-d)<5&&Math.abs(Cn.y-p)<5&&Date.now()<Cn.time+500?(so+=1,Cn.time=f):(Cn={x:d,y:p,time:f},so=1);const y=g.getBoundingClientRect();if(d>=y.left&&d<=y.right&&p>=y.top&&p<=y.bottom){if(r.hasFocus()||(l="all",r.focus({scrollIntoView:!1})),r.flushInlineShortcutBuffer(),r.smartModeSuppressed=!1,a=oi(r,d,p,{bias:0}),a>=0){if(r.element.classList.add("tracking"),n.shiftKey){const m=r.model.selectionIsCollapsed;r.model.extendSelectionTo(r.model.anchor,a),l=kp(r.model)||m?"all":"selection"}else r.model.at(a).type==="placeholder"?(r.model.setSelection(a-1,a),l="selection"):((i=r.model.at(a).rightSibling)===null||i===void 0?void 0:i.type)==="placeholder"?(r.model.setSelection(a,a+1),l="selection"):(r.model.position=a,l=kp(r.model)?"all":"selection");r.style={},n.detail===3||so>2?(k(n),n.detail!==3&&so!==3||(r.model.selection={ranges:[[0,r.model.lastOffset]]},l="all")):s||(s=!0,ue()&&"PointerEvent"in window?(Ue(g,"pointermove",b),Ue(g,"pointerup pointercancel",k),n instanceof PointerEvent&&g.setPointerCapture(n.pointerId)):(Ue(window,"blur",k),ii(n)&&n.touches?(Ue(n.target,"touchmove",b),Ue(n.target,"touchcancel touchend",k)):(Ue(window,"mousemove",b),Ue(window,"mouseup",k))),n.detail!==2&&so!==2||(E1(r.model),l="all"))}}else Cn=null;l!=="none"&&(r.model.selectionIsCollapsed&&(l="all"),Ee(r)),n.preventDefault()})(this,e);break;case"resize":this.resizeTimer&&cancelAnimationFrame(this.resizeTimer),this.resizeTimer=requestAnimationFrame(()=>Tn(this)&&this.onResize());break;case"wheel":this.onWheel(e)}}dispose(){if(!Tn(this))return;const e=this.element;delete this.element,delete e.mathfield,e.innerHTML=this.model.getValue(),er(e,"pointerdown",this),er(e,"touchstart:active mousedown",this),er(e,"focus",this),er(e,"blur",this),er(window,"resize",this),window.removeEventListener("blur",this,{capture:!0}),delete this.accessibleNode,delete this.ariaLiveText,delete this.field,delete this.fieldContent,this.virtualKeyboardToggle.remove(),delete this.virtualKeyboardToggle,this._virtualKeyboard&&(this._virtualKeyboard.dispose(),delete this._virtualKeyboard),fp(this.popover),M0&&M0.release(),L0&&L0.release(),delete this.popover,fp(this.keystrokeCaption),N0&&N0.release(),P0&&P0.release(),delete this.keystrokeCaption,this.stylesheets.forEach(r=>r==null?void 0:r.release())}flushInlineShortcutBuffer(e){if(e!=null||(e={defer:!1}),!e.defer)return this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),void(this.inlineShortcutBufferFlushTimer=0);this.options.inlineShortcutTimeout>0&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(e){var r,n;return C0(e)==="virtual-keyboard"?(n=(r=this.virtualKeyboard)===null||r===void 0?void 0:r.executeCommand(e))!==null&&n!==void 0&&n:function(i,o){var a,s,l;if(!o)return!1;let u,c=[],d=!1,p=!1;je(o)?(u=o[0],c=o.slice(1)):u=o,u=u.replace(/-\w/g,g=>g[1].toUpperCase());const f=(a=on[u])===null||a===void 0?void 0:a.target;if(f==="model"){if(i.options.readOnly&&/^(paste|cut|insert|delete|transpose|add)/.test(u))return i.model.announce("plonk"),!1;/^(delete|transpose|add)/.test(u)&&u!=="deleteBackward"&&i.flushInlineShortcutBuffer(),/^(delete|transpose|add)/.test(u)&&i.mode!=="latex"&&(i.popUndoStack(),i.snapshot()),i.mode!=="latex"||/^(complete)/.test(u)||Fc(i),on[u].fn(i.model,...c),i.mode!=="latex"&&/^(delete|transpose|add)/.test(u)&&i.snapshot(),i.mode==="latex"&&Fs(i),p=!0,d=!0}else if(f==="virtual-keyboard")p=(l=(s=i.virtualKeyboard)===null||s===void 0?void 0:s.executeCommand(o))!==null&&l!==void 0&&l,d=!0;else{if(!on[u])throw new Error(`Unknown command "${u}"`);/^(undo|redo)/.test(u)&&i.flushInlineShortcutBuffer(),p=on[u].fn(i,...c),d=!0}return f!=="virtual-keyboard"&&(i.model.selectionIsCollapsed&&!/^(transpose|paste|complete|((moveToNextChar|moveToPreviousChar|extend).*))_$/.test(u)||(i.flushInlineShortcutBuffer(),i.style={})),p&&Ee(i),d}(this,e)}get errors(){return Wy(this.model.getValue(),this)}getValue(e,r,n){return this.model.getValue(e,r,n)}setValue(e,r){var n;(r=r??{mode:"math"}).insertionMode===void 0&&(r.insertionMode="replaceAll"),r.format!==void 0&&r.format!=="auto"||(r.format="latex");let i="math";r.mode!==void 0&&r.mode!=="auto"||(i=(n=T1(this.model,this.model.position))!==null&&n!==void 0?n:"math"),ae.insert(i,this.model,e,r)&&(this.undoManager.snapshot(),Ee(this))}get expression(){const e=this.computeEngine;return e?e.box(e.parse(this.model.getValue())):null}loadSound(e){var r,n,i,o,a,s,l;delete this.audioBuffers[e];let u="";switch(e){case"keypress":u=typeof this.options.keypressSound=="string"?this.options.keypressSound:(r=this.options.keypressSound)===null||r===void 0?void 0:r.default;break;case"spacebar":u=typeof this.options.keypressSound=="string"?this.options.keypressSound:(i=(n=this.options.keypressSound)===null||n===void 0?void 0:n.spacebar)!==null&&i!==void 0?i:(o=this.options.keypressSound)===null||o===void 0?void 0:o.default;break;case"delete":u=typeof this.options.keypressSound=="string"?this.options.keypressSound:(s=(a=this.options.keypressSound)===null||a===void 0?void 0:a.delete)!==null&&s!==void 0?s:(l=this.options.keypressSound)===null||l===void 0?void 0:l.default;break;case"plonk":u=this.options.plonkSound}if(typeof u!="string")return;u=u.trim();const c=this.options.soundsDirectory;c!=null&&c!=="null"&&u!=="none"&&u!=="null"&&fetch(L1(c+"/"+u)).then(d=>d.arrayBuffer()).then(d=>this.audioContext.decodeAudioData(d)).then(d=>{this.audioBuffers[e]=d})}playSound(e){if(this.audioBuffers[e]||this.loadSound(e),!this.audioBuffers[e])return;const r=this.audioContext.createBufferSource();r.buffer=this.audioBuffers[e];const n=this.audioContext.createGain();n.gain.value=.5,r.connect(n).connect(this.audioContext.destination),r.start()}scrollIntoView(){var e;if(!this.element)return;(e=this.host)===null||e===void 0||e.scrollIntoView({block:"nearest",inline:"nearest"}),this.dirty&&Pn(this,{interactive:!0});const r=this.field.getBoundingClientRect();let n=null;if(this.model.selectionIsCollapsed)n=zo(this.field);else{const i=y1(this);if(i.length>0){let o=-1/0,a=-1/0;for(const s of i)s.right>o&&(o=s.right),s.top<a&&(a=s.top);n={x:o+r.left-this.field.scrollLeft,y:a+r.top-this.field.scrollTop,height:0}}}if(this.host&&n){const i=this.host.getBoundingClientRect(),o=n.y;let a=this.host.scrollTop;o<i.top?a=o-i.top+this.host.scrollTop:o>i.bottom&&(a=o-i.bottom+this.host.scrollTop+n.height),this.host.scroll({top:a,left:0})}if(n){const i=n.x-window.scrollX;let o=this.field.scrollLeft;i<r.left?o=i-r.left+this.field.scrollLeft-20:i>r.right&&(o=i-r.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:o})}}insert(e,r){if(typeof e=="string"&&e.length>0){if(this.flushInlineShortcutBuffer(),(r=r??{mode:"math"}).focus&&this.focus(),r.feedback&&(this.options.keypressVibration&&$c()&&navigator.vibrate(3),this.playSound("keypress")),r.scrollIntoView&&this.scrollIntoView(),e==="\\\\")z1(this.model);else if(e==="&")A1(this.model);else{const n=this.style;ae.insert(this.mode,this.model,e,{style:this.model.at(this.model.position).computedStyle,...r}),r.resetStyle&&(this.style=n)}return this.undoManager.snapshot(),Ee(this),!0}return!1}switchMode(e,r="",n=""){var i;if(this.mode===e||this.options.readOnly||!(!((i=this.host)===null||i===void 0)&&i.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))))return;const o=this.mode,{model:a}=this;a.deferNotifications({content:Boolean(n)||Boolean(r),selection:!0,type:"insertText"},()=>{var s;let l=!1;if(this.flushInlineShortcutBuffer(),this.smartModeSuppressed=/text|math/.test(this.mode)&&/text|math/.test(e),r&&e!=="latex"){const u=sr(r,this,{parseMode:e});a.collapseSelection("forward");const c=a.at(a.position);a.position=a.offsetOf(c.parent.addChildrenAfter(u,c)),l=!0}if(this.mode=e,e==="latex"){let u,c=a.selectionIsCollapsed;Rn(this,"accept"),!((s=this.virtualKeyboard)===null||s===void 0)&&s.visible&&this.executeCommand(["switchKeyboardLayer","latex-lower"]);let d=a.at(a.position);if(c)u="\\";else{const f=Xt(a.selection);u=this.model.getValue(f,"latex");const g=this.model.extractAtoms(f);g.length===1&&g[0]instanceof ve&&(u=r,c=!0),d=a.at(f[0])}const p=new Dr(u,this);d.parent.addChildAfter(p,d),c?a.position=a.offsetOf(p.lastChild):a.setSelection(a.offsetOf(p.firstChild),a.offsetOf(p.lastChild))}else Yo(a).forEach(u=>{u.isError=!1});if(n){const u=sr(n,this,{parseMode:o});a.collapseSelection("forward");const c=a.at(a.position);a.position=a.offsetOf(c.parent.addChildrenAfter(u,c)),l=!0}return Ee(this),l}),this.mode=e}hasFocus(){return ue()&&this.keyboardDelegate.hasFocus()}focus(e){var r;this.keyboardDelegate.focus(),this.model.announce("line"),((r=e==null?void 0:e.scrollIntoView)===null||r===void 0||r)&&this.scrollIntoView()}blur(){this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]}}applyStyle(e,r={}){var n,i;const o={operation:"set",suppressChangeNotifications:!1};qs(r)?o.range=r:(o.range=r.range,o.suppressChangeNotifications=(n=r.suppressChangeNotifications)!==null&&n!==void 0&&n);const a=K1(this,e),s=(i=o.operation)!==null&&i!==void 0?i:"set";this.model.deferNotifications({content:!o.suppressChangeNotifications,type:"insertText"},()=>{o.range===void 0?this.model.selection.ranges.forEach(l=>D0(this.model,l,a,{operation:s})):D0(this.model,o.range,a,{operation:s})}),Ee(this)}getCaretPoint(){const e=zo(this.field);return e?{x:e.x,y:e.y}:null}setCaretPoint(e,r){const n=oi(this,e,r,{bias:0});if(n<0)return!1;const i=this.model.position;return this.model.position=n,this.model.announce("move",i),Ee(this),!0}getPlaceholderField(e){var r;return(r=this.placeholders.get(e))===null||r===void 0?void 0:r.field}attachNestedMathfield(){let e=!1;const r=this.field.getBoundingClientRect();this.placeholders.forEach((n,i)=>{var o,a;const s=this.field.querySelector(`[data-placeholder-id=${i}]`);if(!s)return;const l=s.getBoundingClientRect(),u=l.left-r.left+((o=this.element.offsetLeft)!==null&&o!==void 0?o:0);(!n.field.style.left||Math.abs(u-parseFloat(n.field.style.left))>=1)&&(e=!0,n.field.style.left=`${u}px`);const c=l.top-r.top+((a=this.element.offsetTop)!==null&&a!==void 0?a:0);(!n.field.style.top||Math.abs(c-parseFloat(n.field.style.top))>=1)&&(e=!0,n.field.style.top=`${c}px`)}),e&&Ee(this)}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(){var e,r;this.undoManager.snapshot()&&((e=this.virtualKeyboard)===null||e===void 0||e.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),(r=this.host)===null||r===void 0||r.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}snapshotAndCoalesce(){var e,r;this.undoManager.snapshotAndCoalesce()&&((e=this.virtualKeyboard)===null||e===void 0||e.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),(r=this.host)===null||r===void 0||r.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}undo(){var e,r;this.undoManager.undo()&&((e=this.virtualKeyboard)===null||e===void 0||e.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),(r=this.host)===null||r===void 0||r.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var e,r;this.undoManager.redo()&&((e=this.virtualKeyboard)===null||e===void 0||e.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),(r=this.host)===null||r===void 0||r.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}resetUndo(){var e;(e=this.undoManager)===null||e===void 0||e.reset()}_onSelectionDidChange(){var e,r,n;this.keyboardDelegate.setValue(this.model.getValue(this.model.selection,"latex-expanded"));const i=this.model.getAtoms(this.model.selection);if(i.length===1&&i[0].type==="placeholder"){const o=i[0];this.model.mathfield.placeholders.has(o.placeholderId)&&((e=this.model.mathfield.placeholders.get(o.placeholderId))===null||e===void 0||e.field.focus())}{const o=this.model.at(this.model.position),a=(r=o.mode)!==null&&r!==void 0?r:au(this.options);this.mode!==a&&(this.mode==="latex"?(Rn(this,"accept",{mode:a}),this.model.position=this.model.offsetOf(o)):this.switchMode(a))}(n=this.host)===null||n===void 0||n.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0}))}onFocus(){var e,r,n;!this.focusBlurInProgress&&this.blurred&&(this.focusBlurInProgress=!0,this.blurred=!1,this.keyboardDelegate.focus(),(e=this.virtualKeyboard)===null||e===void 0||e.setOptions(this.options),(r=this.virtualKeyboard)===null||r===void 0||r.enable(),this.options.virtualKeyboardMode==="onfocus"&&this.executeCommand("showVirtualKeyboard"),Rs(this),Pn(this,{interactive:!0}),(n=this.host)===null||n===void 0||n.dispatchEvent(new Event("focus",{bubbles:!1,composed:!0})),this.valueOnFocus=this.model.getValue(),this.focusBlurInProgress=!1)}onBlur(){var e,r;this.focusBlurInProgress||this.blurred||(this.focusBlurInProgress=!0,this.blurred=!0,this.ariaLiveText.textContent="",Rn(this,"accept"),this.model.getValue()!==this.valueOnFocus&&this.executeCommand("commit"),/onfocus|manual/.test(this.options.virtualKeyboardMode)&&!tt().sharedVirtualKeyboard&&this.executeCommand("hideVirtualKeyboard"),(e=this.virtualKeyboard)===null||e===void 0||e.disable(),(r=this.host)===null||r===void 0||r.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),Ee(this),this.focusBlurInProgress=!1)}onCompositionStart(e){this.model.deleteAtoms(Xt(this.model.selection)),requestAnimationFrame(()=>{Pn(this);const r=zo(this.field);r&&this.keyboardDelegate.moveTo(r.x,r.y)})}onCompositionUpdate(e){(function(r,n){const i=r.at(r.position);if(i.type==="composition")i.value=n;else{const{caret:o}=i;i.caret="";const a=new fl(n,r.mathfield,{mode:i.mode});a.caret=o,i.parent.addChildAfter(a,i),r.position+=1}})(this.model,e),Ee(this)}onCompositionEnd(e){(function(r){const n=r.at(r.position);n.type==="composition"&&(n.parent.removeChild(n),r.position-=1)})(this.model),O0(this,e,{simulateKeystroke:!0})}onResize(){Rs(this)}onWheel(e){const r=5*e.deltaX;if(!Number.isFinite(r)||r===0)return;const n=this.field;r<0&&n.scrollLeft===0||r>0&&n.offsetWidth+n.scrollLeft>=n.scrollWidth||(n.scrollBy({top:0,left:r}),e.preventDefault(),e.stopPropagation())}getHTMLElement(e){let r=e;for(;!r.id&&r.hasChildren;)r=e.children[0];if(r.id)return this.element.querySelector(`[data-atom-id="${r.id}"]`);throw new TypeError("Could not get an ID from atom")}}var gu,Rp,bu,qp;const K0=ue()?document.createElement("template"):null;K0&&(K0.innerHTML=`<style>
:host { display: block; position: relative; overflow: hidden auto;}
:host([hidden]) { display: none; }
:host([disabled]) { opacity:  .5; }
:host(:focus), :host(:focus-within) {
  outline: Highlight auto 1px;    /* For Firefox */
  outline: -webkit-focus-ring-color auto 1px;
}
:host([readonly]), :host([read-only]) { outline: none; }
</style>
<div></div><slot style="display:none"></slot>`);const te=new WeakMap;class Et extends HTMLElement{static get optionsAttributes(){return{"default-mode":"string","fonts-directory":"string","sounds-directory":"string","horizontal-spacing-scale":"string","math-mode-space":"string","inline-shortcut-timeout":"string","keypress-vibration":"on/off","keypress-sound":"string","plonk-sound":"string","letter-shape-style":"string",locale:"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off","speech-engine":"string","speech-engine-rate":"string","speech-engine-voice":"string","text-to-speech-markup":"string","text-to-speech-rules":"string","virtual-keyboard-layout":"string","virtual-keyboard-mode":"string","virtual-keyboard-theme":"string","virtual-keyboards":"string","use-shared-virtual-keyboard":"boolean","shared-virtual-keyboard-target-origin":"string"}}static get observedAttributes(){return[...Object.keys(Et.optionsAttributes),"disabled","readonly","read-only"]}constructor(e){Fr(),super(),this.attachShadow({mode:"open"}),this.shadowRoot.append(K0.content.cloneNode(!0));const r=this.shadowRoot.querySelector("slot:not([name])");this._slotValue=r.assignedNodes().map(n=>n.nodeType===3?n.textContent:"").join("").trim(),e&&this.setOptions(e),this.shadowRoot.host.addEventListener("pointerdown",n=>this.onPointerDown(),!0),this.shadowRoot.host.addEventListener("focus",()=>{var n;return(n=this._mathfield)===null||n===void 0?void 0:n.focus()},!0),this.shadowRoot.host.addEventListener("blur",()=>{var n;return(n=this._mathfield)===null||n===void 0?void 0:n.blur()},!0)}onPointerDown(){window.addEventListener("pointerup",e=>{e.target===this&&this.dispatchEvent(new MouseEvent("click",{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,relatedTarget:e.relatedTarget,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey}))},{once:!0})}getPlaceholderField(e){var r;return(r=this._mathfield)===null||r===void 0?void 0:r.getPlaceholderField(e)}addEventListener(e,r,n){return super.addEventListener(e,r,n)}removeEventListener(e,r,n){super.removeEventListener(e,r,n)}get mode(){var e,r;return(r=(e=this._mathfield)===null||e===void 0?void 0:e.mode)!==null&&r!==void 0?r:"math"}set mode(e){this._mathfield&&(this._mathfield.mode=e)}get computeEngine(){if(this._mathfield)return this._mathfield.computeEngine}set computeEngine(e){this._mathfield&&this._mathfield.setOptions({computeEngine:e})}get expression(){if(this._mathfield)return this._mathfield.expression}set expression(e){var r,n;if(!this._mathfield)return;const i=(n=(r=this.computeEngine)===null||r===void 0?void 0:r.box(e).latex)!==null&&n!==void 0?n:null;i!==null&&this._mathfield.setValue(i)}get errors(){var e,r;return(r=(e=this._mathfield)===null||e===void 0?void 0:e.errors)!==null&&r!==void 0?r:[]}get placeholders(){if(!this._mathfield)return{};const e={};for(const[r,n]of this._mathfield.placeholders)e[r]=n.field;return e}getOptions(e){return this._mathfield?Ci(this._mathfield.options,e):te.has(this)?Ci(A0(T0(),te.get(this).options),e):null}getOption(e){return this.getOptions([e])[e]}setOptions(e){if(this._mathfield)this._mathfield.setOptions(e),this._mathfield.placeholders.forEach(r=>{r.field.setOptions({...e,readOnly:!1})});else if(te.has(this)){const r={...te.get(this).options,...e};te.set(this,{...te.get(this),selection:{ranges:r.readOnly?[[0,0]]:[[0,-1]]},options:r})}else te.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:e});(function(r){const n=T0(),i=r.getOptions();Object.keys(Et.optionsAttributes).forEach(o=>{const a=Qr(o);Et.optionsAttributes[o]==="on/off"?n[a]!==i[a]?r.setAttribute(o,i[a]?"on":"off"):r.removeAttribute(o):n[a]!==i[a]&&(Et.optionsAttributes[o]==="boolean"?i[a]?r.setAttribute(o,""):r.removeAttribute(o):typeof i[a]!="string"&&typeof i[a]!="number"||r.setAttribute(o,i[a].toString()))})})(this)}executeCommand(e){var r,n;return(n=(r=this._mathfield)===null||r===void 0?void 0:r.executeCommand(e))!==null&&n!==void 0&&n}getValue(e,r,n){var i,o;if(this._mathfield)return this._mathfield.model.getValue(e,r,n);if(te.has(this)){let a,s,l;if(es(e)?([a,s]=e.ranges[0],l=r):qs(e)?([a,s]=e,l=r):Ur(e)&&Ur(r)?(a=e,s=r,l=n):(a=0,s=-1,l=e),(l===void 0||l==="latex")&&a===0&&s===-1)return(o=(i=te.get(this).value)!==null&&i!==void 0?i:this.textContent)!==null&&o!==void 0?o:""}return""}setValue(e,r){if(this._mathfield&&e!==void 0)return r||(r={suppressChangeNotifications:!0}),void this._mathfield.setValue(e,r);if(te.has(this)){const i=te.get(this).options;return void te.set(this,{value:e,selection:{ranges:i.readOnly?[[0,0]]:[[0,-1]],direction:"forward"},options:i})}const n=Pa(this);te.set(this,{value:e,selection:{ranges:n.readOnly?[[0,0]]:[[0,-1]],direction:"forward"},options:n})}hasFocus(){var e,r;return(r=(e=this._mathfield)===null||e===void 0?void 0:e.hasFocus())!==null&&r!==void 0&&r}get virtualKeyboardState(){var e,r;return(r=(e=this._mathfield)===null||e===void 0?void 0:e.virtualKeyboardState)!==null&&r!==void 0?r:"hidden"}set virtualKeyboardState(e){this._mathfield&&(this._mathfield.virtualKeyboardState=e)}focus(){super.focus()}blur(){var e;(e=this._mathfield)===null||e===void 0||e.blur(),super.blur()}select(){var e;(e=this._mathfield)===null||e===void 0||e.select()}insert(e,r){var n,i;return(i=(n=this._mathfield)===null||n===void 0?void 0:n.insert(e,r))!==null&&i!==void 0&&i}applyStyle(e,r){var n;return(n=this._mathfield)===null||n===void 0?void 0:n.applyStyle(e,r)}get caretPoint(){var e,r;return(r=(e=this._mathfield)===null||e===void 0?void 0:e.getCaretPoint())!==null&&r!==void 0?r:null}set caretPoint(e){var r;e&&((r=this._mathfield)===null||r===void 0||r.setCaretPoint(e.x,e.y))}setCaretPoint(e,r){var n,i;return(i=(n=this._mathfield)===null||n===void 0?void 0:n.setCaretPoint(e,r))!==null&&i!==void 0&&i}offsetFromPoint(e,r,n){return this._mathfield?oi(this._mathfield,e,r,n):-1}hitboxFromOffset(e){if(!this._mathfield)return null;const r=this._mathfield.model.at(e);if(!r)return null;const n=ua(this._mathfield,r);return n?new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top):null}resetUndo(){var e;(e=this._mathfield)===null||e===void 0||e.resetUndo()}canUndo(){return!!this._mathfield&&this._mathfield.canUndo()}canRedo(){return!!this._mathfield&&this._mathfield.canRedo()}connectedCallback(){var e,r,n;this.hasAttribute("role")||this.setAttribute("role","textbox"),this.setAttribute("dir","ltr"),this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field"),this.setAttribute("contenteditable","true"),this.setAttribute("aria-multiline","false"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");const i=this.shadowRoot.querySelector("slot:not([name])");try{this._style=i.assignedElements().filter(a=>a.tagName.toLowerCase()==="style").map(a=>a.textContent).join("")}catch{}if(this._style){const a=document.createElement("style");a.textContent=this._style,this.shadowRoot.appendChild(a)}try{const a=i.assignedElements().filter(s=>s.tagName.toLowerCase()==="script"&&s.type==="application/json").map(s=>s.textContent).join("");a&&this.setOptions(JSON.parse(a))}catch{}let o="";if(o=this.hasAttribute("value")?(e=this.getAttribute("value"))!==null&&e!==void 0?e:"":(r=i==null?void 0:i.assignedNodes().map(a=>a.nodeType===3?a.textContent:"").join("").trim())!==null&&r!==void 0?r:"",this._mathfield=new B3(this.shadowRoot.querySelector(":host > div"),{...te.has(this)?te.get(this).options:Pa(this),eventSink:this,value:o}),!te.has(this)){this.upgradeProperty("disabled"),this.upgradeProperty("readonly");for(const a of Object.keys(Et.optionsAttributes))this.upgradeProperty(Qr(a))}!((n=this._mathfield)===null||n===void 0)&&n.model?(te.has(this)&&this._mathfield.model.deferNotifications({content:!1,selection:!1},()=>{const a=te.get(this).value;a!==void 0&&this._mathfield.setValue(a),this._mathfield.model.selection=te.get(this).selection,te.delete(this)}),i.addEventListener("slotchange",a=>{if(a.target!==i)return;const s=i.assignedNodes().map(l=>l.nodeType===3?l.textContent:"").join("").trim();s!==this._slotValue&&(this._mathfield?this._mathfield.setValue(s):this.value=s)}),this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))):this._mathfield=null}disconnectedCallback(){if(this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0})),!this._mathfield)return;const e=Ci(this._mathfield.options,Object.keys(Et.optionsAttributes).map(r=>Qr(r)));te.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,options:e}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(e){if(this.hasOwnProperty(e)){const r=this[e];delete this[e],e!=="readonly"&&e!=="read-only"||(e="readOnly"),this[e]=r}}attributeChangedCallback(e,r,n){if(r===n)return;const i=n!==null;switch(e){case"disabled":this.disabled=i;break;case"read-only":case"readonly":this.readOnly=i}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(e){const r=Boolean(e);r?(this.setAttribute("readonly",""),this.setAttribute("disabled",""),this.setAttribute("aria-readonly","true")):(this.removeAttribute("readonly"),this.removeAttribute("read-only"),this.removeAttribute("disabled"),this.removeAttribute("aria-readonly")),this.setOptions({readOnly:r})}get disabled(){return this.hasAttribute("disabled")}set disabled(e){const r=Boolean(e);r?this.setAttribute("disabled",""):this.removeAttribute("disabled"),this.setAttribute("aria-disabled",r?"true":"false"),this.setOptions({readOnly:r})}get value(){return this.getValue()}set value(e){this.setValue(e)}get defaultMode(){return this.getOption("defaultMode")}set defaultMode(e){this.setOptions({defaultMode:e})}get fontsDirectory(){return this.getOption("fontsDirectory")}set fontsDirectory(e){this.setOptions({fontsDirectory:e})}get mathModeSpace(){return this.getOption("mathModeSpace")}set mathModeSpace(e){this.setOptions({mathModeSpace:e})}get inlineShortcutTimeout(){return this.getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(e){this.setOptions({inlineShortcutTimeout:e})}get keypressVibration(){return this.getOption("keypressVibration")}set keypressVibration(e){this.setOptions({keypressVibration:e})}get keypressSound(){return this.getOption("keypressSound")}set keypressSound(e){this.setOptions({keypressSound:e})}get plonkSound(){var e;return(e=this.getOption("plonkSound"))!==null&&e!==void 0?e:null}set plonkSound(e){this.setOptions({plonkSound:e})}get letterShapeStyle(){return this.getOption("letterShapeStyle")}set letterShapeStyle(e){this.setOptions({letterShapeStyle:e})}get locale(){return this.getOption("locale")}set locale(e){this.setOptions({locale:e})}get readOnly(){return this.getOption("readOnly")}set readOnly(e){this.setOptions({readOnly:e})}get removeExtraneousParentheses(){return this.getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(e){this.setOptions({removeExtraneousParentheses:e})}get smartFence(){return this.getOption("smartFence")}set smartFence(e){this.setOptions({smartFence:e})}get smartMode(){return this.getOption("smartMode")}set smartMode(e){this.setOptions({smartMode:e})}get smartSuperscript(){return this.getOption("smartSuperscript")}set smartSuperscript(e){this.setOptions({smartSuperscript:e})}get speechEngine(){return this.getOption("speechEngine")}set speechEngine(e){this.setOptions({speechEngine:e})}get speechEngineRate(){return this.getOption("speechEngineRate")}set speechEngineRate(e){this.setOptions({speechEngineRate:e})}get speechEngineVoice(){return this.getOption("speechEngineVoice")}set speechEngineVoice(e){this.setOptions({speechEngineVoice:e})}get textToSpeechMarkup(){return this.getOption("textToSpeechMarkup")}set textToSpeechMarkup(e){this.setOptions({textToSpeechMarkup:e})}get textToSpeechRules(){return this.getOption("textToSpeechRules")}set textToSpeechRule(e){this.setOptions({textToSpeechRules:e})}get virtualKeyboardLayout(){return this.getOption("virtualKeyboardLayout")}set virtualKeyboardLayout(e){this.setOptions({virtualKeyboardLayout:e})}get virtualKeyboardMode(){return this.getOption("virtualKeyboardMode")}set virtualKeyboardMode(e){this.setOptions({virtualKeyboardMode:e})}get virtualKeyboardTheme(){return this.getOption("virtualKeyboardTheme")}set virtualKeyboardTheme(e){this.setOptions({virtualKeyboardTheme:e})}get virtualKeyboards(){return this.getOption("virtualKeyboards")}set virtualKeyboards(e){this.setOptions({virtualKeyboards:e})}get useSharedVirtualKeyboard(){return this.getOption("useSharedVirtualKeyboard")}set useSharedVirtualKeyboard(e){this.setOptions({useSharedVirtualKeyboard:e})}get sharedVirtualKeyboardTargetOrigin(){return this.getOption("sharedVirtualKeyboardTargetOrigin")}set sharedVirtualKeyboardTargetOrigin(e){this.setOptions({sharedVirtualKeyboardTargetOrigin:e})}get selection(){return this._mathfield?this._mathfield.model.selection:te.has(this)?te.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(e){typeof e=="number"&&(e={ranges:[[e,e]]}),this._mathfield?this._mathfield.model.selection=e:te.has(this)?te.set(this,{...te.get(this),selection:e}):te.set(this,{value:void 0,selection:e,options:Pa(this)})}get selectionIsCollapsed(){const e=this.selection;return e.ranges.length===1&&e.ranges[0][0]===e.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:te.has(this)?te.get(this).selection.ranges[0][0]:0}set position(e){this._mathfield&&(this._mathfield.model.position=e),te.has(this)?te.set(this,{...te.get(this),selection:{ranges:[[e,e]]}}):te.set(this,{value:void 0,selection:{ranges:[[e,e]]},options:Pa(this)})}getOffsetDepth(e){var r,n;return this._mathfield&&(n=((r=this._mathfield.model.at(e))===null||r===void 0?void 0:r.treeDepth)-2)!==null&&n!==void 0?n:0}get lastOffset(){var e,r;return(r=(e=this._mathfield)===null||e===void 0?void 0:e.model.lastOffset)!==null&&r!==void 0?r:-1}}function Qr(t){return t.toLowerCase().replace(/[^a-zA-Z\d]+(.)/g,(e,r)=>r.toUpperCase())}function Pa(t){const e={},r=Et.optionsAttributes;return Object.keys(r).forEach(n=>{if(t.hasAttribute(n)){const i=t.getAttribute(n);r[n]==="boolean"?e[Qr(n)]=!0:r[n]==="on/off"?e[Qr(n)]=i==="on"||i!=="off"&&void 0:r[n]==="number"?e[Qr(n)]=Number.parseFloat(i??"0"):e[Qr(n)]=i}else r[n]==="boolean"&&(e[Qr(n)]=!1)}),e}ue()&&!(!((gu=window.customElements)===null||gu===void 0)&&gu.get("math-field"))&&((Rp=globalThis[qp=Symbol.for("io.cortexjs.mathlive")])!==null&&Rp!==void 0||(globalThis[qp]={}),globalThis[Symbol.for("io.cortexjs.mathlive")].version="0.86.0",window.MathfieldElement=Et,(bu=window.customElements)===null||bu===void 0||bu.define("math-field",Et));function $(t,e,r=3e3,n="$0"){for(const i of e)zr[i]&&(zr[i].frequency=r,zr[i].category=t,zr[i].template=n.replace(/\$0/g,i)),Tr[i]&&(Tr[i]={...Tr[i],frequency:r,category:t,template:n.replace(/\$0/g,i)})}function tt(){var t,e;return(t=globalThis[e=Symbol.for("io.cortexjs.mathlive")])!==null&&t!==void 0||(globalThis[e]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}$("Trigonometry",["\\cos","\\sin","\\tan"],4e3),$("Trigonometry",["\\arccos","\\arcsin","\\arctan","\\arctg","\\arcctg","\\arcsec","\\arccsc","\\arsinh","\\arcosh","\\artanh","\\arcsech","\\arccsch","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\lg","\\lb","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th"],2e3),$("Functions",["\\ln","\\log","\\exp","\\lim"],4e3),$("Functions",["\\dim","\\ker","\\deg","\\det","\\mod","\\min","\\max"],3e3),$("Functions",["\\hom"],1200),$("Decoration",["\\rule"],200,"$0{2em}{1em}"),$("Decoration",["\\color","\\textcolor"],200,"{$0{m0}A}{$0{m1}B}{$0{m2}C }{$0{m3}a}{$0{m4}b}{$0{m5}c}{$0{m6}8}"),$("Decoration",["\\overline","\\underline"],3e3,"$0{\\placeholder{}}"),$("Decoration",["\\enclose"],1200,'\\enclose{updiagonalstrike,roundedbox}[1px solid red, mathbackground="#fbc0bd"]{x=0}'),$("Decoration",["\\fcolorbox"],1200,'\\fcolorbox{#cd0030}{#ffd400}{\\unicode{"2B1A}}'),$("Decoration",["\\colorbox"],1200,'\\colorbox{#fbc0bd}{\\unicode{"2B1A}}'),$("Decoration",["\\boxed","\\cancel","\\bcancel","\\xcancel"],1200,"$0{\\placeholder{}}"),$("Decoration",["\\bbox"],1200,'\\bbox[#ffd400, solid 2px #ffd400]{\\unicode{"2B1A}}'),$("Styling",["\\mathbb"],4e3,"$0{Don Knuth}"),$("Styling",["\\textbf","\\textup","\\textit","\\textrm","\\textsf","\\texttt","\\textnormal","\\textmd","\\textsl","\\textsc","\\mathsf","\\mathtt","\\mathrm","\\mathfrak","\\mathcal","\\mathscr","\\mathbf","\\mathmd","\\mathit","\\text","\\mbox","\\Bbb","\\bold","\\bm","\\boldsymbol"],3e3,"$0{Don Knuth}"),$("Styling",["\\frak","\\tt","\\bf","\\it","\\rmfamily","\\sffamily","\\ttfamily","\\class","\\cssId","\\htmlData","\\htmlStyle"],1200,"{$0 Don Knuth}"),$("Styling",["\\bfseries","\\mdseries","\\upshape","\\slshape","\\scshape"],1200,"\\text{$0 Don Knuth}"),$("Styling",["\\class","\\cssId"],1200,"$0{testIdentifier}{Don Knuth}"),$("Styling",["\\fontseries"],1200,"\\text{$0{b}Don Knuth}"),$("Styling",["\\fontfamily"],1200,"\\text{$0{cmtt}Don Knuth}"),$("Styling",["\\fontshape"],1200,"\\text{$0{sc}Don Knuth}"),$("Styling",["\\selectfont"],1200,"\\text{$0}"),$("Styling",["\\emph"],1200,"Don$0{Knuth}"),$("Styling",["\\em"],1200,"Don{$0 Knuth}"),$("Layout",["\\mathop","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathord","\\mathinner","\\operatorname","\\operatorname*"],1200,"x=$0{arg}=0"),$("Layout",["\\middle"],1200,"\\left\\{x$0|x>0\\right\\}"),$("Layout",["\\overset","\\underset","\\stackrel","\\stackbin"],1200,"$0{arg}{x=0}"),$("Layout",["\\rlap","\\mathrlap"],1200,"$0{/}0"),$("Layout",["\\llap","\\mathllap"],1200,"o$0{/}"),$("Fractions",["\\frac"],4e3,"$0{\\placeholder{}}{\\placeholder{}}"),$("Fractions",["\\binom","\\dfrac","\\tfrac","\\dbinom","\\tbinom","\\pdiff","\\cfrac"],1200,"$0{\\placeholder{}}{\\placeholder{}}"),$("Fractions",["\\over","\\atop","\\choose"],1200,'\\unicode{"2B1A} $0 \\unicode{"2B1A}'),$("Fractions",["\\overwithdelims","\\atopwithdelims"],1200,'{\\unicode{"2B1A} $0{\\lbrace}{\\rbrace} \\unicode{"2B1A}}'),$("Extensible Operators",["\\sum","\\prod","\\bigcap","\\bigcup","\\int"],4e3),$("Extensible Operators",["\\bigoplus","\\smallint","\\iint","\\oint"],3e3),$("Extensible Operators",["\\bigwedge","\\bigvee","\\coprod","\\bigsqcup","\\bigotimes","\\bigodot","\\biguplus","\\intop","\\sqcup","\\sqcap","\\uplus","\\wr","\\Cap","\\Cup","\\doublecap","\\doublecup","\\amalg","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"],1200),$("Accents",["\\vec"],4e3),$("Accents",["\\bar","\\ddot","\\acute","\\tilde","\\check"],3e3,"$0{\\placeholder{}}"),$("Accents",["\\^","\\`","\\'"],1200,"$0{e}"),$("Accents",["\\c"],1200,"$0{c}"),$("Accents",["\\~"],1200,"$0{n}"),$("Accents",["\\mathring","\\hat","\\dot","\\breve","\\grave"],1200,"$0{\\placeholder{}}"),$("Extensible Symbols",["\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftharpoon","\\overrightharpoon","\\overleftrightarrow","\\overbrace","\\overlinesegment","\\overgroup","\\widehat","\\widecheck","\\widetilde"],3e3,"$0{ABC}"),$("Extensible Symbols",["\\underrightarrow","\\underleftarrow","\\underleftrightarrow","\\underbrace","\\underlinesegment","\\undergroup","\\utilde"],3e3,"$0{ABC}"),$("Sizing",["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],1200,"$0{x=0}"),$("Sizing",["\\big","\\Big","\\bigg","\\Bigg"],1200,"$0($0)"),$("Sizing",["\\bigl","\\Bigl","\\biggl","\\Biggl"],1200,"$0("),$("Sizing",["\\bigr","\\Bigr","\\biggr","\\Biggr"],1200,"$0)"),$("Sizing",["\\bigm","\\Bigm","\\biggm","\\Biggm"],1200,"$0|"),$("Letterlike Symbols",["\\nabla","\\partial","\\N","\\R","\\Q","\\C","\\Z","\\exponentialE","\\forall","\\exists","\\nexists"],4e3),$("Letterlike Symbols",["\\doubleStruckCapitalP","\\P","\\ell","\\hbar","\\hslash","\\imath","\\jmath","\\imaginaryI","\\imaginaryJ","\\differentialD","\\rd","\\capitalDifferentialD","\\doubleStruckCapitalN","\\doubleStruckCapitalR","\\doubleStruckCapitalQ","\\doubleStruckCapitalC","\\doubleStruckCapitalZ","\\rD","\\differencedelta","\\mid","@","\\Re","\\Im","\\$","\\%","\\And","\\degree"],3e3),$("Letterlike Symbols",["\\top","\\bot","\\scriptCapitalE","\\scriptCapitalH","\\scriptCapitalL","\\gothicCapitalC","\\gothicCapitalH","\\gothicCapitalI","\\gothicCapitalR","\\Bbbk","\\Finv","\\Game","\\wp","\\eth","\\mho","\\pounds","\\yen","\\euro"],1200),$("Crosses",["\\dagger","\\dag"],4e3),$("Crosses",["\\ddag","\\ddagger","\\maltese","\\textdagger","\\textdaggerdbl"],1200),$("Various",["\\checkmark","\\diagup","\\diagdown","\\angle","\\measuredangle","\\sphericalangle","\\prime","\\doubleprime","\\backprime","\\backdoubleprime","\\sharp","\\flat","\\natural","\\&","\\#","\\clubsuit","\\spadesuit","\\diamondsuit","\\heartsuit","\\backslash","\\infty","/","\\_","\\/","|","'"],1200),$("Various",["\\unicode"],1200,'$0{"2B1A}'),$("Arrows",["\\longrightarrow","\\rightarrow","\\Longrightarrow","\\Rightarrow"],4e3),$("Arrows",["\\longmapsto","\\mapsto","\\Longleftrightarrow","\\rightleftarrows","\\leftarrow","\\curvearrowleft","\\uparrow","\\downarrow","\\hookrightarrow","\\rightharpoonup","\\rightleftharpoons"],3e3),$("Arrows",["\\Leftarrow","\\longleftrightarrow","\\longleftarrow","\\Longleftarrow","\\searrow","\\nearrow","\\swarrow","\\nwarrow","\\Uparrow","\\Downarrow","\\updownarrow","\\Updownarrow","\\hookleftarrow","\\leftharpoonup","\\leftharpoondown","\\rightharpoondown","\\leftrightarrows","\\dashrightarrow","\\dashleftarrow","\\leftleftarrows","\\Lleftarrow","\\twoheadleftarrow","\\leftarrowtail","\\looparrowleft","\\leftrightharpoons","\\circlearrowleft","\\Lsh","\\upuparrows","\\downharpoonleft","\\multimap","\\leftrightsquigarrow","\\twoheadrightarrow","\\rightarrowtail","\\looparrowright","\\curvearrowright","\\circlearrowright","\\Rsh","\\downdownarrows","\\upharpoonright","\\downharpoonright","\\rightsquigarrow","\\leadsto","\\Rrightarrow","\\restriction"],1200),$("Arrows",["\\upharpoonleft","\\rightrightarrows"],0),$("Negated Arrows",["\\nrightarrow","\\nRightarrow","\\nleftrightarrow","\\nLeftrightarrow","\\nleftarrow","\\nLeftarrow"],1200),$("Extensible Symbols",["\\xrightarrow","\\xleftarrow","\\xRightarrow","\\xLeftarrow","\\xleftharpoonup","\\xleftharpoondown","\\xrightharpoonup","\\xrightharpoondown","\\xlongequal","\\xtwoheadleftarrow","\\xtwoheadrightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xrightleftharpoons","\\xleftrightharpoons","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],1200,"$0[below]{above}=0"),$("Negated Relations",["\\nless","\\nleqslant","\\lneq","\\lneqq","\\nleqq","\\unlhd","\\unrhd","\\lvertneqq","\\lnsim","\\lnapprox","\\nprec","\\npreceq","\\precnsim","\\precnapprox","\\nsim","\\nshortmid","\\nmid","\\nvdash","\\nvDash","\\ngtr","\\ngeqslant","\\ngeqq","\\gneq","\\gneqq","\\gvertneqq","\\gnsim","\\nsucc","\\succnsim","\\ncong","\\nshortparallel","\\nparallel","\\nVDash","\\nVdash","\\precneqq","\\succneqq","\\gnapprox","\\succnapprox","\\nsucceq"],1200),$("Hebrew",["\\aleph","\\beth","\\daleth","\\gimel"],1200),$("Fences",["\\lbrace","\\rbrace","\\vert","\\Vert","\\{","\\}","(",")","[","]"],4e3),$("Fences",["\\langle","\\rangle","\\lfloor","\\rfloor","\\lceil","\\rceil","\\mvert","\\|","\\mVert"],3e3),$("Fences",["\\lvert","\\rvert","\\lVert","\\rVert","\\lbrack","\\rbrack","\\ulcorner","\\urcorner","\\llcorner","\\lrcorner","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"],1200),$("Relations",["=","\\ne","\\neq","<",">","\\leqslant","\\geqslant","\\approx"],4e3),$("Relations",["\\lt","\\gt","\\le","\\ge","\\leq","\\geq","\\gg","\\cong","\\equiv","\\prec","\\preceq","\\succ","\\perp","\\parallel","\\propto","\\smile","\\frown","\\sim","\\gtrsim"],3e3),$("Relations",["\\coloneq","\\succeq","\\approxeq","\\thickapprox","\\lessapprox","\\gtrapprox","\\precapprox","\\succapprox","\\thicksim","\\succsim","\\precsim","\\backsim","\\eqsim","\\backsimeq","\\simeq","\\lesssim","\\nleq","\\ngeq","\\smallsmile","\\smallfrown","\\bowtie","\\asymp","\\leqq","\\eqslantless","\\ll","\\lll","\\lessgtr","\\lesseqgtr","\\lesseqqgtr","\\risingdotseq","\\fallingdotseq","\\preccurlyeq","\\curlyeqprec","\\vDash","\\Vvdash","\\bumpeq","\\Bumpeq","\\geqq","\\eqslantgtr","\\ggg","\\gtrless","\\gtreqless","\\gtreqqless","\\succcurlyeq","\\curlyeqsucc","\\Vdash","\\shortmid","\\shortparallel","\\between","\\pitchfork","\\varpropto","\\backepsilon","\\llless","\\gggtr","\\lhd","\\rhd","\\Join","\\doteq","\\doteqdot","\\Doteq","\\eqcirc","\\circeq","\\lessdot","\\gtrdot","\\measeq","\\eqdef","\\questeq"],1200),$("Logic",["\\leftrightarrow","\\Leftrightarrow","\\to"],4e3),$("Logic",["\\models","\\vdash"],3e3),$("Logic",["\\therefore","\\because","\\implies","\\gets","\\dashv","\\impliedby","\\biconditional","\\roundimplies"],1200),$("Operators",["+","-","*","\\cdot"],4e3),$("Operators",["\\sqrt"],4e3,"$0{\\placeholder{}}"),$("Operators",["\\pm","\\mp","\\times","\\div","\\surd"],3e3),$("Operators",["\\ltimes","\\rtimes","\\leftthreetimes","\\rightthreetimes","\\intercal","\\dotplus","\\centerdot","\\doublebarwedge","\\divideontimes","\\divides"],1200),$("Logic",["\\wedge","\\vee","\\neg"],4e3),$("Logic",["\\lnot"],3e3),$("Logic",["\\land","\\lor","\\barwedge","\\veebar","\\nor","\\curlywedge","\\curlyvee"],1200),$("Greek",["\\alpha","\\beta","\\gamma","\\delta","\\epsilon","\\varepsilon","\\zeta","\\eta","\\theta","\\vartheta","\\iota","\\kappa","\\varkappa","\\lambda","\\mu","\\nu","\\xi","\\pi","\\varpi","\\rho","\\varrho","\\sigma","\\varsigma","\\tau","\\phi","\\varphi","\\upsilon","\\chi","\\psi","\\omega","\\Gamma","\\Delta","\\Theta","\\Lambda","\\Xi","\\Pi","\\Sigma","\\Upsilon","\\Phi","\\Psi","\\Omega","\\digamma","\\omicron"],3e3),$("Sets",["\\emptyset","\\varnothing","\\cap","\\cup","\\in","\\notin","\\subset","\\supset","\\subseteq","\\supseteq","\\sqsubseteq"],4e3),$("Sets",["\\setminus","\\not","\\ni","\\sqsupseteq","\\nsupseteqq","\\supsetneq","\\varsupsetneq","\\supsetneqq","\\varsupsetneqq"],3e3),$("Sets",["\\smallsetminus","\\complement","\\owns","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\varsubsetneqq","\\nsubset","\\nsupset","\\nsubseteq","\\nsupseteq","\\nsubseteqq","\\subseteqq","\\Subset","\\sqsubset","\\supseteqq","\\Supset","\\sqsupset"],1200),$("Spacing",["\\space","\\quad","\\qquad"],3e3,'\\unicode{"203A}$0\\unicode{"2039}'),$("Spacing",["\\!","\\,","\\:","\\;","\\enskip","\\enspace"],1200,'\\unicode{"203A}$0\\unicode{"2039}'),$("Spacing",["\\hspace","\\hspace*"],1200,'\\unicode{"203A}$0{1em}\\unicode{"2039}'),$("Punctuation",["\\colon","\\cdotp","\\ldots","\\cdots","\\ddots","\\vdots","?","!",":",'"',",",".",";"],3e3),$("Punctuation",["\\mathellipsis","\\ldotp","\\Colon"],1200),$("Boxes",["\\square","\\Box"],3e3),$("Boxes",["\\blacksquare","\\boxminus","\\boxplus","\\boxtimes","\\boxdot"],1200),$("Circles",["\\circ","\\bullet","\\circleddash","\\oplus","\\otimes"],3e3),$("Circles",["\\bigcirc","\\circledast","\\ominus","\\circledcirc","\\oslash","\\circledS","\\circledR","\\odot"],1200),$("Triangles",["\\triangle","\\triangleq"],3e3),$("Triangles",["\\bigtriangleup","\\vartriangle","\\triangledown","\\bigtriangledown","\\triangleleft","\\vartriangleleft","\\trianglelefteq","\\ntriangleleft","\\ntrianglelefteq","\\triangleright","\\vartriangleright","\\trianglerighteq","\\ntriangleright","\\ntrianglerighteq","\\blacktriangle","\\blacktriangledown","\\blacktriangleleft","\\blacktriangleright"],1200),$("Shapes",["\\ast","\\star"],3e3),$("Shapes",["\\diamond","\\Diamond","\\lozenge","\\blacklozenge","\\bigstar"],1200);const ji="",Vi="",Ge="",rt="",Xe="",wl="",_l="",Sl="",Qt="Symbol",Te="BinaryExpression",Ae="UnaryExpression",Er={type:Qt,name:ji,active:!0},ta={type:Qt,name:Vi,active:!0};class N3{constructor(){xt(this,"input");xt(this,"pos");xt(this,"operators",[{name:Xe,precedence:0,kind:"unary"},{name:Ge,precedence:1,kind:"binary"},{name:rt,precedence:1,kind:"binary"},{name:wl,precedence:1,kind:"binary"},{name:_l,precedence:1,kind:"binary"},{name:Sl,precedence:1,kind:"binary"}])}parse(e){this.input=e,this.pos=0;const r=this.parseExpression();if(this.pos<this.input.length)throw new Error(`Unexpected character at position ${this.pos}`);return r}parseExpression(e=0){let r=this.parseTerm();for(;this.pos<this.input.length;){const n=this.parseOperator();if(!n||n.precedence<e)break;const i=this.parseTerm();r={type:"BinaryExpression",operator:n.name,left:r,right:i}}return r}parseTerm(){this.skipWhitespace();const e=this.input[this.pos],r=this.parseOperator();if(r)return{type:"UnaryExpression",operator:r.name,right:this.parseTerm()};if(e==="("){this.pos++;const n=this.parseExpression();if(this.skipWhitespace(),this.input[this.pos]!==")")throw new Error(`Expected ")" at position ${this.pos}`);return this.pos++,n}else return this.parseSymbol()}parseSymbol(){this.skipWhitespace();let e="";for(;this.pos<this.input.length;){const r=this.input[this.pos];if(!/[a-zA-Z0-9$]/.test(r))break;e+=r,this.pos++}if(!e)throw new Error(`Expected symbol at position ${this.pos}`);return{type:"Symbol",name:e}}skipWhitespace(){for(;this.pos<this.input.length&&/\s/.test(this.input[this.pos]);)this.pos++}parseOperator(){this.skipWhitespace();const e=this.input[this.pos],r=this.operators.find(n=>n.name===e);if(r)return this.pos++,r}}const ts=({node:t})=>{let e,r;return t.type==="BinaryExpression"?(e=[Fe(ts,{node:t.left},"left"),Fe(ts,{node:t.right},"right")],r=t.operator):t.type==="UnaryExpression"?(e=[Fe(ts,{node:t.right},"right")],r=t.operator):t.type==="Symbol"?(e=[],r=t.name):(e=[],r=t==null?void 0:t.type),Yr("div",{className:"ast-node",children:[Fe("div",{className:"content",style:{background:t.active?"#00a349":""},children:r}),e.length>0&&Fe("div",{className:"children",children:e})]})};(function(){var t=Math.floor;function e(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}function r(v,k){return k={exports:{}},v(k,k.exports),k.exports}var n=typeof globalThis>"u"?typeof window>"u"?typeof qc>"u"?typeof self>"u"?{}:self:qc:window:globalThis,i=r(function(v,k){Object.defineProperty(k,"__esModule",{value:!0}),k.define=void 0,k.define=function(b,y){Object.keys(y).forEach(function(m){try{b[m]||Object.defineProperty(b,m,{enumerable:!1,writable:!0,configurable:!0,value:y[m]})}catch{}})}});e(i),i.define;var o=r(function(v,k){var b=n&&n.__read||function(m,h){var w=typeof Symbol=="function"&&m[Symbol.iterator];if(!w)return m;var x,S,M=w.call(m),D=[];try{for(;(h===void 0||0<h--)&&!(x=M.next()).done;)D.push(x.value)}catch(A){S={error:A}}finally{try{x&&!x.done&&(w=M.return)&&w.call(M)}finally{if(S)throw S.error}}return D},y=n&&n.__spreadArray||function(m,h,w){if(w||arguments.length===2)for(var x,S=0,M=h.length;S<M;S++)(x||!(S in h))&&(x||(x=Array.prototype.slice.call(h,0,S)),x[S]=h[S]);return m.concat(x||Array.prototype.slice.call(h))};Object.defineProperty(k,"__esModule",{value:!0}),(0,i.define)(Array.prototype,{remove:function(m){var h=this.indexOf(m);return h===-1?this:(this.splice(h,1),this)},insert:function(m,h){return h||(h=this.length),this.splice(h,0,m),this},flat:function(m){return m===void 0&&(m=1),this.reduce(function(h,w){return Array.isArray(w)&&1<=m||m===-1?h.concat(w.flat(m--)):h.concat(w)},[])},last:function(){return this[this.length-1]},first:function(){return this[0]},unique:function(m){return m?y([],b(new Map(this.map(function(h,w,x){return[m(h,w,x),h]})).values()),!1):y([],b(new Set(this)),!1)},random:function(){return this[t(Math.random()*this.length)]},shuffle:function(){for(var m,h,w=this.length-1;0<w;w--)h=t(Math.random()*(w+1)),m=b([this[h],this[w]],2),this[w]=m[0],this[h]=m[1];return this},findMap:function(m){for(var h,w=0;w<this.length;w++)if(h=m(this[w],w,this),h)return h},findLast:function(m){for(var h=this.length;0<=h;h--)if(m(this[h],h,this))return this[h];return null},findLastIndex:function(m){for(var h=this.length-1;0<=h;h--)if(m(this[h],h,this))return h;return-1},count:function(m){var h=["string","number","object","array"],w=0;return this.forEach(function(x){if(x===m)return void w++;if(typeof m=="function"){var S=m.name.toLowerCase();if(h.includes(S)&&typeof x===S||x instanceof m)return void w++}return typeof x=="string"&&x.match(m)?void w++:void 0}),w},missing:function(m){return this.filter(function(h){return!m.includes(h)})},similarities:function(m){return this.filter(function(h){return m.includes(h)})}})});e(o);var a=r(function(v,k){var b=n&&n.__read||function(m,h){var w=typeof Symbol=="function"&&m[Symbol.iterator];if(!w)return m;var x,S,M=w.call(m),D=[];try{for(;(h===void 0||0<h--)&&!(x=M.next()).done;)D.push(x.value)}catch(A){S={error:A}}finally{try{x&&!x.done&&(w=M.return)&&w.call(M)}finally{if(S)throw S.error}}return D},y=n&&n.__spreadArray||function(m,h,w){if(w||arguments.length===2)for(var x,S=0,M=h.length;S<M;S++)(x||!(S in h))&&(x||(x=Array.prototype.slice.call(h,0,S)),x[S]=h[S]);return m.concat(x||Array.prototype.slice.call(h))};Object.defineProperty(k,"__esModule",{value:!0});try{globalThis.atob||(globalThis.atob=function(m){return Buffer.from(m,"base64").toString("utf8")}),globalThis.btoa||(globalThis.btoa=function(m){return Buffer.from(m.toString(),"utf8").toString("base64")}),globalThis.setIntervalNow||(globalThis.setIntervalNow=function(m,h){for(var w=[],x=2;x<arguments.length;x++)w[x-2]=arguments[x];var S=m.bind.apply(m,y([this],b(w),!1));return S(),setInterval(S,h)}),globalThis.sleep||(globalThis.sleep=function(m){return new Promise(function(h){return setTimeout(h,m)})})}catch{}});e(a);var s=r(function(v,k){Object.defineProperty(k,"__esModule",{value:!0}),(0,i.define)(Math,{randomBetween:function(b,y){return Math.random()*(y-b)+b},randomIntBetween:function(b,y){return Math.round(Math.randomBetween(b,y))}})});e(s);var l=r(function(v,k){Object.defineProperty(k,"__esModule",{value:!0}),(0,i.define)(Number.prototype,{toInt:function(){return t(this)}})});e(l);var u=r(function(v,k){function b(w){for(var x,S,M=[],D=1;D<arguments.length;D++)M[D-1]=arguments[D];if(!M.length)return w;var A=M.shift();if(y(w)&&y(A))for(var F in A)y(A[F])?(w[F]||Object.assign(w,(x={},x[F]={},x)),b(w[F],A[F])):Object.assign(w,(S={},S[F]=A[F],S));return b.apply(void 0,h([w],m(M),!1))}function y(w){var x;return w&&typeof w=="object"&&!Array.isArray(w)&&((x=w==null?void 0:w.constructor)===null||x===void 0?void 0:x.name)==="Object"}var m=n&&n.__read||function(w,x){var S=typeof Symbol=="function"&&w[Symbol.iterator];if(!S)return w;var M,D,A=S.call(w),F=[];try{for(;(x===void 0||0<x--)&&!(M=A.next()).done;)F.push(M.value)}catch(H){D={error:H}}finally{try{M&&!M.done&&(S=A.return)&&S.call(A)}finally{if(D)throw D.error}}return F},h=n&&n.__spreadArray||function(w,x,S){if(S||arguments.length===2)for(var M,D=0,A=x.length;D<A;D++)(M||!(D in x))&&(M||(M=Array.prototype.slice.call(x,0,D)),M[D]=x[D]);return w.concat(M||Array.prototype.slice.call(x))};Object.defineProperty(k,"__esModule",{value:!0}),(0,i.define)(Object.prototype,{forEach:function(w){var x=this;return Object.keys(this).forEach(function(S){return w(x[S],S)})},map:function(w){var x=this,S={};return Object.keys(this).forEach(function(M){S[M]=w(x[M],M)}),S},keys:function(){return Object.keys(this)},entries:function(){return Object.entries(this)},merge:function(w){return b(w||{},this)},stringify:function(){return JSON.stringify(this)}})});e(u);var c=r(function(v,k){Object.defineProperty(k,"__esModule",{value:!0}),(0,i.define)(Promise.prototype,{caught:function(){return this.catch(console.error),this}})});e(c);var d=r(function(v,k){function b(y){return y.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}Object.defineProperty(k,"__esModule",{value:!0}),(0,i.define)(String.prototype,{capitalize:function(){return this.slice(0,1).toUpperCase()+this.slice(1)},title:function(){return this.split(" ").map(function(y){return y.capitalize()}).join(" ")},replaceAll:function(y,m){return this.replace(new RegExp(b(y),"g"),m)},similarity:function(y){var m=this.replace(/\s+/g,"");if(y=y.replace(/\s+/g,""),!m.length&&!y.length)return 1;if(!m.length||!y.length)return 0;if(m===y)return 1;if(m.length===1&&y.length===1||2>m.length||2>y.length)return 0;for(var h=new Map,w=new Map,x=0;x<m.length-1;x++){var S=m.substring(x,x+2),M=h.has(S)?h.get(S)+1:1,D=w.has(S.toLowerCase())?w.get(S.toLowerCase())+1:1;w.set(S.toLowerCase(),D),h.set(S,M)}for(var A=0,x=0;x<y.length-1;x++){var S=y.substring(x,x+2),M=h.has(S)?h.get(S):0,D=h.has(S.toLowerCase())?h.get(S.toLowerCase()):0;0<M&&(h.set(S,M-1),A++),0<D&&(h.set(S.toLowerCase(),D-1),A+=.9)}return 2*A/(m.length+y.length-2)},join:function(y){return typeof y=="string"?y:y.join(this)},partition:function(y){if(!this.includes(y))return[this];for(var m=[],h=this.split(y),w=0;w<h.length;w++)m.push(h[w]),w!=h.length-1&&m.push(y);return m},toNumber:function(){return+this},toBigInt:function(){try{return BigInt(this)}catch{return NaN}},equalsIgnoreCase:function(y){return this.toLowerCase()===y.toLowerCase()},count:function(y){return this.split(y).length-1},swapcase:function(){return this.split("").map(function(y){return y===y.toUpperCase()?y.toLowerCase():y.toUpperCase()}).join("")},toObject:function(){return JSON.parse(this)},toBoolean:function(){switch(this.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!this}}})});e(d);var p=r(function(v,k){Object.defineProperty(k,"__esModule",{value:!0}),(0,i.define)(Date,{nowSeconds:function(){return t(Date.now()/1e3)}})});e(p);var f=r(function(v,k){Object.defineProperty(k,"__esModule",{value:!0})}),g=e(f);return g})();function kr(t){return t.type===Qt&&t.name===Vi}function Or(t){return t.type===Qt&&t.name===ji}function zi(t){delete t.active,t.type===Te?(zi(t.left),zi(t.right)):t.type===Ae&&zi(t.right)}function vi(t){return t.active=!0,t.type===Te?(t.left.active=!0,t.right.active=!0):t.type===Ae&&(t.right.active=!0),t}function To(t){return t.active=!0,t.type===Te?(To(t.left),To(t.right)):t.type===Ae&&To(t.right),t}function xr(t,e){return t.type!=e.type?!1:t.type===Qt&&e.type===Qt?t.name===e.name:t.type===Te&&e.type===Te?t.operator===e.operator&&xr(t.left,e.left)&&xr(t.right,e.right):t.type===Ae&&e.type===Ae?t.operator===e.operator&&xr(t.right,e.right):!1}function kn(t,e){return t.type===Qt&&e.type===Ae&&e.operator===Xe&&e.right.type===Qt&&e.right.name===t.name&&vi(e)}function an(t,e,r){return t.type===Qt&&e.type===Te&&e.operator===r&&(xr(e.left,t)||xr(e.right,t))&&vi(e)}function Us(t,e,r){return t.type!==Te&&e.type===Te&&e.operator===r}function Ws(t,e,r){return To(t),To(e),{type:Te,operator:r===Ge?rt:Ge,active:!0,left:{type:Te,operator:r,active:!0,left:t.left,right:{...e}},right:{type:Te,operator:r,active:!0,left:t.right,right:e}}}function*P3(t,e){if(xr(t,e))return t;if(Or(t)||Or(e))return Er;if(kr(t))return e;if(kr(e))return t;if(kn(t,e)||kn(e,t))return Er;if(an(t,e,rt))return t;if(an(e,t,rt))return e;if(an(t,e,Ge))return t;if(an(e,t,Ge))return e;if(Us(t,e,Ge))return Ws(e,t,rt);if(Us(e,t,Ge))return Ws(t,e,rt)}function*O3(t,e){if(xr(t,e))return t;if(kr(t)||kr(e))return ta;if(Or(t))return e;if(Or(e))return t;if(an(t,e,Ge))return e;if(an(e,t,Ge)||an(t,e,rt))return t;if(an(e,t,rt))return e;if(kn(t,e)||kn(e,t))return ta;if(Us(t,e,rt))return Ws(e,t,Ge);if(Us(e,t,rt))return Ws(t,e,Ge)}function*K3(t,e){return kr(t)||Or(e)?Er:kr(e)?{type:Ae,operator:Xe,right:t}:xr(t,e)?Er:kn(t,e)?{type:Ae,operator:Xe,right:t}:kn(e,t)?e:{type:Te,operator:rt,left:{type:Ae,operator:Xe,active:!0,right:{...t,active:!0}},right:e}}function*F3(t,e){return xr(t,e)?Er:kn(t,e)||kn(e,t)?ta:kr(t)?{type:Ae,operator:Xe,right:e}:kr(e)?{type:Ae,operator:Xe,right:t}:Or(t)?e:Or(e)?t:{type:Ae,operator:Xe,right:{type:Te,operator:Sl,left:t,right:e}}}function*R3(t,e){return xr(t,e)?ta:kr(t)?Or(e)?Er:e:kr(e)?Or(e)?Er:t:{type:Te,operator:rt,left:{type:Te,operator:Ge,left:{type:Ae,operator:Xe,right:t},right:e},right:{type:Te,operator:Ge,left:t,right:{type:Ae,operator:Xe,right:{...e}}}}}function*q3(t){if(t.type===Ae){if(t.operator===Xe)return t.right}else if(t.type===Te){if(t.operator===Ge)return{type:Te,operator:rt,left:{type:Ae,operator:Xe,right:t.left},right:{type:Ae,operator:Xe,right:t.right}};if(t.operator===rt)return{type:Te,operator:Ge,left:{type:Ae,operator:Xe,right:t.left},right:{type:Ae,operator:Xe,right:t.right}}}else if(t.type===Qt){if(t.name===ji)return ta;if(t.name===Vi)return Er}}function*Do(t,e=void 0){e||(e=t);let r;switch(t.type){case Te:var{operator:i}=t,n=yield*Do(t.left,e);n.active!==!1&&(vi(t.left),console.log("yield left active root"),yield e,t.left=n,yield e),t.left=n,zi(t.left);var o=yield*Do(t.right,e);o.active!==!1&&(vi(t.right),console.log("yield right active root"),yield e,t.right=o,yield e),t.right=o,zi(t.right),i===Ge?r=yield*O3(n,o):i===rt?r=yield*P3(n,o):i===wl?r=yield*K3(n,o):i===_l?r=yield*F3(n,o):i===Sl&&(r=yield*R3(n,o));break;case Ae:var{operator:i}=t,o=yield*Do(t.right,e);o.active!==!1&&(vi(t.right),console.log("yield unary root"),yield e,t.right=o,yield e),i===Xe&&(r=yield*q3(o));break}return r?(e===t?(console.log("root === ast"),vi(t),yield t,zi(r)):r.active=!0,r):{...t,active:!1}}function jt(t,e){switch(t.type){case Te:switch(t.operator){case Ge:return jt(t.left,e)&&jt(t.right,e);case rt:return jt(t.left,e)||jt(t.right,e);case wl:return!jt(t.left,e)||jt(t.right,e);case _l:return jt(t.left,e)===jt(t.right,e);case Sl:return jt(t.left,e)!==jt(t.right,e);default:return!1}case Ae:switch(t.operator){case Xe:return!jt(t.right,e);default:return!1}case Qt:return t.name===ji?!0:t.name===Vi?!1:e[t.name];default:return!1}}function R1(t){const e=rs(t).sort(),r=2**e.length,n=[];for(let i=0;i<r;i++){const o={};for(let s=0;s<e.length;s++)o[e[s]]=Boolean(i>>s&1);const a=jt(t,o);n.push({result:a,variables:o})}return{values:n,variables:e}}function rs(t){switch(t.type){case Te:return[...new Set([...rs(t.left),...rs(t.right)])];case Ae:return rs(t.right);case Qt:return t.name===ji||t.name===Vi?[]:[t.name];default:return[]}}globalThis.evaluateAll=R1;function I3({ast:t}){if(!t)return null;const{values:e,variables:r}=Ai.useMemo(()=>R1(t),[t]);return Yr("table",{children:[Fe("thead",{children:Yr("tr",{children:[r.map((n,i)=>Fe("th",{children:n},i)),Fe("th",{children:"Result"})]})}),Fe("tbody",{children:e.map((n,i)=>Yr("tr",{children:[Object.entries(n.variables).map(([o,a])=>Fe("td",{children:a?"True":"False"},i)),Fe("td",{children:n.result?"True":"False"})]},i))})]})}const q1=new N3;globalThis.parser=q1;globalThis.transform=Do;class j3 extends Ai.Component{constructor(){super(...arguments);xt(this,"state",{ast:null,error:null,value:"((p  q)  (p  r)  (s  s))  (q  r)"});xt(this,"history");xt(this,"index");xt(this,"iterator");xt(this,"focused",!1);xt(this,"onChange",r=>{try{var n=r.target.value.replace(/(XOR)/gi,"").replace(/(XNOR)/gi,"").replace(/(NOR)/gi,"").replace(/(NAND)/gi,"").replace(/[*]|(AND)/gi,Ge).replace(/[+]|(OR)/gi,rt).replace(/(<->)(IFF)/gi,_l).replace(/(->)|(IMPLIES)/gi,wl).replace(/(TRUE)/gi,ji).replace(/(FALSE)/gi,Vi).replace(/[!]|(NOT)/gi,Xe);this.setState({value:n});const i=q1.parse(n);this.index=-1,this.iterator=null,this.history=[JSON.parse(JSON.stringify(i))],this.state.ast=i,this.simplify(),globalThis.ast=i}catch(i){this.setState({error:i,ast:null}),console.log(i)}});xt(this,"simplify",async()=>{this.iterator||(this.iterator=Do(this.state.ast,this.state.ast));let r=this.iterator.next();this.history.push(JSON.parse(JSON.stringify(r.value))),r.done&&(this.iterator=null),console.log(this.index+1,this.history,r.value),this.setState({ast:this.history[++this.index],error:null})});xt(this,"next",()=>{if(console.log(this.index+1,"go next"),this.index>=this.history.length-1)return this.simplify();this.setState({ast:this.history[++this.index]})});xt(this,"previous",()=>{this.index<=0||(console.log(this.index-1,"previous"),this.setState({ast:this.history[--this.index]}))});xt(this,"skip",()=>{this.iterator||this.simplify();for(const r of this.iterator)this.history.push(JSON.parse(JSON.stringify(r)));this.iterator=null,this.index=this.history.length-1,this.setState({ast:this.history[this.index]})})}componentDidMount(){console.log("mounted"),window.addEventListener("keydown",r=>{this.focused||(r.code==="Enter"||r.code==="Space"||r.code==="ArrowRight"?this.next():r.code==="ArrowLeft"&&this.previous())}),this.onChange({target:{value:this.state.value}})}render(){return Yr("div",{className:"App",children:[Yr("div",{className:"container",children:[Fe("input",{onBlur:()=>this.focused=!1,onFocus:()=>this.focused=!0,type:"text",onChange:this.onChange,value:this.state.value}),Yr("div",{style:{display:"flex",gap:"0.2rem"},children:[Fe("button",{onClick:this.previous,children:"<"}),Fe("button",{onClick:this.next,children:">"}),Fe("button",{onClick:this.skip,children:"Skip"})]})]}),Yr("div",{style:{marginTop:"1rem",overflow:"scroll",marginBottom:"3rem"},children:[this.state.ast&&Fe(ts,{node:this.state.ast}),this.state.error&&Fe("div",{children:this.state.error.message})]}),Fe("div",{className:"container",children:Fe(I3,{ast:this.state.ast})})]})}}vu.createRoot(document.getElementById("root")).render(Fe(j3,{}));
